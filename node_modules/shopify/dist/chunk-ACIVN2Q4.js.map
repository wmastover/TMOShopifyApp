{
  "version": 3,
  "sources": ["../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/compile/codegen/code.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/compile/codegen/scope.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/compile/codegen/index.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/compile/util.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/compile/names.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/compile/errors.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/compile/validate/boolSchema.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/compile/rules.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/compile/validate/applicability.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/compile/validate/dataType.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/compile/validate/defaults.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/vocabularies/code.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/compile/validate/keyword.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/compile/validate/subschema.ts", "../../../node_modules/.pnpm/fast-deep-equal@3.1.3/node_modules/fast-deep-equal/index.js", "../../../node_modules/.pnpm/json-schema-traverse@1.0.0/node_modules/json-schema-traverse/index.js", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/compile/resolve.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/compile/validate/index.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/runtime/validation_error.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/compile/ref_error.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/compile/index.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/refs/data.json", "../../../node_modules/.pnpm/fast-uri@3.0.5/node_modules/fast-uri/lib/scopedChars.js", "../../../node_modules/.pnpm/fast-uri@3.0.5/node_modules/fast-uri/lib/utils.js", "../../../node_modules/.pnpm/fast-uri@3.0.5/node_modules/fast-uri/lib/schemes.js", "../../../node_modules/.pnpm/fast-uri@3.0.5/node_modules/fast-uri/index.js", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/runtime/uri.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/core.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/vocabularies/core/id.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/vocabularies/core/ref.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/vocabularies/core/index.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/vocabularies/validation/limitNumber.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/vocabularies/validation/multipleOf.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/runtime/ucs2length.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/vocabularies/validation/limitLength.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/vocabularies/validation/pattern.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/vocabularies/validation/limitProperties.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/vocabularies/validation/required.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/vocabularies/validation/limitItems.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/runtime/equal.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/vocabularies/validation/uniqueItems.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/vocabularies/validation/const.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/vocabularies/validation/enum.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/vocabularies/validation/index.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/vocabularies/applicator/additionalItems.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/vocabularies/applicator/items.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/vocabularies/applicator/prefixItems.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/vocabularies/applicator/items2020.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/vocabularies/applicator/contains.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/vocabularies/applicator/dependencies.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/vocabularies/applicator/propertyNames.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/vocabularies/applicator/additionalProperties.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/vocabularies/applicator/properties.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/vocabularies/applicator/patternProperties.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/vocabularies/applicator/not.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/vocabularies/applicator/anyOf.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/vocabularies/applicator/oneOf.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/vocabularies/applicator/allOf.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/vocabularies/applicator/if.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/vocabularies/applicator/thenElse.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/vocabularies/applicator/index.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/vocabularies/format/format.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/vocabularies/format/index.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/vocabularies/metadata.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/vocabularies/draft7.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/vocabularies/discriminator/types.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/vocabularies/discriminator/index.ts", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/dist/refs/json-schema-draft-07.json", "../../../node_modules/.pnpm/ajv@8.17.1/node_modules/ajv/lib/ajv.ts", "../../../node_modules/.pnpm/ajv-formats@2.1.1_ajv@8.17.1/node_modules/ajv-formats/src/formats.ts", "../../../node_modules/.pnpm/ajv-formats@2.1.1_ajv@8.17.1/node_modules/ajv-formats/src/limit.ts", "../../../node_modules/.pnpm/ajv-formats@2.1.1_ajv@8.17.1/node_modules/ajv-formats/src/index.ts", "../../../node_modules/.pnpm/defer-to-connect@2.0.1/node_modules/defer-to-connect/dist/source/index.js", "../../../node_modules/.pnpm/http-cache-semantics@4.1.1/node_modules/http-cache-semantics/index.js", "../../../node_modules/.pnpm/json-buffer@3.0.1/node_modules/json-buffer/index.js", "../../../node_modules/.pnpm/keyv@4.5.4/node_modules/keyv/src/index.js", "../../../node_modules/.pnpm/mimic-response@3.1.0/node_modules/mimic-response/index.js", "../../../node_modules/.pnpm/decompress-response@6.0.0/node_modules/decompress-response/index.js", "../../../node_modules/.pnpm/quick-lru@5.1.1/node_modules/quick-lru/index.js", "../../../node_modules/.pnpm/http2-wrapper@2.2.1/node_modules/http2-wrapper/source/utils/delay-async-destroy.js", "../../../node_modules/.pnpm/http2-wrapper@2.2.1/node_modules/http2-wrapper/source/agent.js", "../../../node_modules/.pnpm/http2-wrapper@2.2.1/node_modules/http2-wrapper/source/incoming-message.js", "../../../node_modules/.pnpm/http2-wrapper@2.2.1/node_modules/http2-wrapper/source/utils/proxy-events.js", "../../../node_modules/.pnpm/http2-wrapper@2.2.1/node_modules/http2-wrapper/source/utils/errors.js", "../../../node_modules/.pnpm/http2-wrapper@2.2.1/node_modules/http2-wrapper/source/utils/is-request-pseudo-header.js", "../../../node_modules/.pnpm/http2-wrapper@2.2.1/node_modules/http2-wrapper/source/utils/validate-header-name.js", "../../../node_modules/.pnpm/http2-wrapper@2.2.1/node_modules/http2-wrapper/source/utils/validate-header-value.js", "../../../node_modules/.pnpm/http2-wrapper@2.2.1/node_modules/http2-wrapper/source/utils/proxy-socket-handler.js", "../../../node_modules/.pnpm/http2-wrapper@2.2.1/node_modules/http2-wrapper/source/client-request.js", "../../../node_modules/.pnpm/resolve-alpn@1.2.1/node_modules/resolve-alpn/index.js", "../../../node_modules/.pnpm/http2-wrapper@2.2.1/node_modules/http2-wrapper/source/utils/calculate-server-name.js", "../../../node_modules/.pnpm/http2-wrapper@2.2.1/node_modules/http2-wrapper/source/auto.js", "../../../node_modules/.pnpm/http2-wrapper@2.2.1/node_modules/http2-wrapper/source/utils/js-stream-socket.js", "../../../node_modules/.pnpm/http2-wrapper@2.2.1/node_modules/http2-wrapper/source/proxies/unexpected-status-code-error.js", "../../../node_modules/.pnpm/http2-wrapper@2.2.1/node_modules/http2-wrapper/source/utils/check-type.js", "../../../node_modules/.pnpm/http2-wrapper@2.2.1/node_modules/http2-wrapper/source/proxies/initialize.js", "../../../node_modules/.pnpm/http2-wrapper@2.2.1/node_modules/http2-wrapper/source/proxies/get-auth-headers.js", "../../../node_modules/.pnpm/http2-wrapper@2.2.1/node_modules/http2-wrapper/source/proxies/h1-over-h2.js", "../../../node_modules/.pnpm/http2-wrapper@2.2.1/node_modules/http2-wrapper/source/proxies/h2-over-hx.js", "../../../node_modules/.pnpm/http2-wrapper@2.2.1/node_modules/http2-wrapper/source/proxies/h2-over-h2.js", "../../../node_modules/.pnpm/http2-wrapper@2.2.1/node_modules/http2-wrapper/source/proxies/h2-over-h1.js", "../../../node_modules/.pnpm/http2-wrapper@2.2.1/node_modules/http2-wrapper/source/index.js", "../../../node_modules/.pnpm/ini@1.3.8/node_modules/ini/ini.js", "../../../node_modules/.pnpm/strip-json-comments@2.0.1/node_modules/strip-json-comments/index.js", "../../../node_modules/.pnpm/rc@1.2.8/node_modules/rc/lib/utils.js", "../../../node_modules/.pnpm/deep-extend@0.6.0/node_modules/deep-extend/lib/deep-extend.js", "../../../node_modules/.pnpm/minimist@1.2.8/node_modules/minimist/index.js", "../../../node_modules/.pnpm/rc@1.2.8/node_modules/rc/index.js", "../../../node_modules/.pnpm/graceful-fs@4.2.10/node_modules/graceful-fs/polyfills.js", "../../../node_modules/.pnpm/graceful-fs@4.2.10/node_modules/graceful-fs/legacy-streams.js", "../../../node_modules/.pnpm/graceful-fs@4.2.10/node_modules/graceful-fs/clone.js", "../../../node_modules/.pnpm/graceful-fs@4.2.10/node_modules/graceful-fs/graceful-fs.js", "../../../node_modules/.pnpm/@pnpm+network.ca-file@1.0.2/node_modules/@pnpm/network.ca-file/ca-file.ts", "../../../node_modules/.pnpm/@pnpm+network.ca-file@1.0.2/node_modules/@pnpm/network.ca-file/index.ts", "../../../node_modules/.pnpm/proto-list@1.2.4/node_modules/proto-list/proto-list.js", "../../../node_modules/.pnpm/config-chain@1.1.13/node_modules/config-chain/index.js", "../../../node_modules/.pnpm/@pnpm+npm-conf@2.2.2/node_modules/@pnpm/npm-conf/lib/envKeyToSetting.js", "../../../node_modules/.pnpm/@pnpm+config.env-replace@1.1.0/node_modules/@pnpm/config.env-replace/env-replace.ts", "../../../node_modules/.pnpm/@pnpm+config.env-replace@1.1.0/node_modules/@pnpm/config.env-replace/index.ts", "../../../node_modules/.pnpm/@pnpm+npm-conf@2.2.2/node_modules/@pnpm/npm-conf/lib/util.js", "../../../node_modules/.pnpm/@pnpm+npm-conf@2.2.2/node_modules/@pnpm/npm-conf/lib/types.js", "../../../node_modules/.pnpm/@pnpm+npm-conf@2.2.2/node_modules/@pnpm/npm-conf/lib/conf.js", "../../../node_modules/.pnpm/@pnpm+npm-conf@2.2.2/node_modules/@pnpm/npm-conf/lib/defaults.js", "../../../node_modules/.pnpm/@pnpm+npm-conf@2.2.2/node_modules/@pnpm/npm-conf/index.js", "../../../node_modules/.pnpm/registry-auth-token@5.0.2/node_modules/registry-auth-token/index.js", "../../cli-kit/src/public/node/node-package-manager.ts", "../../cli-kit/src/private/node/conf-store.ts", "../../cli-kit/src/public/node/local-storage.ts", "../../../node_modules/.pnpm/conf@11.0.2/node_modules/conf/dist/source/index.js", "../../../node_modules/.pnpm/dot-prop@7.2.0/node_modules/dot-prop/index.js", "../../../node_modules/.pnpm/atomically@2.0.3/node_modules/atomically/dist/index.js", "../../../node_modules/.pnpm/stubborn-fs@1.2.5/node_modules/stubborn-fs/dist/index.js", "../../../node_modules/.pnpm/stubborn-fs@1.2.5/node_modules/stubborn-fs/dist/attemptify.js", "../../../node_modules/.pnpm/stubborn-fs@1.2.5/node_modules/stubborn-fs/dist/constants.js", "../../../node_modules/.pnpm/stubborn-fs@1.2.5/node_modules/stubborn-fs/dist/handlers.js", "../../../node_modules/.pnpm/stubborn-fs@1.2.5/node_modules/stubborn-fs/dist/retryify.js", "../../../node_modules/.pnpm/stubborn-fs@1.2.5/node_modules/stubborn-fs/dist/retryify_queue.js", "../../../node_modules/.pnpm/atomically@2.0.3/node_modules/atomically/dist/constants.js", "../../../node_modules/.pnpm/atomically@2.0.3/node_modules/atomically/dist/utils/lang.js", "../../../node_modules/.pnpm/atomically@2.0.3/node_modules/atomically/dist/utils/scheduler.js", "../../../node_modules/.pnpm/atomically@2.0.3/node_modules/atomically/dist/utils/temp.js", "../../../node_modules/.pnpm/when-exit@2.1.2/node_modules/when-exit/dist/node/index.js", "../../../node_modules/.pnpm/when-exit@2.1.2/node_modules/when-exit/dist/node/interceptor.js", "../../../node_modules/.pnpm/when-exit@2.1.2/node_modules/when-exit/dist/node/constants.js", "../../../node_modules/.pnpm/when-exit@2.1.2/node_modules/when-exit/dist/node/signals.js", "../../../node_modules/.pnpm/debounce-fn@5.1.2/node_modules/debounce-fn/index.js", "../../../node_modules/.pnpm/latest-version@7.0.0/node_modules/latest-version/index.js", "../../../node_modules/.pnpm/package-json@8.1.1/node_modules/package-json/index.js", "../../../node_modules/.pnpm/got@12.6.1/node_modules/got/dist/source/index.js", "../../../node_modules/.pnpm/got@12.6.1/node_modules/got/dist/source/create.js", "../../../node_modules/.pnpm/@sindresorhus+is@5.6.0/node_modules/@sindresorhus/is/dist/index.js", "../../../node_modules/.pnpm/got@12.6.1/node_modules/got/dist/source/as-promise/index.js", "../../../node_modules/.pnpm/p-cancelable@3.0.0/node_modules/p-cancelable/index.js", "../../../node_modules/.pnpm/got@12.6.1/node_modules/got/dist/source/core/errors.js", "../../../node_modules/.pnpm/got@12.6.1/node_modules/got/dist/source/core/index.js", "../../../node_modules/.pnpm/@szmarczak+http-timer@5.0.1/node_modules/@szmarczak/http-timer/dist/source/index.js", "../../../node_modules/.pnpm/cacheable-request@10.2.14/node_modules/cacheable-request/src/index.ts", "../../../node_modules/.pnpm/normalize-url@8.0.1/node_modules/normalize-url/index.js", "../../../node_modules/.pnpm/responselike@3.0.0/node_modules/responselike/index.js", "../../../node_modules/.pnpm/lowercase-keys@3.0.0/node_modules/lowercase-keys/index.js", "../../../node_modules/.pnpm/mimic-response@4.0.0/node_modules/mimic-response/index.js", "../../../node_modules/.pnpm/cacheable-request@10.2.14/node_modules/cacheable-request/src/types.ts", "../../../node_modules/.pnpm/form-data-encoder@2.1.4/node_modules/form-data-encoder/lib/FormDataEncoder.js", "../../../node_modules/.pnpm/form-data-encoder@2.1.4/node_modules/form-data-encoder/lib/util/getStreamIterator.js", "../../../node_modules/.pnpm/form-data-encoder@2.1.4/node_modules/form-data-encoder/lib/util/isFunction.js", "../../../node_modules/.pnpm/form-data-encoder@2.1.4/node_modules/form-data-encoder/lib/util/createBoundary.js", "../../../node_modules/.pnpm/form-data-encoder@2.1.4/node_modules/form-data-encoder/lib/util/normalizeValue.js", "../../../node_modules/.pnpm/form-data-encoder@2.1.4/node_modules/form-data-encoder/lib/util/isPlainObject.js", "../../../node_modules/.pnpm/form-data-encoder@2.1.4/node_modules/form-data-encoder/lib/util/proxyHeaders.js", "../../../node_modules/.pnpm/form-data-encoder@2.1.4/node_modules/form-data-encoder/lib/util/isFormData.js", "../../../node_modules/.pnpm/form-data-encoder@2.1.4/node_modules/form-data-encoder/lib/util/escapeName.js", "../../../node_modules/.pnpm/form-data-encoder@2.1.4/node_modules/form-data-encoder/lib/util/isFile.js", "../../../node_modules/.pnpm/got@12.6.1/node_modules/got/dist/source/core/utils/get-body-size.js", "../../../node_modules/.pnpm/got@12.6.1/node_modules/got/dist/source/core/utils/is-form-data.js", "../../../node_modules/.pnpm/got@12.6.1/node_modules/got/dist/source/core/utils/proxy-events.js", "../../../node_modules/.pnpm/got@12.6.1/node_modules/got/dist/source/core/timed-out.js", "../../../node_modules/.pnpm/got@12.6.1/node_modules/got/dist/source/core/utils/unhandle.js", "../../../node_modules/.pnpm/got@12.6.1/node_modules/got/dist/source/core/utils/url-to-options.js", "../../../node_modules/.pnpm/got@12.6.1/node_modules/got/dist/source/core/utils/weakable-map.js", "../../../node_modules/.pnpm/got@12.6.1/node_modules/got/dist/source/core/calculate-retry-delay.js", "../../../node_modules/.pnpm/got@12.6.1/node_modules/got/dist/source/core/options.js", "../../../node_modules/.pnpm/cacheable-lookup@7.0.0/node_modules/cacheable-lookup/source/index.js", "../../../node_modules/.pnpm/got@12.6.1/node_modules/got/dist/source/core/parse-link-header.js", "../../../node_modules/.pnpm/got@12.6.1/node_modules/got/dist/source/core/response.js", "../../../node_modules/.pnpm/got@12.6.1/node_modules/got/dist/source/core/utils/is-client-request.js", "../../../node_modules/.pnpm/got@12.6.1/node_modules/got/dist/source/core/utils/is-unix-socket-url.js", "../../../node_modules/.pnpm/got@12.6.1/node_modules/got/dist/source/as-promise/types.js", "../../../node_modules/.pnpm/registry-url@6.0.1/node_modules/registry-url/index.js"],
  "sourcesContent": ["// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nexport abstract class _CodeOrName {\n  abstract readonly str: string\n  abstract readonly names: UsedNames\n  abstract toString(): string\n  abstract emptyStr(): boolean\n}\n\nexport const IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i\n\nexport class Name extends _CodeOrName {\n  readonly str: string\n  constructor(s: string) {\n    super()\n    if (!IDENTIFIER.test(s)) throw new Error(\"CodeGen: name must be a valid identifier\")\n    this.str = s\n  }\n\n  toString(): string {\n    return this.str\n  }\n\n  emptyStr(): boolean {\n    return false\n  }\n\n  get names(): UsedNames {\n    return {[this.str]: 1}\n  }\n}\n\nexport class _Code extends _CodeOrName {\n  readonly _items: readonly CodeItem[]\n  private _str?: string\n  private _names?: UsedNames\n\n  constructor(code: string | readonly CodeItem[]) {\n    super()\n    this._items = typeof code === \"string\" ? [code] : code\n  }\n\n  toString(): string {\n    return this.str\n  }\n\n  emptyStr(): boolean {\n    if (this._items.length > 1) return false\n    const item = this._items[0]\n    return item === \"\" || item === '\"\"'\n  }\n\n  get str(): string {\n    return (this._str ??= this._items.reduce((s: string, c: CodeItem) => `${s}${c}`, \"\"))\n  }\n\n  get names(): UsedNames {\n    return (this._names ??= this._items.reduce((names: UsedNames, c) => {\n      if (c instanceof Name) names[c.str] = (names[c.str] || 0) + 1\n      return names\n    }, {}))\n  }\n}\n\nexport type CodeItem = Name | string | number | boolean | null\n\nexport type UsedNames = Record<string, number | undefined>\n\nexport type Code = _Code | Name\n\nexport type SafeExpr = Code | number | boolean | null\n\nexport const nil = new _Code(\"\")\n\ntype CodeArg = SafeExpr | string | undefined\n\nexport function _(strs: TemplateStringsArray, ...args: CodeArg[]): _Code {\n  const code: CodeItem[] = [strs[0]]\n  let i = 0\n  while (i < args.length) {\n    addCodeArg(code, args[i])\n    code.push(strs[++i])\n  }\n  return new _Code(code)\n}\n\nconst plus = new _Code(\"+\")\n\nexport function str(strs: TemplateStringsArray, ...args: (CodeArg | string[])[]): _Code {\n  const expr: CodeItem[] = [safeStringify(strs[0])]\n  let i = 0\n  while (i < args.length) {\n    expr.push(plus)\n    addCodeArg(expr, args[i])\n    expr.push(plus, safeStringify(strs[++i]))\n  }\n  optimize(expr)\n  return new _Code(expr)\n}\n\nexport function addCodeArg(code: CodeItem[], arg: CodeArg | string[]): void {\n  if (arg instanceof _Code) code.push(...arg._items)\n  else if (arg instanceof Name) code.push(arg)\n  else code.push(interpolate(arg))\n}\n\nfunction optimize(expr: CodeItem[]): void {\n  let i = 1\n  while (i < expr.length - 1) {\n    if (expr[i] === plus) {\n      const res = mergeExprItems(expr[i - 1], expr[i + 1])\n      if (res !== undefined) {\n        expr.splice(i - 1, 3, res)\n        continue\n      }\n      expr[i++] = \"+\"\n    }\n    i++\n  }\n}\n\nfunction mergeExprItems(a: CodeItem, b: CodeItem): CodeItem | undefined {\n  if (b === '\"\"') return a\n  if (a === '\"\"') return b\n  if (typeof a == \"string\") {\n    if (b instanceof Name || a[a.length - 1] !== '\"') return\n    if (typeof b != \"string\") return `${a.slice(0, -1)}${b}\"`\n    if (b[0] === '\"') return a.slice(0, -1) + b.slice(1)\n    return\n  }\n  if (typeof b == \"string\" && b[0] === '\"' && !(a instanceof Name)) return `\"${a}${b.slice(1)}`\n  return\n}\n\nexport function strConcat(c1: Code, c2: Code): Code {\n  return c2.emptyStr() ? c1 : c1.emptyStr() ? c2 : str`${c1}${c2}`\n}\n\n// TODO do not allow arrays here\nfunction interpolate(x?: string | string[] | number | boolean | null): SafeExpr | string {\n  return typeof x == \"number\" || typeof x == \"boolean\" || x === null\n    ? x\n    : safeStringify(Array.isArray(x) ? x.join(\",\") : x)\n}\n\nexport function stringify(x: unknown): Code {\n  return new _Code(safeStringify(x))\n}\n\nexport function safeStringify(x: unknown): string {\n  return JSON.stringify(x)\n    .replace(/\\u2028/g, \"\\\\u2028\")\n    .replace(/\\u2029/g, \"\\\\u2029\")\n}\n\nexport function getProperty(key: Code | string | number): Code {\n  return typeof key == \"string\" && IDENTIFIER.test(key) ? new _Code(`.${key}`) : _`[${key}]`\n}\n\n//Does best effort to format the name properly\nexport function getEsmExportName(key: Code | string | number): Code {\n  if (typeof key == \"string\" && IDENTIFIER.test(key)) {\n    return new _Code(`${key}`)\n  }\n  throw new Error(`CodeGen: invalid export name: ${key}, use explicit $id name mapping`)\n}\n\nexport function regexpCode(rx: RegExp): Code {\n  return new _Code(rx.toString())\n}\n", "import {_, nil, Code, Name} from \"./code\"\n\ninterface NameGroup {\n  prefix: string\n  index: number\n}\n\nexport interface NameValue {\n  ref: ValueReference // this is the reference to any value that can be referred to from generated code via `globals` var in the closure\n  key?: unknown // any key to identify a global to avoid duplicates, if not passed ref is used\n  code?: Code // this is the code creating the value needed for standalone code wit_out closure - can be a primitive value, function or import (`require`)\n}\n\nexport type ValueReference = unknown // possibly make CodeGen parameterized type on this type\n\nclass ValueError extends Error {\n  readonly value?: NameValue\n  constructor(name: ValueScopeName) {\n    super(`CodeGen: \"code\" for ${name} not defined`)\n    this.value = name.value\n  }\n}\n\ninterface ScopeOptions {\n  prefixes?: Set<string>\n  parent?: Scope\n}\n\ninterface ValueScopeOptions extends ScopeOptions {\n  scope: ScopeStore\n  es5?: boolean\n  lines?: boolean\n}\n\nexport type ScopeStore = Record<string, ValueReference[] | undefined>\n\ntype ScopeValues = {\n  [Prefix in string]?: Map<unknown, ValueScopeName>\n}\n\nexport type ScopeValueSets = {\n  [Prefix in string]?: Set<ValueScopeName>\n}\n\nexport enum UsedValueState {\n  Started,\n  Completed,\n}\n\nexport type UsedScopeValues = {\n  [Prefix in string]?: Map<ValueScopeName, UsedValueState | undefined>\n}\n\nexport const varKinds = {\n  const: new Name(\"const\"),\n  let: new Name(\"let\"),\n  var: new Name(\"var\"),\n}\n\nexport class Scope {\n  protected readonly _names: {[Prefix in string]?: NameGroup} = {}\n  protected readonly _prefixes?: Set<string>\n  protected readonly _parent?: Scope\n\n  constructor({prefixes, parent}: ScopeOptions = {}) {\n    this._prefixes = prefixes\n    this._parent = parent\n  }\n\n  toName(nameOrPrefix: Name | string): Name {\n    return nameOrPrefix instanceof Name ? nameOrPrefix : this.name(nameOrPrefix)\n  }\n\n  name(prefix: string): Name {\n    return new Name(this._newName(prefix))\n  }\n\n  protected _newName(prefix: string): string {\n    const ng = this._names[prefix] || this._nameGroup(prefix)\n    return `${prefix}${ng.index++}`\n  }\n\n  private _nameGroup(prefix: string): NameGroup {\n    if (this._parent?._prefixes?.has(prefix) || (this._prefixes && !this._prefixes.has(prefix))) {\n      throw new Error(`CodeGen: prefix \"${prefix}\" is not allowed in this scope`)\n    }\n    return (this._names[prefix] = {prefix, index: 0})\n  }\n}\n\ninterface ScopePath {\n  property: string\n  itemIndex: number\n}\n\nexport class ValueScopeName extends Name {\n  readonly prefix: string\n  value?: NameValue\n  scopePath?: Code\n\n  constructor(prefix: string, nameStr: string) {\n    super(nameStr)\n    this.prefix = prefix\n  }\n\n  setValue(value: NameValue, {property, itemIndex}: ScopePath): void {\n    this.value = value\n    this.scopePath = _`.${new Name(property)}[${itemIndex}]`\n  }\n}\n\ninterface VSOptions extends ValueScopeOptions {\n  _n: Code\n}\n\nconst line = _`\\n`\n\nexport class ValueScope extends Scope {\n  protected readonly _values: ScopeValues = {}\n  protected readonly _scope: ScopeStore\n  readonly opts: VSOptions\n\n  constructor(opts: ValueScopeOptions) {\n    super(opts)\n    this._scope = opts.scope\n    this.opts = {...opts, _n: opts.lines ? line : nil}\n  }\n\n  get(): ScopeStore {\n    return this._scope\n  }\n\n  name(prefix: string): ValueScopeName {\n    return new ValueScopeName(prefix, this._newName(prefix))\n  }\n\n  value(nameOrPrefix: ValueScopeName | string, value: NameValue): ValueScopeName {\n    if (value.ref === undefined) throw new Error(\"CodeGen: ref must be passed in value\")\n    const name = this.toName(nameOrPrefix) as ValueScopeName\n    const {prefix} = name\n    const valueKey = value.key ?? value.ref\n    let vs = this._values[prefix]\n    if (vs) {\n      const _name = vs.get(valueKey)\n      if (_name) return _name\n    } else {\n      vs = this._values[prefix] = new Map()\n    }\n    vs.set(valueKey, name)\n\n    const s = this._scope[prefix] || (this._scope[prefix] = [])\n    const itemIndex = s.length\n    s[itemIndex] = value.ref\n    name.setValue(value, {property: prefix, itemIndex})\n    return name\n  }\n\n  getValue(prefix: string, keyOrRef: unknown): ValueScopeName | undefined {\n    const vs = this._values[prefix]\n    if (!vs) return\n    return vs.get(keyOrRef)\n  }\n\n  scopeRefs(scopeName: Name, values: ScopeValues | ScopeValueSets = this._values): Code {\n    return this._reduceValues(values, (name: ValueScopeName) => {\n      if (name.scopePath === undefined) throw new Error(`CodeGen: name \"${name}\" has no value`)\n      return _`${scopeName}${name.scopePath}`\n    })\n  }\n\n  scopeCode(\n    values: ScopeValues | ScopeValueSets = this._values,\n    usedValues?: UsedScopeValues,\n    getCode?: (n: ValueScopeName) => Code | undefined\n  ): Code {\n    return this._reduceValues(\n      values,\n      (name: ValueScopeName) => {\n        if (name.value === undefined) throw new Error(`CodeGen: name \"${name}\" has no value`)\n        return name.value.code\n      },\n      usedValues,\n      getCode\n    )\n  }\n\n  private _reduceValues(\n    values: ScopeValues | ScopeValueSets,\n    valueCode: (n: ValueScopeName) => Code | undefined,\n    usedValues: UsedScopeValues = {},\n    getCode?: (n: ValueScopeName) => Code | undefined\n  ): Code {\n    let code: Code = nil\n    for (const prefix in values) {\n      const vs = values[prefix]\n      if (!vs) continue\n      const nameSet = (usedValues[prefix] = usedValues[prefix] || new Map())\n      vs.forEach((name: ValueScopeName) => {\n        if (nameSet.has(name)) return\n        nameSet.set(name, UsedValueState.Started)\n        let c = valueCode(name)\n        if (c) {\n          const def = this.opts.es5 ? varKinds.var : varKinds.const\n          code = _`${code}${def} ${name} = ${c};${this.opts._n}`\n        } else if ((c = getCode?.(name))) {\n          code = _`${code}${c}${this.opts._n}`\n        } else {\n          throw new ValueError(name)\n        }\n        nameSet.set(name, UsedValueState.Completed)\n      })\n    }\n    return code\n  }\n}\n", "import type {ScopeValueSets, NameValue, ValueScope, ValueScopeName} from \"./scope\"\nimport {_, nil, _Code, Code, Name, UsedNames, CodeItem, addCodeArg, _CodeOrName} from \"./code\"\nimport {Scope, varKinds} from \"./scope\"\n\nexport {_, str, strConcat, nil, getProperty, stringify, regexpCode, Name, Code} from \"./code\"\nexport {Scope, ScopeStore, ValueScope, ValueScopeName, ScopeValueSets, varKinds} from \"./scope\"\n\n// type for expressions that can be safely inserted in code without quotes\nexport type SafeExpr = Code | number | boolean | null\n\n// type that is either Code of function that adds code to CodeGen instance using its methods\nexport type Block = Code | (() => void)\n\nexport const operators = {\n  GT: new _Code(\">\"),\n  GTE: new _Code(\">=\"),\n  LT: new _Code(\"<\"),\n  LTE: new _Code(\"<=\"),\n  EQ: new _Code(\"===\"),\n  NEQ: new _Code(\"!==\"),\n  NOT: new _Code(\"!\"),\n  OR: new _Code(\"||\"),\n  AND: new _Code(\"&&\"),\n  ADD: new _Code(\"+\"),\n}\n\nabstract class Node {\n  abstract readonly names: UsedNames\n\n  optimizeNodes(): this | ChildNode | ChildNode[] | undefined {\n    return this\n  }\n\n  optimizeNames(_names: UsedNames, _constants: Constants): this | undefined {\n    return this\n  }\n\n  // get count(): number {\n  //   return 1\n  // }\n}\n\nclass Def extends Node {\n  constructor(\n    private readonly varKind: Name,\n    private readonly name: Name,\n    private rhs?: SafeExpr\n  ) {\n    super()\n  }\n\n  render({es5, _n}: CGOptions): string {\n    const varKind = es5 ? varKinds.var : this.varKind\n    const rhs = this.rhs === undefined ? \"\" : ` = ${this.rhs}`\n    return `${varKind} ${this.name}${rhs};` + _n\n  }\n\n  optimizeNames(names: UsedNames, constants: Constants): this | undefined {\n    if (!names[this.name.str]) return\n    if (this.rhs) this.rhs = optimizeExpr(this.rhs, names, constants)\n    return this\n  }\n\n  get names(): UsedNames {\n    return this.rhs instanceof _CodeOrName ? this.rhs.names : {}\n  }\n}\n\nclass Assign extends Node {\n  constructor(\n    readonly lhs: Code,\n    public rhs: SafeExpr,\n    private readonly sideEffects?: boolean\n  ) {\n    super()\n  }\n\n  render({_n}: CGOptions): string {\n    return `${this.lhs} = ${this.rhs};` + _n\n  }\n\n  optimizeNames(names: UsedNames, constants: Constants): this | undefined {\n    if (this.lhs instanceof Name && !names[this.lhs.str] && !this.sideEffects) return\n    this.rhs = optimizeExpr(this.rhs, names, constants)\n    return this\n  }\n\n  get names(): UsedNames {\n    const names = this.lhs instanceof Name ? {} : {...this.lhs.names}\n    return addExprNames(names, this.rhs)\n  }\n}\n\nclass AssignOp extends Assign {\n  constructor(\n    lhs: Code,\n    private readonly op: Code,\n    rhs: SafeExpr,\n    sideEffects?: boolean\n  ) {\n    super(lhs, rhs, sideEffects)\n  }\n\n  render({_n}: CGOptions): string {\n    return `${this.lhs} ${this.op}= ${this.rhs};` + _n\n  }\n}\n\nclass Label extends Node {\n  readonly names: UsedNames = {}\n  constructor(readonly label: Name) {\n    super()\n  }\n\n  render({_n}: CGOptions): string {\n    return `${this.label}:` + _n\n  }\n}\n\nclass Break extends Node {\n  readonly names: UsedNames = {}\n  constructor(readonly label?: Code) {\n    super()\n  }\n\n  render({_n}: CGOptions): string {\n    const label = this.label ? ` ${this.label}` : \"\"\n    return `break${label};` + _n\n  }\n}\n\nclass Throw extends Node {\n  constructor(readonly error: Code) {\n    super()\n  }\n\n  render({_n}: CGOptions): string {\n    return `throw ${this.error};` + _n\n  }\n\n  get names(): UsedNames {\n    return this.error.names\n  }\n}\n\nclass AnyCode extends Node {\n  constructor(private code: SafeExpr) {\n    super()\n  }\n\n  render({_n}: CGOptions): string {\n    return `${this.code};` + _n\n  }\n\n  optimizeNodes(): this | undefined {\n    return `${this.code}` ? this : undefined\n  }\n\n  optimizeNames(names: UsedNames, constants: Constants): this {\n    this.code = optimizeExpr(this.code, names, constants)\n    return this\n  }\n\n  get names(): UsedNames {\n    return this.code instanceof _CodeOrName ? this.code.names : {}\n  }\n}\n\nabstract class ParentNode extends Node {\n  constructor(readonly nodes: ChildNode[] = []) {\n    super()\n  }\n\n  render(opts: CGOptions): string {\n    return this.nodes.reduce((code, n) => code + n.render(opts), \"\")\n  }\n\n  optimizeNodes(): this | ChildNode | ChildNode[] | undefined {\n    const {nodes} = this\n    let i = nodes.length\n    while (i--) {\n      const n = nodes[i].optimizeNodes()\n      if (Array.isArray(n)) nodes.splice(i, 1, ...n)\n      else if (n) nodes[i] = n\n      else nodes.splice(i, 1)\n    }\n    return nodes.length > 0 ? this : undefined\n  }\n\n  optimizeNames(names: UsedNames, constants: Constants): this | undefined {\n    const {nodes} = this\n    let i = nodes.length\n    while (i--) {\n      // iterating backwards improves 1-pass optimization\n      const n = nodes[i]\n      if (n.optimizeNames(names, constants)) continue\n      subtractNames(names, n.names)\n      nodes.splice(i, 1)\n    }\n    return nodes.length > 0 ? this : undefined\n  }\n\n  get names(): UsedNames {\n    return this.nodes.reduce((names: UsedNames, n) => addNames(names, n.names), {})\n  }\n\n  // get count(): number {\n  //   return this.nodes.reduce((c, n) => c + n.count, 1)\n  // }\n}\n\nabstract class BlockNode extends ParentNode {\n  render(opts: CGOptions): string {\n    return \"{\" + opts._n + super.render(opts) + \"}\" + opts._n\n  }\n}\n\nclass Root extends ParentNode {}\n\nclass Else extends BlockNode {\n  static readonly kind = \"else\"\n}\n\nclass If extends BlockNode {\n  static readonly kind = \"if\"\n  else?: If | Else\n  constructor(\n    private condition: Code | boolean,\n    nodes?: ChildNode[]\n  ) {\n    super(nodes)\n  }\n\n  render(opts: CGOptions): string {\n    let code = `if(${this.condition})` + super.render(opts)\n    if (this.else) code += \"else \" + this.else.render(opts)\n    return code\n  }\n\n  optimizeNodes(): If | ChildNode[] | undefined {\n    super.optimizeNodes()\n    const cond = this.condition\n    if (cond === true) return this.nodes // else is ignored here\n    let e = this.else\n    if (e) {\n      const ns = e.optimizeNodes()\n      e = this.else = Array.isArray(ns) ? new Else(ns) : (ns as Else | undefined)\n    }\n    if (e) {\n      if (cond === false) return e instanceof If ? e : e.nodes\n      if (this.nodes.length) return this\n      return new If(not(cond), e instanceof If ? [e] : e.nodes)\n    }\n    if (cond === false || !this.nodes.length) return undefined\n    return this\n  }\n\n  optimizeNames(names: UsedNames, constants: Constants): this | undefined {\n    this.else = this.else?.optimizeNames(names, constants)\n    if (!(super.optimizeNames(names, constants) || this.else)) return\n    this.condition = optimizeExpr(this.condition, names, constants)\n    return this\n  }\n\n  get names(): UsedNames {\n    const names = super.names\n    addExprNames(names, this.condition)\n    if (this.else) addNames(names, this.else.names)\n    return names\n  }\n\n  // get count(): number {\n  //   return super.count + (this.else?.count || 0)\n  // }\n}\n\nabstract class For extends BlockNode {\n  static readonly kind = \"for\"\n}\n\nclass ForLoop extends For {\n  constructor(private iteration: Code) {\n    super()\n  }\n\n  render(opts: CGOptions): string {\n    return `for(${this.iteration})` + super.render(opts)\n  }\n\n  optimizeNames(names: UsedNames, constants: Constants): this | undefined {\n    if (!super.optimizeNames(names, constants)) return\n    this.iteration = optimizeExpr(this.iteration, names, constants)\n    return this\n  }\n\n  get names(): UsedNames {\n    return addNames(super.names, this.iteration.names)\n  }\n}\n\nclass ForRange extends For {\n  constructor(\n    private readonly varKind: Name,\n    private readonly name: Name,\n    private readonly from: SafeExpr,\n    private readonly to: SafeExpr\n  ) {\n    super()\n  }\n\n  render(opts: CGOptions): string {\n    const varKind = opts.es5 ? varKinds.var : this.varKind\n    const {name, from, to} = this\n    return `for(${varKind} ${name}=${from}; ${name}<${to}; ${name}++)` + super.render(opts)\n  }\n\n  get names(): UsedNames {\n    const names = addExprNames(super.names, this.from)\n    return addExprNames(names, this.to)\n  }\n}\n\nclass ForIter extends For {\n  constructor(\n    private readonly loop: \"of\" | \"in\",\n    private readonly varKind: Name,\n    private readonly name: Name,\n    private iterable: Code\n  ) {\n    super()\n  }\n\n  render(opts: CGOptions): string {\n    return `for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})` + super.render(opts)\n  }\n\n  optimizeNames(names: UsedNames, constants: Constants): this | undefined {\n    if (!super.optimizeNames(names, constants)) return\n    this.iterable = optimizeExpr(this.iterable, names, constants)\n    return this\n  }\n\n  get names(): UsedNames {\n    return addNames(super.names, this.iterable.names)\n  }\n}\n\nclass Func extends BlockNode {\n  static readonly kind = \"func\"\n  constructor(\n    public name: Name,\n    public args: Code,\n    public async?: boolean\n  ) {\n    super()\n  }\n\n  render(opts: CGOptions): string {\n    const _async = this.async ? \"async \" : \"\"\n    return `${_async}function ${this.name}(${this.args})` + super.render(opts)\n  }\n}\n\nclass Return extends ParentNode {\n  static readonly kind = \"return\"\n\n  render(opts: CGOptions): string {\n    return \"return \" + super.render(opts)\n  }\n}\n\nclass Try extends BlockNode {\n  catch?: Catch\n  finally?: Finally\n\n  render(opts: CGOptions): string {\n    let code = \"try\" + super.render(opts)\n    if (this.catch) code += this.catch.render(opts)\n    if (this.finally) code += this.finally.render(opts)\n    return code\n  }\n\n  optimizeNodes(): this {\n    super.optimizeNodes()\n    this.catch?.optimizeNodes() as Catch | undefined\n    this.finally?.optimizeNodes() as Finally | undefined\n    return this\n  }\n\n  optimizeNames(names: UsedNames, constants: Constants): this {\n    super.optimizeNames(names, constants)\n    this.catch?.optimizeNames(names, constants)\n    this.finally?.optimizeNames(names, constants)\n    return this\n  }\n\n  get names(): UsedNames {\n    const names = super.names\n    if (this.catch) addNames(names, this.catch.names)\n    if (this.finally) addNames(names, this.finally.names)\n    return names\n  }\n\n  // get count(): number {\n  //   return super.count + (this.catch?.count || 0) + (this.finally?.count || 0)\n  // }\n}\n\nclass Catch extends BlockNode {\n  static readonly kind = \"catch\"\n  constructor(readonly error: Name) {\n    super()\n  }\n\n  render(opts: CGOptions): string {\n    return `catch(${this.error})` + super.render(opts)\n  }\n}\n\nclass Finally extends BlockNode {\n  static readonly kind = \"finally\"\n  render(opts: CGOptions): string {\n    return \"finally\" + super.render(opts)\n  }\n}\n\ntype StartBlockNode = If | For | Func | Return | Try\n\ntype LeafNode = Def | Assign | Label | Break | Throw | AnyCode\n\ntype ChildNode = StartBlockNode | LeafNode\n\ntype EndBlockNodeType =\n  | typeof If\n  | typeof Else\n  | typeof For\n  | typeof Func\n  | typeof Return\n  | typeof Catch\n  | typeof Finally\n\ntype Constants = Record<string, SafeExpr | undefined>\n\nexport interface CodeGenOptions {\n  es5?: boolean\n  lines?: boolean\n  ownProperties?: boolean\n}\n\ninterface CGOptions extends CodeGenOptions {\n  _n: \"\\n\" | \"\"\n}\n\nexport class CodeGen {\n  readonly _scope: Scope\n  readonly _extScope: ValueScope\n  readonly _values: ScopeValueSets = {}\n  private readonly _nodes: ParentNode[]\n  private readonly _blockStarts: number[] = []\n  private readonly _constants: Constants = {}\n  private readonly opts: CGOptions\n\n  constructor(extScope: ValueScope, opts: CodeGenOptions = {}) {\n    this.opts = {...opts, _n: opts.lines ? \"\\n\" : \"\"}\n    this._extScope = extScope\n    this._scope = new Scope({parent: extScope})\n    this._nodes = [new Root()]\n  }\n\n  toString(): string {\n    return this._root.render(this.opts)\n  }\n\n  // returns unique name in the internal scope\n  name(prefix: string): Name {\n    return this._scope.name(prefix)\n  }\n\n  // reserves unique name in the external scope\n  scopeName(prefix: string): ValueScopeName {\n    return this._extScope.name(prefix)\n  }\n\n  // reserves unique name in the external scope and assigns value to it\n  scopeValue(prefixOrName: ValueScopeName | string, value: NameValue): Name {\n    const name = this._extScope.value(prefixOrName, value)\n    const vs = this._values[name.prefix] || (this._values[name.prefix] = new Set())\n    vs.add(name)\n    return name\n  }\n\n  getScopeValue(prefix: string, keyOrRef: unknown): ValueScopeName | undefined {\n    return this._extScope.getValue(prefix, keyOrRef)\n  }\n\n  // return code that assigns values in the external scope to the names that are used internally\n  // (same names that were returned by gen.scopeName or gen.scopeValue)\n  scopeRefs(scopeName: Name): Code {\n    return this._extScope.scopeRefs(scopeName, this._values)\n  }\n\n  scopeCode(): Code {\n    return this._extScope.scopeCode(this._values)\n  }\n\n  private _def(\n    varKind: Name,\n    nameOrPrefix: Name | string,\n    rhs?: SafeExpr,\n    constant?: boolean\n  ): Name {\n    const name = this._scope.toName(nameOrPrefix)\n    if (rhs !== undefined && constant) this._constants[name.str] = rhs\n    this._leafNode(new Def(varKind, name, rhs))\n    return name\n  }\n\n  // `const` declaration (`var` in es5 mode)\n  const(nameOrPrefix: Name | string, rhs: SafeExpr, _constant?: boolean): Name {\n    return this._def(varKinds.const, nameOrPrefix, rhs, _constant)\n  }\n\n  // `let` declaration with optional assignment (`var` in es5 mode)\n  let(nameOrPrefix: Name | string, rhs?: SafeExpr, _constant?: boolean): Name {\n    return this._def(varKinds.let, nameOrPrefix, rhs, _constant)\n  }\n\n  // `var` declaration with optional assignment\n  var(nameOrPrefix: Name | string, rhs?: SafeExpr, _constant?: boolean): Name {\n    return this._def(varKinds.var, nameOrPrefix, rhs, _constant)\n  }\n\n  // assignment code\n  assign(lhs: Code, rhs: SafeExpr, sideEffects?: boolean): CodeGen {\n    return this._leafNode(new Assign(lhs, rhs, sideEffects))\n  }\n\n  // `+=` code\n  add(lhs: Code, rhs: SafeExpr): CodeGen {\n    return this._leafNode(new AssignOp(lhs, operators.ADD, rhs))\n  }\n\n  // appends passed SafeExpr to code or executes Block\n  code(c: Block | SafeExpr): CodeGen {\n    if (typeof c == \"function\") c()\n    else if (c !== nil) this._leafNode(new AnyCode(c))\n    return this\n  }\n\n  // returns code for object literal for the passed argument list of key-value pairs\n  object(...keyValues: [Name | string, SafeExpr | string][]): _Code {\n    const code: CodeItem[] = [\"{\"]\n    for (const [key, value] of keyValues) {\n      if (code.length > 1) code.push(\",\")\n      code.push(key)\n      if (key !== value || this.opts.es5) {\n        code.push(\":\")\n        addCodeArg(code, value)\n      }\n    }\n    code.push(\"}\")\n    return new _Code(code)\n  }\n\n  // `if` clause (or statement if `thenBody` and, optionally, `elseBody` are passed)\n  if(condition: Code | boolean, thenBody?: Block, elseBody?: Block): CodeGen {\n    this._blockNode(new If(condition))\n\n    if (thenBody && elseBody) {\n      this.code(thenBody).else().code(elseBody).endIf()\n    } else if (thenBody) {\n      this.code(thenBody).endIf()\n    } else if (elseBody) {\n      throw new Error('CodeGen: \"else\" body without \"then\" body')\n    }\n    return this\n  }\n\n  // `else if` clause - invalid without `if` or after `else` clauses\n  elseIf(condition: Code | boolean): CodeGen {\n    return this._elseNode(new If(condition))\n  }\n\n  // `else` clause - only valid after `if` or `else if` clauses\n  else(): CodeGen {\n    return this._elseNode(new Else())\n  }\n\n  // end `if` statement (needed if gen.if was used only with condition)\n  endIf(): CodeGen {\n    return this._endBlockNode(If, Else)\n  }\n\n  private _for(node: For, forBody?: Block): CodeGen {\n    this._blockNode(node)\n    if (forBody) this.code(forBody).endFor()\n    return this\n  }\n\n  // a generic `for` clause (or statement if `forBody` is passed)\n  for(iteration: Code, forBody?: Block): CodeGen {\n    return this._for(new ForLoop(iteration), forBody)\n  }\n\n  // `for` statement for a range of values\n  forRange(\n    nameOrPrefix: Name | string,\n    from: SafeExpr,\n    to: SafeExpr,\n    forBody: (index: Name) => void,\n    varKind: Code = this.opts.es5 ? varKinds.var : varKinds.let\n  ): CodeGen {\n    const name = this._scope.toName(nameOrPrefix)\n    return this._for(new ForRange(varKind, name, from, to), () => forBody(name))\n  }\n\n  // `for-of` statement (in es5 mode replace with a normal for loop)\n  forOf(\n    nameOrPrefix: Name | string,\n    iterable: Code,\n    forBody: (item: Name) => void,\n    varKind: Code = varKinds.const\n  ): CodeGen {\n    const name = this._scope.toName(nameOrPrefix)\n    if (this.opts.es5) {\n      const arr = iterable instanceof Name ? iterable : this.var(\"_arr\", iterable)\n      return this.forRange(\"_i\", 0, _`${arr}.length`, (i) => {\n        this.var(name, _`${arr}[${i}]`)\n        forBody(name)\n      })\n    }\n    return this._for(new ForIter(\"of\", varKind, name, iterable), () => forBody(name))\n  }\n\n  // `for-in` statement.\n  // With option `ownProperties` replaced with a `for-of` loop for object keys\n  forIn(\n    nameOrPrefix: Name | string,\n    obj: Code,\n    forBody: (item: Name) => void,\n    varKind: Code = this.opts.es5 ? varKinds.var : varKinds.const\n  ): CodeGen {\n    if (this.opts.ownProperties) {\n      return this.forOf(nameOrPrefix, _`Object.keys(${obj})`, forBody)\n    }\n    const name = this._scope.toName(nameOrPrefix)\n    return this._for(new ForIter(\"in\", varKind, name, obj), () => forBody(name))\n  }\n\n  // end `for` loop\n  endFor(): CodeGen {\n    return this._endBlockNode(For)\n  }\n\n  // `label` statement\n  label(label: Name): CodeGen {\n    return this._leafNode(new Label(label))\n  }\n\n  // `break` statement\n  break(label?: Code): CodeGen {\n    return this._leafNode(new Break(label))\n  }\n\n  // `return` statement\n  return(value: Block | SafeExpr): CodeGen {\n    const node = new Return()\n    this._blockNode(node)\n    this.code(value)\n    if (node.nodes.length !== 1) throw new Error('CodeGen: \"return\" should have one node')\n    return this._endBlockNode(Return)\n  }\n\n  // `try` statement\n  try(tryBody: Block, catchCode?: (e: Name) => void, finallyCode?: Block): CodeGen {\n    if (!catchCode && !finallyCode) throw new Error('CodeGen: \"try\" without \"catch\" and \"finally\"')\n    const node = new Try()\n    this._blockNode(node)\n    this.code(tryBody)\n    if (catchCode) {\n      const error = this.name(\"e\")\n      this._currNode = node.catch = new Catch(error)\n      catchCode(error)\n    }\n    if (finallyCode) {\n      this._currNode = node.finally = new Finally()\n      this.code(finallyCode)\n    }\n    return this._endBlockNode(Catch, Finally)\n  }\n\n  // `throw` statement\n  throw(error: Code): CodeGen {\n    return this._leafNode(new Throw(error))\n  }\n\n  // start self-balancing block\n  block(body?: Block, nodeCount?: number): CodeGen {\n    this._blockStarts.push(this._nodes.length)\n    if (body) this.code(body).endBlock(nodeCount)\n    return this\n  }\n\n  // end the current self-balancing block\n  endBlock(nodeCount?: number): CodeGen {\n    const len = this._blockStarts.pop()\n    if (len === undefined) throw new Error(\"CodeGen: not in self-balancing block\")\n    const toClose = this._nodes.length - len\n    if (toClose < 0 || (nodeCount !== undefined && toClose !== nodeCount)) {\n      throw new Error(`CodeGen: wrong number of nodes: ${toClose} vs ${nodeCount} expected`)\n    }\n    this._nodes.length = len\n    return this\n  }\n\n  // `function` heading (or definition if funcBody is passed)\n  func(name: Name, args: Code = nil, async?: boolean, funcBody?: Block): CodeGen {\n    this._blockNode(new Func(name, args, async))\n    if (funcBody) this.code(funcBody).endFunc()\n    return this\n  }\n\n  // end function definition\n  endFunc(): CodeGen {\n    return this._endBlockNode(Func)\n  }\n\n  optimize(n = 1): void {\n    while (n-- > 0) {\n      this._root.optimizeNodes()\n      this._root.optimizeNames(this._root.names, this._constants)\n    }\n  }\n\n  private _leafNode(node: LeafNode): CodeGen {\n    this._currNode.nodes.push(node)\n    return this\n  }\n\n  private _blockNode(node: StartBlockNode): void {\n    this._currNode.nodes.push(node)\n    this._nodes.push(node)\n  }\n\n  private _endBlockNode(N1: EndBlockNodeType, N2?: EndBlockNodeType): CodeGen {\n    const n = this._currNode\n    if (n instanceof N1 || (N2 && n instanceof N2)) {\n      this._nodes.pop()\n      return this\n    }\n    throw new Error(`CodeGen: not in block \"${N2 ? `${N1.kind}/${N2.kind}` : N1.kind}\"`)\n  }\n\n  private _elseNode(node: If | Else): CodeGen {\n    const n = this._currNode\n    if (!(n instanceof If)) {\n      throw new Error('CodeGen: \"else\" without \"if\"')\n    }\n    this._currNode = n.else = node\n    return this\n  }\n\n  private get _root(): Root {\n    return this._nodes[0] as Root\n  }\n\n  private get _currNode(): ParentNode {\n    const ns = this._nodes\n    return ns[ns.length - 1]\n  }\n\n  private set _currNode(node: ParentNode) {\n    const ns = this._nodes\n    ns[ns.length - 1] = node\n  }\n\n  // get nodeCount(): number {\n  //   return this._root.count\n  // }\n}\n\nfunction addNames(names: UsedNames, from: UsedNames): UsedNames {\n  for (const n in from) names[n] = (names[n] || 0) + (from[n] || 0)\n  return names\n}\n\nfunction addExprNames(names: UsedNames, from: SafeExpr): UsedNames {\n  return from instanceof _CodeOrName ? addNames(names, from.names) : names\n}\n\nfunction optimizeExpr<T extends SafeExpr | Code>(expr: T, names: UsedNames, constants: Constants): T\nfunction optimizeExpr(expr: SafeExpr, names: UsedNames, constants: Constants): SafeExpr {\n  if (expr instanceof Name) return replaceName(expr)\n  if (!canOptimize(expr)) return expr\n  return new _Code(\n    expr._items.reduce((items: CodeItem[], c: SafeExpr | string) => {\n      if (c instanceof Name) c = replaceName(c)\n      if (c instanceof _Code) items.push(...c._items)\n      else items.push(c)\n      return items\n    }, [])\n  )\n\n  function replaceName(n: Name): SafeExpr {\n    const c = constants[n.str]\n    if (c === undefined || names[n.str] !== 1) return n\n    delete names[n.str]\n    return c\n  }\n\n  function canOptimize(e: SafeExpr): e is _Code {\n    return (\n      e instanceof _Code &&\n      e._items.some(\n        (c) => c instanceof Name && names[c.str] === 1 && constants[c.str] !== undefined\n      )\n    )\n  }\n}\n\nfunction subtractNames(names: UsedNames, from: UsedNames): void {\n  for (const n in from) names[n] = (names[n] || 0) - (from[n] || 0)\n}\n\nexport function not<T extends Code | SafeExpr>(x: T): T\nexport function not(x: Code | SafeExpr): Code | SafeExpr {\n  return typeof x == \"boolean\" || typeof x == \"number\" || x === null ? !x : _`!${par(x)}`\n}\n\nconst andCode = mappend(operators.AND)\n\n// boolean AND (&&) expression with the passed arguments\nexport function and(...args: Code[]): Code {\n  return args.reduce(andCode)\n}\n\nconst orCode = mappend(operators.OR)\n\n// boolean OR (||) expression with the passed arguments\nexport function or(...args: Code[]): Code {\n  return args.reduce(orCode)\n}\n\ntype MAppend = (x: Code, y: Code) => Code\n\nfunction mappend(op: Code): MAppend {\n  return (x, y) => (x === nil ? y : y === nil ? x : _`${par(x)} ${op} ${par(y)}`)\n}\n\nfunction par(x: Code): Code {\n  return x instanceof Name ? x : _`(${x})`\n}\n", "import type {AnySchema, EvaluatedProperties, EvaluatedItems} from \"../types\"\nimport type {SchemaCxt, SchemaObjCxt} from \".\"\nimport {_, getProperty, Code, Name, CodeGen} from \"./codegen\"\nimport {_Code} from \"./codegen/code\"\nimport type {Rule, ValidationRules} from \"./rules\"\n\n// TODO refactor to use Set\nexport function toHash<T extends string = string>(arr: T[]): {[K in T]?: true} {\n  const hash: {[K in T]?: true} = {}\n  for (const item of arr) hash[item] = true\n  return hash\n}\n\nexport function alwaysValidSchema(it: SchemaCxt, schema: AnySchema): boolean | void {\n  if (typeof schema == \"boolean\") return schema\n  if (Object.keys(schema).length === 0) return true\n  checkUnknownRules(it, schema)\n  return !schemaHasRules(schema, it.self.RULES.all)\n}\n\nexport function checkUnknownRules(it: SchemaCxt, schema: AnySchema = it.schema): void {\n  const {opts, self} = it\n  if (!opts.strictSchema) return\n  if (typeof schema === \"boolean\") return\n  const rules = self.RULES.keywords\n  for (const key in schema) {\n    if (!rules[key]) checkStrictMode(it, `unknown keyword: \"${key}\"`)\n  }\n}\n\nexport function schemaHasRules(\n  schema: AnySchema,\n  rules: {[Key in string]?: boolean | Rule}\n): boolean {\n  if (typeof schema == \"boolean\") return !schema\n  for (const key in schema) if (rules[key]) return true\n  return false\n}\n\nexport function schemaHasRulesButRef(schema: AnySchema, RULES: ValidationRules): boolean {\n  if (typeof schema == \"boolean\") return !schema\n  for (const key in schema) if (key !== \"$ref\" && RULES.all[key]) return true\n  return false\n}\n\nexport function schemaRefOrVal(\n  {topSchemaRef, schemaPath}: SchemaObjCxt,\n  schema: unknown,\n  keyword: string,\n  $data?: string | false\n): Code | number | boolean {\n  if (!$data) {\n    if (typeof schema == \"number\" || typeof schema == \"boolean\") return schema\n    if (typeof schema == \"string\") return _`${schema}`\n  }\n  return _`${topSchemaRef}${schemaPath}${getProperty(keyword)}`\n}\n\nexport function unescapeFragment(str: string): string {\n  return unescapeJsonPointer(decodeURIComponent(str))\n}\n\nexport function escapeFragment(str: string | number): string {\n  return encodeURIComponent(escapeJsonPointer(str))\n}\n\nexport function escapeJsonPointer(str: string | number): string {\n  if (typeof str == \"number\") return `${str}`\n  return str.replace(/~/g, \"~0\").replace(/\\//g, \"~1\")\n}\n\nexport function unescapeJsonPointer(str: string): string {\n  return str.replace(/~1/g, \"/\").replace(/~0/g, \"~\")\n}\n\nexport function eachItem<T>(xs: T | T[], f: (x: T) => void): void {\n  if (Array.isArray(xs)) {\n    for (const x of xs) f(x)\n  } else {\n    f(xs)\n  }\n}\n\ntype SomeEvaluated = EvaluatedProperties | EvaluatedItems\n\ntype MergeEvaluatedFunc<T extends SomeEvaluated> = (\n  gen: CodeGen,\n  from: Name | T,\n  to: Name | Exclude<T, true> | undefined,\n  toName?: typeof Name\n) => Name | T\n\ninterface MakeMergeFuncArgs<T extends SomeEvaluated> {\n  mergeNames: (gen: CodeGen, from: Name, to: Name) => void\n  mergeToName: (gen: CodeGen, from: T, to: Name) => void\n  mergeValues: (from: T, to: Exclude<T, true>) => T\n  resultToName: (gen: CodeGen, res?: T) => Name\n}\n\nfunction makeMergeEvaluated<T extends SomeEvaluated>({\n  mergeNames,\n  mergeToName,\n  mergeValues,\n  resultToName,\n}: MakeMergeFuncArgs<T>): MergeEvaluatedFunc<T> {\n  return (gen, from, to, toName) => {\n    const res =\n      to === undefined\n        ? from\n        : to instanceof Name\n        ? (from instanceof Name ? mergeNames(gen, from, to) : mergeToName(gen, from, to), to)\n        : from instanceof Name\n        ? (mergeToName(gen, to, from), from)\n        : mergeValues(from, to)\n    return toName === Name && !(res instanceof Name) ? resultToName(gen, res) : res\n  }\n}\n\ninterface MergeEvaluated {\n  props: MergeEvaluatedFunc<EvaluatedProperties>\n  items: MergeEvaluatedFunc<EvaluatedItems>\n}\n\nexport const mergeEvaluated: MergeEvaluated = {\n  props: makeMergeEvaluated({\n    mergeNames: (gen, from, to) =>\n      gen.if(_`${to} !== true && ${from} !== undefined`, () => {\n        gen.if(\n          _`${from} === true`,\n          () => gen.assign(to, true),\n          () => gen.assign(to, _`${to} || {}`).code(_`Object.assign(${to}, ${from})`)\n        )\n      }),\n    mergeToName: (gen, from, to) =>\n      gen.if(_`${to} !== true`, () => {\n        if (from === true) {\n          gen.assign(to, true)\n        } else {\n          gen.assign(to, _`${to} || {}`)\n          setEvaluated(gen, to, from)\n        }\n      }),\n    mergeValues: (from, to) => (from === true ? true : {...from, ...to}),\n    resultToName: evaluatedPropsToName,\n  }),\n  items: makeMergeEvaluated({\n    mergeNames: (gen, from, to) =>\n      gen.if(_`${to} !== true && ${from} !== undefined`, () =>\n        gen.assign(to, _`${from} === true ? true : ${to} > ${from} ? ${to} : ${from}`)\n      ),\n    mergeToName: (gen, from, to) =>\n      gen.if(_`${to} !== true`, () =>\n        gen.assign(to, from === true ? true : _`${to} > ${from} ? ${to} : ${from}`)\n      ),\n    mergeValues: (from, to) => (from === true ? true : Math.max(from, to)),\n    resultToName: (gen, items) => gen.var(\"items\", items),\n  }),\n}\n\nexport function evaluatedPropsToName(gen: CodeGen, ps?: EvaluatedProperties): Name {\n  if (ps === true) return gen.var(\"props\", true)\n  const props = gen.var(\"props\", _`{}`)\n  if (ps !== undefined) setEvaluated(gen, props, ps)\n  return props\n}\n\nexport function setEvaluated(gen: CodeGen, props: Name, ps: {[K in string]?: true}): void {\n  Object.keys(ps).forEach((p) => gen.assign(_`${props}${getProperty(p)}`, true))\n}\n\nconst snippets: {[S in string]?: _Code} = {}\n\nexport function useFunc(gen: CodeGen, f: {code: string}): Name {\n  return gen.scopeValue(\"func\", {\n    ref: f,\n    code: snippets[f.code] || (snippets[f.code] = new _Code(f.code)),\n  })\n}\n\nexport enum Type {\n  Num,\n  Str,\n}\n\nexport function getErrorPath(\n  dataProp: Name | string | number,\n  dataPropType?: Type,\n  jsPropertySyntax?: boolean\n): Code | string {\n  // let path\n  if (dataProp instanceof Name) {\n    const isNumber = dataPropType === Type.Num\n    return jsPropertySyntax\n      ? isNumber\n        ? _`\"[\" + ${dataProp} + \"]\"`\n        : _`\"['\" + ${dataProp} + \"']\"`\n      : isNumber\n      ? _`\"/\" + ${dataProp}`\n      : _`\"/\" + ${dataProp}.replace(/~/g, \"~0\").replace(/\\\\//g, \"~1\")` // TODO maybe use global escapePointer\n  }\n  return jsPropertySyntax ? getProperty(dataProp).toString() : \"/\" + escapeJsonPointer(dataProp)\n}\n\nexport function checkStrictMode(\n  it: SchemaCxt,\n  msg: string,\n  mode: boolean | \"log\" = it.opts.strictSchema\n): void {\n  if (!mode) return\n  msg = `strict mode: ${msg}`\n  if (mode === true) throw new Error(msg)\n  it.self.logger.warn(msg)\n}\n", "import {Name} from \"./codegen\"\n\nconst names = {\n  // validation function arguments\n  data: new Name(\"data\"), // data passed to validation function\n  // args passed from referencing schema\n  valCxt: new Name(\"valCxt\"), // validation/data context - should not be used directly, it is destructured to the names below\n  instancePath: new Name(\"instancePath\"),\n  parentData: new Name(\"parentData\"),\n  parentDataProperty: new Name(\"parentDataProperty\"),\n  rootData: new Name(\"rootData\"), // root data - same as the data passed to the first/top validation function\n  dynamicAnchors: new Name(\"dynamicAnchors\"), // used to support recursiveRef and dynamicRef\n  // function scoped variables\n  vErrors: new Name(\"vErrors\"), // null or array of validation errors\n  errors: new Name(\"errors\"), // counter of validation errors\n  this: new Name(\"this\"),\n  // \"globals\"\n  self: new Name(\"self\"),\n  scope: new Name(\"scope\"),\n  // JTD serialize/parse name for JSON string and position\n  json: new Name(\"json\"),\n  jsonPos: new Name(\"jsonPos\"),\n  jsonLen: new Name(\"jsonLen\"),\n  jsonPart: new Name(\"jsonPart\"),\n}\n\nexport default names\n", "import type {KeywordErrorCxt, KeywordErrorDefinition} from \"../types\"\nimport type {SchemaCxt} from \"./index\"\nimport {CodeGen, _, str, strConcat, Code, Name} from \"./codegen\"\nimport {SafeExpr} from \"./codegen/code\"\nimport {getErrorPath, Type} from \"./util\"\nimport N from \"./names\"\n\nexport const keywordError: KeywordErrorDefinition = {\n  message: ({keyword}) => str`must pass \"${keyword}\" keyword validation`,\n}\n\nexport const keyword$DataError: KeywordErrorDefinition = {\n  message: ({keyword, schemaType}) =>\n    schemaType\n      ? str`\"${keyword}\" keyword must be ${schemaType} ($data)`\n      : str`\"${keyword}\" keyword is invalid ($data)`,\n}\n\nexport interface ErrorPaths {\n  instancePath?: Code\n  schemaPath?: string\n  parentSchema?: boolean\n}\n\nexport function reportError(\n  cxt: KeywordErrorCxt,\n  error: KeywordErrorDefinition = keywordError,\n  errorPaths?: ErrorPaths,\n  overrideAllErrors?: boolean\n): void {\n  const {it} = cxt\n  const {gen, compositeRule, allErrors} = it\n  const errObj = errorObjectCode(cxt, error, errorPaths)\n  if (overrideAllErrors ?? (compositeRule || allErrors)) {\n    addError(gen, errObj)\n  } else {\n    returnErrors(it, _`[${errObj}]`)\n  }\n}\n\nexport function reportExtraError(\n  cxt: KeywordErrorCxt,\n  error: KeywordErrorDefinition = keywordError,\n  errorPaths?: ErrorPaths\n): void {\n  const {it} = cxt\n  const {gen, compositeRule, allErrors} = it\n  const errObj = errorObjectCode(cxt, error, errorPaths)\n  addError(gen, errObj)\n  if (!(compositeRule || allErrors)) {\n    returnErrors(it, N.vErrors)\n  }\n}\n\nexport function resetErrorsCount(gen: CodeGen, errsCount: Name): void {\n  gen.assign(N.errors, errsCount)\n  gen.if(_`${N.vErrors} !== null`, () =>\n    gen.if(\n      errsCount,\n      () => gen.assign(_`${N.vErrors}.length`, errsCount),\n      () => gen.assign(N.vErrors, null)\n    )\n  )\n}\n\nexport function extendErrors({\n  gen,\n  keyword,\n  schemaValue,\n  data,\n  errsCount,\n  it,\n}: KeywordErrorCxt): void {\n  /* istanbul ignore if */\n  if (errsCount === undefined) throw new Error(\"ajv implementation error\")\n  const err = gen.name(\"err\")\n  gen.forRange(\"i\", errsCount, N.errors, (i) => {\n    gen.const(err, _`${N.vErrors}[${i}]`)\n    gen.if(_`${err}.instancePath === undefined`, () =>\n      gen.assign(_`${err}.instancePath`, strConcat(N.instancePath, it.errorPath))\n    )\n    gen.assign(_`${err}.schemaPath`, str`${it.errSchemaPath}/${keyword}`)\n    if (it.opts.verbose) {\n      gen.assign(_`${err}.schema`, schemaValue)\n      gen.assign(_`${err}.data`, data)\n    }\n  })\n}\n\nfunction addError(gen: CodeGen, errObj: Code): void {\n  const err = gen.const(\"err\", errObj)\n  gen.if(\n    _`${N.vErrors} === null`,\n    () => gen.assign(N.vErrors, _`[${err}]`),\n    _`${N.vErrors}.push(${err})`\n  )\n  gen.code(_`${N.errors}++`)\n}\n\nfunction returnErrors(it: SchemaCxt, errs: Code): void {\n  const {gen, validateName, schemaEnv} = it\n  if (schemaEnv.$async) {\n    gen.throw(_`new ${it.ValidationError as Name}(${errs})`)\n  } else {\n    gen.assign(_`${validateName}.errors`, errs)\n    gen.return(false)\n  }\n}\n\nconst E = {\n  keyword: new Name(\"keyword\"),\n  schemaPath: new Name(\"schemaPath\"), // also used in JTD errors\n  params: new Name(\"params\"),\n  propertyName: new Name(\"propertyName\"),\n  message: new Name(\"message\"),\n  schema: new Name(\"schema\"),\n  parentSchema: new Name(\"parentSchema\"),\n}\n\nfunction errorObjectCode(\n  cxt: KeywordErrorCxt,\n  error: KeywordErrorDefinition,\n  errorPaths?: ErrorPaths\n): Code {\n  const {createErrors} = cxt.it\n  if (createErrors === false) return _`{}`\n  return errorObject(cxt, error, errorPaths)\n}\n\nfunction errorObject(\n  cxt: KeywordErrorCxt,\n  error: KeywordErrorDefinition,\n  errorPaths: ErrorPaths = {}\n): Code {\n  const {gen, it} = cxt\n  const keyValues: [Name, SafeExpr | string][] = [\n    errorInstancePath(it, errorPaths),\n    errorSchemaPath(cxt, errorPaths),\n  ]\n  extraErrorProps(cxt, error, keyValues)\n  return gen.object(...keyValues)\n}\n\nfunction errorInstancePath({errorPath}: SchemaCxt, {instancePath}: ErrorPaths): [Name, Code] {\n  const instPath = instancePath\n    ? str`${errorPath}${getErrorPath(instancePath, Type.Str)}`\n    : errorPath\n  return [N.instancePath, strConcat(N.instancePath, instPath)]\n}\n\nfunction errorSchemaPath(\n  {keyword, it: {errSchemaPath}}: KeywordErrorCxt,\n  {schemaPath, parentSchema}: ErrorPaths\n): [Name, string | Code] {\n  let schPath = parentSchema ? errSchemaPath : str`${errSchemaPath}/${keyword}`\n  if (schemaPath) {\n    schPath = str`${schPath}${getErrorPath(schemaPath, Type.Str)}`\n  }\n  return [E.schemaPath, schPath]\n}\n\nfunction extraErrorProps(\n  cxt: KeywordErrorCxt,\n  {params, message}: KeywordErrorDefinition,\n  keyValues: [Name, SafeExpr | string][]\n): void {\n  const {keyword, data, schemaValue, it} = cxt\n  const {opts, propertyName, topSchemaRef, schemaPath} = it\n  keyValues.push(\n    [E.keyword, keyword],\n    [E.params, typeof params == \"function\" ? params(cxt) : params || _`{}`]\n  )\n  if (opts.messages) {\n    keyValues.push([E.message, typeof message == \"function\" ? message(cxt) : message])\n  }\n  if (opts.verbose) {\n    keyValues.push(\n      [E.schema, schemaValue],\n      [E.parentSchema, _`${topSchemaRef}${schemaPath}`],\n      [N.data, data]\n    )\n  }\n  if (propertyName) keyValues.push([E.propertyName, propertyName])\n}\n", "import type {KeywordErrorDefinition, KeywordErrorCxt} from \"../../types\"\nimport type {SchemaCxt} from \"..\"\nimport {reportError} from \"../errors\"\nimport {_, Name} from \"../codegen\"\nimport N from \"../names\"\n\nconst boolError: KeywordErrorDefinition = {\n  message: \"boolean schema is false\",\n}\n\nexport function topBoolOrEmptySchema(it: SchemaCxt): void {\n  const {gen, schema, validateName} = it\n  if (schema === false) {\n    falseSchemaError(it, false)\n  } else if (typeof schema == \"object\" && schema.$async === true) {\n    gen.return(N.data)\n  } else {\n    gen.assign(_`${validateName}.errors`, null)\n    gen.return(true)\n  }\n}\n\nexport function boolOrEmptySchema(it: SchemaCxt, valid: Name): void {\n  const {gen, schema} = it\n  if (schema === false) {\n    gen.var(valid, false) // TODO var\n    falseSchemaError(it)\n  } else {\n    gen.var(valid, true) // TODO var\n  }\n}\n\nfunction falseSchemaError(it: SchemaCxt, overrideAllErrors?: boolean): void {\n  const {gen, data} = it\n  // TODO maybe some other interface should be used for non-keyword validation errors...\n  const cxt: KeywordErrorCxt = {\n    gen,\n    keyword: \"false schema\",\n    data,\n    schema: false,\n    schemaCode: false,\n    schemaValue: false,\n    params: {},\n    it,\n  }\n  reportError(cxt, boolError, undefined, overrideAllErrors)\n}\n", "import type {AddedKeywordDefinition} from \"../types\"\n\nconst _jsonTypes = [\"string\", \"number\", \"integer\", \"boolean\", \"null\", \"object\", \"array\"] as const\n\nexport type JSONType = (typeof _jsonTypes)[number]\n\nconst jsonTypes: Set<string> = new Set(_jsonTypes)\n\nexport function isJSONType(x: unknown): x is JSONType {\n  return typeof x == \"string\" && jsonTypes.has(x)\n}\n\ntype ValidationTypes = {\n  [K in JSONType]: boolean | RuleGroup | undefined\n}\n\nexport interface ValidationRules {\n  rules: RuleGroup[]\n  post: RuleGroup\n  all: {[Key in string]?: boolean | Rule} // rules that have to be validated\n  keywords: {[Key in string]?: boolean} // all known keywords (superset of \"all\")\n  types: ValidationTypes\n}\n\nexport interface RuleGroup {\n  type?: JSONType\n  rules: Rule[]\n}\n\n// This interface wraps KeywordDefinition because definition can have multiple keywords\nexport interface Rule {\n  keyword: string\n  definition: AddedKeywordDefinition\n}\n\nexport function getRules(): ValidationRules {\n  const groups: Record<\"number\" | \"string\" | \"array\" | \"object\", RuleGroup> = {\n    number: {type: \"number\", rules: []},\n    string: {type: \"string\", rules: []},\n    array: {type: \"array\", rules: []},\n    object: {type: \"object\", rules: []},\n  }\n  return {\n    types: {...groups, integer: true, boolean: true, null: true},\n    rules: [{rules: []}, groups.number, groups.string, groups.array, groups.object],\n    post: {rules: []},\n    all: {},\n    keywords: {},\n  }\n}\n", "import type {AnySchemaObject} from \"../../types\"\nimport type {SchemaObjCxt} from \"..\"\nimport type {JSONType, RuleGroup, Rule} from \"../rules\"\n\nexport function schemaHasRulesForType(\n  {schema, self}: SchemaObjCxt,\n  type: JSONType\n): boolean | undefined {\n  const group = self.RULES.types[type]\n  return group && group !== true && shouldUseGroup(schema, group)\n}\n\nexport function shouldUseGroup(schema: AnySchemaObject, group: RuleGroup): boolean {\n  return group.rules.some((rule) => shouldUseRule(schema, rule))\n}\n\nexport function shouldUseRule(schema: AnySchemaObject, rule: Rule): boolean | undefined {\n  return (\n    schema[rule.keyword] !== undefined ||\n    rule.definition.implements?.some((kwd) => schema[kwd] !== undefined)\n  )\n}\n", "import type {\n  KeywordErrorDefinition,\n  KeywordErrorCxt,\n  ErrorObject,\n  AnySchemaObject,\n} from \"../../types\"\nimport type {SchemaObjCxt} from \"..\"\nimport {isJSONType, JSONType} from \"../rules\"\nimport {schemaHasRulesForType} from \"./applicability\"\nimport {reportError} from \"../errors\"\nimport {_, nil, and, not, operators, Code, Name} from \"../codegen\"\nimport {toHash, schemaRefOrVal} from \"../util\"\n\nexport enum DataType {\n  Correct,\n  Wrong,\n}\n\nexport function getSchemaTypes(schema: AnySchemaObject): JSONType[] {\n  const types = getJSONTypes(schema.type)\n  const hasNull = types.includes(\"null\")\n  if (hasNull) {\n    if (schema.nullable === false) throw new Error(\"type: null contradicts nullable: false\")\n  } else {\n    if (!types.length && schema.nullable !== undefined) {\n      throw new Error('\"nullable\" cannot be used without \"type\"')\n    }\n    if (schema.nullable === true) types.push(\"null\")\n  }\n  return types\n}\n\n// eslint-disable-next-line @typescript-eslint/no-redundant-type-constituents\nexport function getJSONTypes(ts: unknown | unknown[]): JSONType[] {\n  const types: unknown[] = Array.isArray(ts) ? ts : ts ? [ts] : []\n  if (types.every(isJSONType)) return types\n  throw new Error(\"type must be JSONType or JSONType[]: \" + types.join(\",\"))\n}\n\nexport function coerceAndCheckDataType(it: SchemaObjCxt, types: JSONType[]): boolean {\n  const {gen, data, opts} = it\n  const coerceTo = coerceToTypes(types, opts.coerceTypes)\n  const checkTypes =\n    types.length > 0 &&\n    !(coerceTo.length === 0 && types.length === 1 && schemaHasRulesForType(it, types[0]))\n  if (checkTypes) {\n    const wrongType = checkDataTypes(types, data, opts.strictNumbers, DataType.Wrong)\n    gen.if(wrongType, () => {\n      if (coerceTo.length) coerceData(it, types, coerceTo)\n      else reportTypeError(it)\n    })\n  }\n  return checkTypes\n}\n\nconst COERCIBLE: Set<JSONType> = new Set([\"string\", \"number\", \"integer\", \"boolean\", \"null\"])\nfunction coerceToTypes(types: JSONType[], coerceTypes?: boolean | \"array\"): JSONType[] {\n  return coerceTypes\n    ? types.filter((t) => COERCIBLE.has(t) || (coerceTypes === \"array\" && t === \"array\"))\n    : []\n}\n\nfunction coerceData(it: SchemaObjCxt, types: JSONType[], coerceTo: JSONType[]): void {\n  const {gen, data, opts} = it\n  const dataType = gen.let(\"dataType\", _`typeof ${data}`)\n  const coerced = gen.let(\"coerced\", _`undefined`)\n  if (opts.coerceTypes === \"array\") {\n    gen.if(_`${dataType} == 'object' && Array.isArray(${data}) && ${data}.length == 1`, () =>\n      gen\n        .assign(data, _`${data}[0]`)\n        .assign(dataType, _`typeof ${data}`)\n        .if(checkDataTypes(types, data, opts.strictNumbers), () => gen.assign(coerced, data))\n    )\n  }\n  gen.if(_`${coerced} !== undefined`)\n  for (const t of coerceTo) {\n    if (COERCIBLE.has(t) || (t === \"array\" && opts.coerceTypes === \"array\")) {\n      coerceSpecificType(t)\n    }\n  }\n  gen.else()\n  reportTypeError(it)\n  gen.endIf()\n\n  gen.if(_`${coerced} !== undefined`, () => {\n    gen.assign(data, coerced)\n    assignParentData(it, coerced)\n  })\n\n  function coerceSpecificType(t: string): void {\n    switch (t) {\n      case \"string\":\n        gen\n          .elseIf(_`${dataType} == \"number\" || ${dataType} == \"boolean\"`)\n          .assign(coerced, _`\"\" + ${data}`)\n          .elseIf(_`${data} === null`)\n          .assign(coerced, _`\"\"`)\n        return\n      case \"number\":\n        gen\n          .elseIf(\n            _`${dataType} == \"boolean\" || ${data} === null\n              || (${dataType} == \"string\" && ${data} && ${data} == +${data})`\n          )\n          .assign(coerced, _`+${data}`)\n        return\n      case \"integer\":\n        gen\n          .elseIf(\n            _`${dataType} === \"boolean\" || ${data} === null\n              || (${dataType} === \"string\" && ${data} && ${data} == +${data} && !(${data} % 1))`\n          )\n          .assign(coerced, _`+${data}`)\n        return\n      case \"boolean\":\n        gen\n          .elseIf(_`${data} === \"false\" || ${data} === 0 || ${data} === null`)\n          .assign(coerced, false)\n          .elseIf(_`${data} === \"true\" || ${data} === 1`)\n          .assign(coerced, true)\n        return\n      case \"null\":\n        gen.elseIf(_`${data} === \"\" || ${data} === 0 || ${data} === false`)\n        gen.assign(coerced, null)\n        return\n\n      case \"array\":\n        gen\n          .elseIf(\n            _`${dataType} === \"string\" || ${dataType} === \"number\"\n              || ${dataType} === \"boolean\" || ${data} === null`\n          )\n          .assign(coerced, _`[${data}]`)\n    }\n  }\n}\n\nfunction assignParentData({gen, parentData, parentDataProperty}: SchemaObjCxt, expr: Name): void {\n  // TODO use gen.property\n  gen.if(_`${parentData} !== undefined`, () =>\n    gen.assign(_`${parentData}[${parentDataProperty}]`, expr)\n  )\n}\n\nexport function checkDataType(\n  dataType: JSONType,\n  data: Name,\n  strictNums?: boolean | \"log\",\n  correct = DataType.Correct\n): Code {\n  const EQ = correct === DataType.Correct ? operators.EQ : operators.NEQ\n  let cond: Code\n  switch (dataType) {\n    case \"null\":\n      return _`${data} ${EQ} null`\n    case \"array\":\n      cond = _`Array.isArray(${data})`\n      break\n    case \"object\":\n      cond = _`${data} && typeof ${data} == \"object\" && !Array.isArray(${data})`\n      break\n    case \"integer\":\n      cond = numCond(_`!(${data} % 1) && !isNaN(${data})`)\n      break\n    case \"number\":\n      cond = numCond()\n      break\n    default:\n      return _`typeof ${data} ${EQ} ${dataType}`\n  }\n  return correct === DataType.Correct ? cond : not(cond)\n\n  function numCond(_cond: Code = nil): Code {\n    return and(_`typeof ${data} == \"number\"`, _cond, strictNums ? _`isFinite(${data})` : nil)\n  }\n}\n\nexport function checkDataTypes(\n  dataTypes: JSONType[],\n  data: Name,\n  strictNums?: boolean | \"log\",\n  correct?: DataType\n): Code {\n  if (dataTypes.length === 1) {\n    return checkDataType(dataTypes[0], data, strictNums, correct)\n  }\n  let cond: Code\n  const types = toHash(dataTypes)\n  if (types.array && types.object) {\n    const notObj = _`typeof ${data} != \"object\"`\n    cond = types.null ? notObj : _`!${data} || ${notObj}`\n    delete types.null\n    delete types.array\n    delete types.object\n  } else {\n    cond = nil\n  }\n  if (types.number) delete types.integer\n  for (const t in types) cond = and(cond, checkDataType(t as JSONType, data, strictNums, correct))\n  return cond\n}\n\nexport type TypeError = ErrorObject<\"type\", {type: string}>\n\nconst typeError: KeywordErrorDefinition = {\n  message: ({schema}) => `must be ${schema}`,\n  params: ({schema, schemaValue}) =>\n    typeof schema == \"string\" ? _`{type: ${schema}}` : _`{type: ${schemaValue}}`,\n}\n\nexport function reportTypeError(it: SchemaObjCxt): void {\n  const cxt = getTypeErrorContext(it)\n  reportError(cxt, typeError)\n}\n\nfunction getTypeErrorContext(it: SchemaObjCxt): KeywordErrorCxt {\n  const {gen, data, schema} = it\n  const schemaCode = schemaRefOrVal(it, schema, \"type\")\n  return {\n    gen,\n    keyword: \"type\",\n    data,\n    schema: schema.type,\n    schemaCode,\n    schemaValue: schemaCode,\n    parentSchema: schema,\n    params: {},\n    it,\n  }\n}\n", "import type {SchemaObjCxt} from \"..\"\nimport {_, getProperty, stringify} from \"../codegen\"\nimport {checkStrictMode} from \"../util\"\n\nexport function assignDefaults(it: SchemaObjCxt, ty?: string): void {\n  const {properties, items} = it.schema\n  if (ty === \"object\" && properties) {\n    for (const key in properties) {\n      assignDefault(it, key, properties[key].default)\n    }\n  } else if (ty === \"array\" && Array.isArray(items)) {\n    items.forEach((sch, i: number) => assignDefault(it, i, sch.default))\n  }\n}\n\nfunction assignDefault(it: SchemaObjCxt, prop: string | number, defaultValue: unknown): void {\n  const {gen, compositeRule, data, opts} = it\n  if (defaultValue === undefined) return\n  const childData = _`${data}${getProperty(prop)}`\n  if (compositeRule) {\n    checkStrictMode(it, `default is ignored for: ${childData}`)\n    return\n  }\n\n  let condition = _`${childData} === undefined`\n  if (opts.useDefaults === \"empty\") {\n    condition = _`${condition} || ${childData} === null || ${childData} === \"\"`\n  }\n  // `${childData} === undefined` +\n  // (opts.useDefaults === \"empty\" ? ` || ${childData} === null || ${childData} === \"\"` : \"\")\n  gen.if(condition, _`${childData} = ${stringify(defaultValue)}`)\n}\n", "import type {AnySchema, SchemaMap} from \"../types\"\nimport type {SchemaCxt} from \"../compile\"\nimport type {KeywordCxt} from \"../compile/validate\"\nimport {CodeGen, _, and, or, not, nil, strConcat, getProperty, Code, Name} from \"../compile/codegen\"\nimport {alwaysValidSchema, Type} from \"../compile/util\"\nimport N from \"../compile/names\"\nimport {useFunc} from \"../compile/util\"\nexport function checkReportMissingProp(cxt: KeywordCxt, prop: string): void {\n  const {gen, data, it} = cxt\n  gen.if(noPropertyInData(gen, data, prop, it.opts.ownProperties), () => {\n    cxt.setParams({missingProperty: _`${prop}`}, true)\n    cxt.error()\n  })\n}\n\nexport function checkMissingProp(\n  {gen, data, it: {opts}}: KeywordCxt,\n  properties: string[],\n  missing: Name\n): Code {\n  return or(\n    ...properties.map((prop) =>\n      and(noPropertyInData(gen, data, prop, opts.ownProperties), _`${missing} = ${prop}`)\n    )\n  )\n}\n\nexport function reportMissingProp(cxt: KeywordCxt, missing: Name): void {\n  cxt.setParams({missingProperty: missing}, true)\n  cxt.error()\n}\n\nexport function hasPropFunc(gen: CodeGen): Name {\n  return gen.scopeValue(\"func\", {\n    // eslint-disable-next-line @typescript-eslint/unbound-method\n    ref: Object.prototype.hasOwnProperty,\n    code: _`Object.prototype.hasOwnProperty`,\n  })\n}\n\nexport function isOwnProperty(gen: CodeGen, data: Name, property: Name | string): Code {\n  return _`${hasPropFunc(gen)}.call(${data}, ${property})`\n}\n\nexport function propertyInData(\n  gen: CodeGen,\n  data: Name,\n  property: Name | string,\n  ownProperties?: boolean\n): Code {\n  const cond = _`${data}${getProperty(property)} !== undefined`\n  return ownProperties ? _`${cond} && ${isOwnProperty(gen, data, property)}` : cond\n}\n\nexport function noPropertyInData(\n  gen: CodeGen,\n  data: Name,\n  property: Name | string,\n  ownProperties?: boolean\n): Code {\n  const cond = _`${data}${getProperty(property)} === undefined`\n  return ownProperties ? or(cond, not(isOwnProperty(gen, data, property))) : cond\n}\n\nexport function allSchemaProperties(schemaMap?: SchemaMap): string[] {\n  return schemaMap ? Object.keys(schemaMap).filter((p) => p !== \"__proto__\") : []\n}\n\nexport function schemaProperties(it: SchemaCxt, schemaMap: SchemaMap): string[] {\n  return allSchemaProperties(schemaMap).filter(\n    (p) => !alwaysValidSchema(it, schemaMap[p] as AnySchema)\n  )\n}\n\nexport function callValidateCode(\n  {schemaCode, data, it: {gen, topSchemaRef, schemaPath, errorPath}, it}: KeywordCxt,\n  func: Code,\n  context: Code,\n  passSchema?: boolean\n): Code {\n  const dataAndSchema = passSchema ? _`${schemaCode}, ${data}, ${topSchemaRef}${schemaPath}` : data\n  const valCxt: [Name, Code | number][] = [\n    [N.instancePath, strConcat(N.instancePath, errorPath)],\n    [N.parentData, it.parentData],\n    [N.parentDataProperty, it.parentDataProperty],\n    [N.rootData, N.rootData],\n  ]\n  if (it.opts.dynamicRef) valCxt.push([N.dynamicAnchors, N.dynamicAnchors])\n  const args = _`${dataAndSchema}, ${gen.object(...valCxt)}`\n  return context !== nil ? _`${func}.call(${context}, ${args})` : _`${func}(${args})`\n}\n\nconst newRegExp = _`new RegExp`\n\nexport function usePattern({gen, it: {opts}}: KeywordCxt, pattern: string): Name {\n  const u = opts.unicodeRegExp ? \"u\" : \"\"\n  const {regExp} = opts.code\n  const rx = regExp(pattern, u)\n\n  return gen.scopeValue(\"pattern\", {\n    key: rx.toString(),\n    ref: rx,\n    code: _`${regExp.code === \"new RegExp\" ? newRegExp : useFunc(gen, regExp)}(${pattern}, ${u})`,\n  })\n}\n\nexport function validateArray(cxt: KeywordCxt): Name {\n  const {gen, data, keyword, it} = cxt\n  const valid = gen.name(\"valid\")\n  if (it.allErrors) {\n    const validArr = gen.let(\"valid\", true)\n    validateItems(() => gen.assign(validArr, false))\n    return validArr\n  }\n  gen.var(valid, true)\n  validateItems(() => gen.break())\n  return valid\n\n  function validateItems(notValid: () => void): void {\n    const len = gen.const(\"len\", _`${data}.length`)\n    gen.forRange(\"i\", 0, len, (i) => {\n      cxt.subschema(\n        {\n          keyword,\n          dataProp: i,\n          dataPropType: Type.Num,\n        },\n        valid\n      )\n      gen.if(not(valid), notValid)\n    })\n  }\n}\n\nexport function validateUnion(cxt: KeywordCxt): void {\n  const {gen, schema, keyword, it} = cxt\n  /* istanbul ignore if */\n  if (!Array.isArray(schema)) throw new Error(\"ajv implementation error\")\n  const alwaysValid = schema.some((sch: AnySchema) => alwaysValidSchema(it, sch))\n  if (alwaysValid && !it.opts.unevaluated) return\n\n  const valid = gen.let(\"valid\", false)\n  const schValid = gen.name(\"_valid\")\n\n  gen.block(() =>\n    schema.forEach((_sch: AnySchema, i: number) => {\n      const schCxt = cxt.subschema(\n        {\n          keyword,\n          schemaProp: i,\n          compositeRule: true,\n        },\n        schValid\n      )\n      gen.assign(valid, _`${valid} || ${schValid}`)\n      const merged = cxt.mergeValidEvaluated(schCxt, schValid)\n      // can short-circuit if `unevaluatedProperties/Items` not supported (opts.unevaluated !== true)\n      // or if all properties and items were evaluated (it.props === true && it.items === true)\n      if (!merged) gen.if(not(valid))\n    })\n  )\n\n  cxt.result(\n    valid,\n    () => cxt.reset(),\n    () => cxt.error(true)\n  )\n}\n", "import type {KeywordCxt} from \".\"\nimport type {\n  AnySchema,\n  SchemaValidateFunction,\n  AnyValidateFunction,\n  AddedKeywordDefinition,\n  MacroKeywordDefinition,\n  FuncKeywordDefinition,\n} from \"../../types\"\nimport type {SchemaObjCxt} from \"..\"\nimport {_, nil, not, stringify, Code, Name, CodeGen} from \"../codegen\"\nimport N from \"../names\"\nimport type {JSONType} from \"../rules\"\nimport {callValidateCode} from \"../../vocabularies/code\"\nimport {extendErrors} from \"../errors\"\n\ntype KeywordCompilationResult = AnySchema | SchemaValidateFunction | AnyValidateFunction\n\nexport function macroKeywordCode(cxt: KeywordCxt, def: MacroKeywordDefinition): void {\n  const {gen, keyword, schema, parentSchema, it} = cxt\n  const macroSchema = def.macro.call(it.self, schema, parentSchema, it)\n  const schemaRef = useKeyword(gen, keyword, macroSchema)\n  if (it.opts.validateSchema !== false) it.self.validateSchema(macroSchema, true)\n\n  const valid = gen.name(\"valid\")\n  cxt.subschema(\n    {\n      schema: macroSchema,\n      schemaPath: nil,\n      errSchemaPath: `${it.errSchemaPath}/${keyword}`,\n      topSchemaRef: schemaRef,\n      compositeRule: true,\n    },\n    valid\n  )\n  cxt.pass(valid, () => cxt.error(true))\n}\n\nexport function funcKeywordCode(cxt: KeywordCxt, def: FuncKeywordDefinition): void {\n  const {gen, keyword, schema, parentSchema, $data, it} = cxt\n  checkAsyncKeyword(it, def)\n  const validate =\n    !$data && def.compile ? def.compile.call(it.self, schema, parentSchema, it) : def.validate\n  const validateRef = useKeyword(gen, keyword, validate)\n  const valid = gen.let(\"valid\")\n  cxt.block$data(valid, validateKeyword)\n  cxt.ok(def.valid ?? valid)\n\n  function validateKeyword(): void {\n    if (def.errors === false) {\n      assignValid()\n      if (def.modifying) modifyData(cxt)\n      reportErrs(() => cxt.error())\n    } else {\n      const ruleErrs = def.async ? validateAsync() : validateSync()\n      if (def.modifying) modifyData(cxt)\n      reportErrs(() => addErrs(cxt, ruleErrs))\n    }\n  }\n\n  function validateAsync(): Name {\n    const ruleErrs = gen.let(\"ruleErrs\", null)\n    gen.try(\n      () => assignValid(_`await `),\n      (e) =>\n        gen.assign(valid, false).if(\n          _`${e} instanceof ${it.ValidationError as Name}`,\n          () => gen.assign(ruleErrs, _`${e}.errors`),\n          () => gen.throw(e)\n        )\n    )\n    return ruleErrs\n  }\n\n  function validateSync(): Code {\n    const validateErrs = _`${validateRef}.errors`\n    gen.assign(validateErrs, null)\n    assignValid(nil)\n    return validateErrs\n  }\n\n  function assignValid(_await: Code = def.async ? _`await ` : nil): void {\n    const passCxt = it.opts.passContext ? N.this : N.self\n    const passSchema = !((\"compile\" in def && !$data) || def.schema === false)\n    gen.assign(\n      valid,\n      _`${_await}${callValidateCode(cxt, validateRef, passCxt, passSchema)}`,\n      def.modifying\n    )\n  }\n\n  function reportErrs(errors: () => void): void {\n    gen.if(not(def.valid ?? valid), errors)\n  }\n}\n\nfunction modifyData(cxt: KeywordCxt): void {\n  const {gen, data, it} = cxt\n  gen.if(it.parentData, () => gen.assign(data, _`${it.parentData}[${it.parentDataProperty}]`))\n}\n\nfunction addErrs(cxt: KeywordCxt, errs: Code): void {\n  const {gen} = cxt\n  gen.if(\n    _`Array.isArray(${errs})`,\n    () => {\n      gen\n        .assign(N.vErrors, _`${N.vErrors} === null ? ${errs} : ${N.vErrors}.concat(${errs})`)\n        .assign(N.errors, _`${N.vErrors}.length`)\n      extendErrors(cxt)\n    },\n    () => cxt.error()\n  )\n}\n\nfunction checkAsyncKeyword({schemaEnv}: SchemaObjCxt, def: FuncKeywordDefinition): void {\n  if (def.async && !schemaEnv.$async) throw new Error(\"async keyword in sync schema\")\n}\n\nfunction useKeyword(gen: CodeGen, keyword: string, result?: KeywordCompilationResult): Name {\n  if (result === undefined) throw new Error(`keyword \"${keyword}\" failed to compile`)\n  return gen.scopeValue(\n    \"keyword\",\n    typeof result == \"function\" ? {ref: result} : {ref: result, code: stringify(result)}\n  )\n}\n\nexport function validSchemaType(\n  schema: unknown,\n  schemaType: JSONType[],\n  allowUndefined = false\n): boolean {\n  // TODO add tests\n  return (\n    !schemaType.length ||\n    schemaType.some((st) =>\n      st === \"array\"\n        ? Array.isArray(schema)\n        : st === \"object\"\n        ? schema && typeof schema == \"object\" && !Array.isArray(schema)\n        : typeof schema == st || (allowUndefined && typeof schema == \"undefined\")\n    )\n  )\n}\n\nexport function validateKeywordUsage(\n  {schema, opts, self, errSchemaPath}: SchemaObjCxt,\n  def: AddedKeywordDefinition,\n  keyword: string\n): void {\n  /* istanbul ignore if */\n  if (Array.isArray(def.keyword) ? !def.keyword.includes(keyword) : def.keyword !== keyword) {\n    throw new Error(\"ajv implementation error\")\n  }\n\n  const deps = def.dependencies\n  if (deps?.some((kwd) => !Object.prototype.hasOwnProperty.call(schema, kwd))) {\n    throw new Error(`parent schema must have dependencies of ${keyword}: ${deps.join(\",\")}`)\n  }\n\n  if (def.validateSchema) {\n    const valid = def.validateSchema(schema[keyword])\n    if (!valid) {\n      const msg =\n        `keyword \"${keyword}\" value is invalid at path \"${errSchemaPath}\": ` +\n        self.errorsText(def.validateSchema.errors)\n      if (opts.validateSchema === \"log\") self.logger.error(msg)\n      else throw new Error(msg)\n    }\n  }\n}\n", "import type {AnySchema} from \"../../types\"\nimport type {SchemaObjCxt} from \"..\"\nimport {_, str, getProperty, Code, Name} from \"../codegen\"\nimport {escapeFragment, getErrorPath, Type} from \"../util\"\nimport type {JSONType} from \"../rules\"\n\nexport interface SubschemaContext {\n  // TODO use Optional? align with SchemCxt property types\n  schema: AnySchema\n  schemaPath: Code\n  errSchemaPath: string\n  topSchemaRef?: Code\n  errorPath?: Code\n  dataLevel?: number\n  dataTypes?: JSONType[]\n  data?: Name\n  parentData?: Name\n  parentDataProperty?: Code | number\n  dataNames?: Name[]\n  dataPathArr?: (Code | number)[]\n  propertyName?: Name\n  jtdDiscriminator?: string\n  jtdMetadata?: boolean\n  compositeRule?: true\n  createErrors?: boolean\n  allErrors?: boolean\n}\n\nexport type SubschemaArgs = Partial<{\n  keyword: string\n  schemaProp: string | number\n  schema: AnySchema\n  schemaPath: Code\n  errSchemaPath: string\n  topSchemaRef: Code\n  data: Name | Code\n  dataProp: Code | string | number\n  dataTypes: JSONType[]\n  definedProperties: Set<string>\n  propertyName: Name\n  dataPropType: Type\n  jtdDiscriminator: string\n  jtdMetadata: boolean\n  compositeRule: true\n  createErrors: boolean\n  allErrors: boolean\n}>\n\nexport function getSubschema(\n  it: SchemaObjCxt,\n  {keyword, schemaProp, schema, schemaPath, errSchemaPath, topSchemaRef}: SubschemaArgs\n): SubschemaContext {\n  if (keyword !== undefined && schema !== undefined) {\n    throw new Error('both \"keyword\" and \"schema\" passed, only one allowed')\n  }\n\n  if (keyword !== undefined) {\n    const sch = it.schema[keyword]\n    return schemaProp === undefined\n      ? {\n          schema: sch,\n          schemaPath: _`${it.schemaPath}${getProperty(keyword)}`,\n          errSchemaPath: `${it.errSchemaPath}/${keyword}`,\n        }\n      : {\n          schema: sch[schemaProp],\n          schemaPath: _`${it.schemaPath}${getProperty(keyword)}${getProperty(schemaProp)}`,\n          errSchemaPath: `${it.errSchemaPath}/${keyword}/${escapeFragment(schemaProp)}`,\n        }\n  }\n\n  if (schema !== undefined) {\n    if (schemaPath === undefined || errSchemaPath === undefined || topSchemaRef === undefined) {\n      throw new Error('\"schemaPath\", \"errSchemaPath\" and \"topSchemaRef\" are required with \"schema\"')\n    }\n    return {\n      schema,\n      schemaPath,\n      topSchemaRef,\n      errSchemaPath,\n    }\n  }\n\n  throw new Error('either \"keyword\" or \"schema\" must be passed')\n}\n\nexport function extendSubschemaData(\n  subschema: SubschemaContext,\n  it: SchemaObjCxt,\n  {dataProp, dataPropType: dpType, data, dataTypes, propertyName}: SubschemaArgs\n): void {\n  if (data !== undefined && dataProp !== undefined) {\n    throw new Error('both \"data\" and \"dataProp\" passed, only one allowed')\n  }\n\n  const {gen} = it\n\n  if (dataProp !== undefined) {\n    const {errorPath, dataPathArr, opts} = it\n    const nextData = gen.let(\"data\", _`${it.data}${getProperty(dataProp)}`, true)\n    dataContextProps(nextData)\n    subschema.errorPath = str`${errorPath}${getErrorPath(dataProp, dpType, opts.jsPropertySyntax)}`\n    subschema.parentDataProperty = _`${dataProp}`\n    subschema.dataPathArr = [...dataPathArr, subschema.parentDataProperty]\n  }\n\n  if (data !== undefined) {\n    const nextData = data instanceof Name ? data : gen.let(\"data\", data, true) // replaceable if used once?\n    dataContextProps(nextData)\n    if (propertyName !== undefined) subschema.propertyName = propertyName\n    // TODO something is possibly wrong here with not changing parentDataProperty and not appending dataPathArr\n  }\n\n  if (dataTypes) subschema.dataTypes = dataTypes\n\n  function dataContextProps(_nextData: Name): void {\n    subschema.data = _nextData\n    subschema.dataLevel = it.dataLevel + 1\n    subschema.dataTypes = []\n    it.definedProperties = new Set<string>()\n    subschema.parentData = it.data\n    subschema.dataNames = [...it.dataNames, _nextData]\n  }\n}\n\nexport function extendSubschemaMode(\n  subschema: SubschemaContext,\n  {jtdDiscriminator, jtdMetadata, compositeRule, createErrors, allErrors}: SubschemaArgs\n): void {\n  if (compositeRule !== undefined) subschema.compositeRule = compositeRule\n  if (createErrors !== undefined) subschema.createErrors = createErrors\n  if (allErrors !== undefined) subschema.allErrors = allErrors\n  subschema.jtdDiscriminator = jtdDiscriminator // not inherited\n  subschema.jtdMetadata = jtdMetadata // not inherited\n}\n", "'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n", "'use strict';\n\nvar traverse = module.exports = function (schema, opts, cb) {\n  // Legacy support for v0.3.1 and earlier.\n  if (typeof opts == 'function') {\n    cb = opts;\n    opts = {};\n  }\n\n  cb = opts.cb || cb;\n  var pre = (typeof cb == 'function') ? cb : cb.pre || function() {};\n  var post = cb.post || function() {};\n\n  _traverse(opts, pre, post, schema, '', schema);\n};\n\n\ntraverse.keywords = {\n  additionalItems: true,\n  items: true,\n  contains: true,\n  additionalProperties: true,\n  propertyNames: true,\n  not: true,\n  if: true,\n  then: true,\n  else: true\n};\n\ntraverse.arrayKeywords = {\n  items: true,\n  allOf: true,\n  anyOf: true,\n  oneOf: true\n};\n\ntraverse.propsKeywords = {\n  $defs: true,\n  definitions: true,\n  properties: true,\n  patternProperties: true,\n  dependencies: true\n};\n\ntraverse.skipKeywords = {\n  default: true,\n  enum: true,\n  const: true,\n  required: true,\n  maximum: true,\n  minimum: true,\n  exclusiveMaximum: true,\n  exclusiveMinimum: true,\n  multipleOf: true,\n  maxLength: true,\n  minLength: true,\n  pattern: true,\n  format: true,\n  maxItems: true,\n  minItems: true,\n  uniqueItems: true,\n  maxProperties: true,\n  minProperties: true\n};\n\n\nfunction _traverse(opts, pre, post, schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n  if (schema && typeof schema == 'object' && !Array.isArray(schema)) {\n    pre(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n    for (var key in schema) {\n      var sch = schema[key];\n      if (Array.isArray(sch)) {\n        if (key in traverse.arrayKeywords) {\n          for (var i=0; i<sch.length; i++)\n            _traverse(opts, pre, post, sch[i], jsonPtr + '/' + key + '/' + i, rootSchema, jsonPtr, key, schema, i);\n        }\n      } else if (key in traverse.propsKeywords) {\n        if (sch && typeof sch == 'object') {\n          for (var prop in sch)\n            _traverse(opts, pre, post, sch[prop], jsonPtr + '/' + key + '/' + escapeJsonPtr(prop), rootSchema, jsonPtr, key, schema, prop);\n        }\n      } else if (key in traverse.keywords || (opts.allKeys && !(key in traverse.skipKeywords))) {\n        _traverse(opts, pre, post, sch, jsonPtr + '/' + key, rootSchema, jsonPtr, key, schema);\n      }\n    }\n    post(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n  }\n}\n\n\nfunction escapeJsonPtr(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n", "import type {AnySchema, AnySchemaObject, UriResolver} from \"../types\"\nimport type Ajv from \"../ajv\"\nimport type {URIComponent} from \"fast-uri\"\nimport {eachItem} from \"./util\"\nimport * as equal from \"fast-deep-equal\"\nimport * as traverse from \"json-schema-traverse\"\n\n// the hash of local references inside the schema (created by getSchemaRefs), used for inline resolution\nexport type LocalRefs = {[Ref in string]?: AnySchemaObject}\n\n// TODO refactor to use keyword definitions\nconst SIMPLE_INLINED = new Set([\n  \"type\",\n  \"format\",\n  \"pattern\",\n  \"maxLength\",\n  \"minLength\",\n  \"maxProperties\",\n  \"minProperties\",\n  \"maxItems\",\n  \"minItems\",\n  \"maximum\",\n  \"minimum\",\n  \"uniqueItems\",\n  \"multipleOf\",\n  \"required\",\n  \"enum\",\n  \"const\",\n])\n\nexport function inlineRef(schema: AnySchema, limit: boolean | number = true): boolean {\n  if (typeof schema == \"boolean\") return true\n  if (limit === true) return !hasRef(schema)\n  if (!limit) return false\n  return countKeys(schema) <= limit\n}\n\nconst REF_KEYWORDS = new Set([\n  \"$ref\",\n  \"$recursiveRef\",\n  \"$recursiveAnchor\",\n  \"$dynamicRef\",\n  \"$dynamicAnchor\",\n])\n\nfunction hasRef(schema: AnySchemaObject): boolean {\n  for (const key in schema) {\n    if (REF_KEYWORDS.has(key)) return true\n    const sch = schema[key]\n    if (Array.isArray(sch) && sch.some(hasRef)) return true\n    if (typeof sch == \"object\" && hasRef(sch)) return true\n  }\n  return false\n}\n\nfunction countKeys(schema: AnySchemaObject): number {\n  let count = 0\n  for (const key in schema) {\n    if (key === \"$ref\") return Infinity\n    count++\n    if (SIMPLE_INLINED.has(key)) continue\n    if (typeof schema[key] == \"object\") {\n      eachItem(schema[key], (sch) => (count += countKeys(sch)))\n    }\n    if (count === Infinity) return Infinity\n  }\n  return count\n}\n\nexport function getFullPath(resolver: UriResolver, id = \"\", normalize?: boolean): string {\n  if (normalize !== false) id = normalizeId(id)\n  const p = resolver.parse(id)\n  return _getFullPath(resolver, p)\n}\n\nexport function _getFullPath(resolver: UriResolver, p: URIComponent): string {\n  const serialized = resolver.serialize(p)\n  return serialized.split(\"#\")[0] + \"#\"\n}\n\nconst TRAILING_SLASH_HASH = /#\\/?$/\nexport function normalizeId(id: string | undefined): string {\n  return id ? id.replace(TRAILING_SLASH_HASH, \"\") : \"\"\n}\n\nexport function resolveUrl(resolver: UriResolver, baseId: string, id: string): string {\n  id = normalizeId(id)\n  return resolver.resolve(baseId, id)\n}\n\nconst ANCHOR = /^[a-z_][-a-z0-9._]*$/i\n\nexport function getSchemaRefs(this: Ajv, schema: AnySchema, baseId: string): LocalRefs {\n  if (typeof schema == \"boolean\") return {}\n  const {schemaId, uriResolver} = this.opts\n  const schId = normalizeId(schema[schemaId] || baseId)\n  const baseIds: {[JsonPtr in string]?: string} = {\"\": schId}\n  const pathPrefix = getFullPath(uriResolver, schId, false)\n  const localRefs: LocalRefs = {}\n  const schemaRefs: Set<string> = new Set()\n\n  traverse(schema, {allKeys: true}, (sch, jsonPtr, _, parentJsonPtr) => {\n    if (parentJsonPtr === undefined) return\n    const fullPath = pathPrefix + jsonPtr\n    let innerBaseId = baseIds[parentJsonPtr]\n    if (typeof sch[schemaId] == \"string\") innerBaseId = addRef.call(this, sch[schemaId])\n    addAnchor.call(this, sch.$anchor)\n    addAnchor.call(this, sch.$dynamicAnchor)\n    baseIds[jsonPtr] = innerBaseId\n\n    function addRef(this: Ajv, ref: string): string {\n      // eslint-disable-next-line @typescript-eslint/unbound-method\n      const _resolve = this.opts.uriResolver.resolve\n      ref = normalizeId(innerBaseId ? _resolve(innerBaseId, ref) : ref)\n      if (schemaRefs.has(ref)) throw ambiguos(ref)\n      schemaRefs.add(ref)\n      let schOrRef = this.refs[ref]\n      if (typeof schOrRef == \"string\") schOrRef = this.refs[schOrRef]\n      if (typeof schOrRef == \"object\") {\n        checkAmbiguosRef(sch, schOrRef.schema, ref)\n      } else if (ref !== normalizeId(fullPath)) {\n        if (ref[0] === \"#\") {\n          checkAmbiguosRef(sch, localRefs[ref], ref)\n          localRefs[ref] = sch\n        } else {\n          this.refs[ref] = fullPath\n        }\n      }\n      return ref\n    }\n\n    function addAnchor(this: Ajv, anchor: unknown): void {\n      if (typeof anchor == \"string\") {\n        if (!ANCHOR.test(anchor)) throw new Error(`invalid anchor \"${anchor}\"`)\n        addRef.call(this, `#${anchor}`)\n      }\n    }\n  })\n\n  return localRefs\n\n  function checkAmbiguosRef(sch1: AnySchema, sch2: AnySchema | undefined, ref: string): void {\n    if (sch2 !== undefined && !equal(sch1, sch2)) throw ambiguos(ref)\n  }\n\n  function ambiguos(ref: string): Error {\n    return new Error(`reference \"${ref}\" resolves to more than one schema`)\n  }\n}\n", "import type {\n  AddedKeywordDefinition,\n  AnySchema,\n  AnySchemaObject,\n  KeywordErrorCxt,\n  KeywordCxtParams,\n} from \"../../types\"\nimport type {SchemaCxt, SchemaObjCxt} from \"..\"\nimport type {InstanceOptions} from \"../../core\"\nimport {boolOrEmptySchema, topBoolOrEmptySchema} from \"./boolSchema\"\nimport {coerceAndCheckDataType, getSchemaTypes} from \"./dataType\"\nimport {shouldUseGroup, shouldUseRule} from \"./applicability\"\nimport {checkDataType, checkDataTypes, reportTypeError, DataType} from \"./dataType\"\nimport {assignDefaults} from \"./defaults\"\nimport {funcKeywordCode, macroKeywordCode, validateKeywordUsage, validSchemaType} from \"./keyword\"\nimport {getSubschema, extendSubschemaData, SubschemaArgs, extendSubschemaMode} from \"./subschema\"\nimport {_, nil, str, or, not, getProperty, Block, Code, Name, CodeGen} from \"../codegen\"\nimport N from \"../names\"\nimport {resolveUrl} from \"../resolve\"\nimport {\n  schemaRefOrVal,\n  schemaHasRulesButRef,\n  checkUnknownRules,\n  checkStrictMode,\n  unescapeJsonPointer,\n  mergeEvaluated,\n} from \"../util\"\nimport type {JSONType, Rule, RuleGroup} from \"../rules\"\nimport {\n  ErrorPaths,\n  reportError,\n  reportExtraError,\n  resetErrorsCount,\n  keyword$DataError,\n} from \"../errors\"\n\n// schema compilation - generates validation function, subschemaCode (below) is used for subschemas\nexport function validateFunctionCode(it: SchemaCxt): void {\n  if (isSchemaObj(it)) {\n    checkKeywords(it)\n    if (schemaCxtHasRules(it)) {\n      topSchemaObjCode(it)\n      return\n    }\n  }\n  validateFunction(it, () => topBoolOrEmptySchema(it))\n}\n\nfunction validateFunction(\n  {gen, validateName, schema, schemaEnv, opts}: SchemaCxt,\n  body: Block\n): void {\n  if (opts.code.es5) {\n    gen.func(validateName, _`${N.data}, ${N.valCxt}`, schemaEnv.$async, () => {\n      gen.code(_`\"use strict\"; ${funcSourceUrl(schema, opts)}`)\n      destructureValCxtES5(gen, opts)\n      gen.code(body)\n    })\n  } else {\n    gen.func(validateName, _`${N.data}, ${destructureValCxt(opts)}`, schemaEnv.$async, () =>\n      gen.code(funcSourceUrl(schema, opts)).code(body)\n    )\n  }\n}\n\nfunction destructureValCxt(opts: InstanceOptions): Code {\n  return _`{${N.instancePath}=\"\", ${N.parentData}, ${N.parentDataProperty}, ${N.rootData}=${\n    N.data\n  }${opts.dynamicRef ? _`, ${N.dynamicAnchors}={}` : nil}}={}`\n}\n\nfunction destructureValCxtES5(gen: CodeGen, opts: InstanceOptions): void {\n  gen.if(\n    N.valCxt,\n    () => {\n      gen.var(N.instancePath, _`${N.valCxt}.${N.instancePath}`)\n      gen.var(N.parentData, _`${N.valCxt}.${N.parentData}`)\n      gen.var(N.parentDataProperty, _`${N.valCxt}.${N.parentDataProperty}`)\n      gen.var(N.rootData, _`${N.valCxt}.${N.rootData}`)\n      if (opts.dynamicRef) gen.var(N.dynamicAnchors, _`${N.valCxt}.${N.dynamicAnchors}`)\n    },\n    () => {\n      gen.var(N.instancePath, _`\"\"`)\n      gen.var(N.parentData, _`undefined`)\n      gen.var(N.parentDataProperty, _`undefined`)\n      gen.var(N.rootData, N.data)\n      if (opts.dynamicRef) gen.var(N.dynamicAnchors, _`{}`)\n    }\n  )\n}\n\nfunction topSchemaObjCode(it: SchemaObjCxt): void {\n  const {schema, opts, gen} = it\n  validateFunction(it, () => {\n    if (opts.$comment && schema.$comment) commentKeyword(it)\n    checkNoDefault(it)\n    gen.let(N.vErrors, null)\n    gen.let(N.errors, 0)\n    if (opts.unevaluated) resetEvaluated(it)\n    typeAndKeywords(it)\n    returnResults(it)\n  })\n  return\n}\n\nfunction resetEvaluated(it: SchemaObjCxt): void {\n  // TODO maybe some hook to execute it in the end to check whether props/items are Name, as in assignEvaluated\n  const {gen, validateName} = it\n  it.evaluated = gen.const(\"evaluated\", _`${validateName}.evaluated`)\n  gen.if(_`${it.evaluated}.dynamicProps`, () => gen.assign(_`${it.evaluated}.props`, _`undefined`))\n  gen.if(_`${it.evaluated}.dynamicItems`, () => gen.assign(_`${it.evaluated}.items`, _`undefined`))\n}\n\nfunction funcSourceUrl(schema: AnySchema, opts: InstanceOptions): Code {\n  const schId = typeof schema == \"object\" && schema[opts.schemaId]\n  return schId && (opts.code.source || opts.code.process) ? _`/*# sourceURL=${schId} */` : nil\n}\n\n// schema compilation - this function is used recursively to generate code for sub-schemas\nfunction subschemaCode(it: SchemaCxt, valid: Name): void {\n  if (isSchemaObj(it)) {\n    checkKeywords(it)\n    if (schemaCxtHasRules(it)) {\n      subSchemaObjCode(it, valid)\n      return\n    }\n  }\n  boolOrEmptySchema(it, valid)\n}\n\nfunction schemaCxtHasRules({schema, self}: SchemaCxt): boolean {\n  if (typeof schema == \"boolean\") return !schema\n  for (const key in schema) if (self.RULES.all[key]) return true\n  return false\n}\n\nfunction isSchemaObj(it: SchemaCxt): it is SchemaObjCxt {\n  return typeof it.schema != \"boolean\"\n}\n\nfunction subSchemaObjCode(it: SchemaObjCxt, valid: Name): void {\n  const {schema, gen, opts} = it\n  if (opts.$comment && schema.$comment) commentKeyword(it)\n  updateContext(it)\n  checkAsyncSchema(it)\n  const errsCount = gen.const(\"_errs\", N.errors)\n  typeAndKeywords(it, errsCount)\n  // TODO var\n  gen.var(valid, _`${errsCount} === ${N.errors}`)\n}\n\nfunction checkKeywords(it: SchemaObjCxt): void {\n  checkUnknownRules(it)\n  checkRefsAndKeywords(it)\n}\n\nfunction typeAndKeywords(it: SchemaObjCxt, errsCount?: Name): void {\n  if (it.opts.jtd) return schemaKeywords(it, [], false, errsCount)\n  const types = getSchemaTypes(it.schema)\n  const checkedTypes = coerceAndCheckDataType(it, types)\n  schemaKeywords(it, types, !checkedTypes, errsCount)\n}\n\nfunction checkRefsAndKeywords(it: SchemaObjCxt): void {\n  const {schema, errSchemaPath, opts, self} = it\n  if (schema.$ref && opts.ignoreKeywordsWithRef && schemaHasRulesButRef(schema, self.RULES)) {\n    self.logger.warn(`$ref: keywords ignored in schema at path \"${errSchemaPath}\"`)\n  }\n}\n\nfunction checkNoDefault(it: SchemaObjCxt): void {\n  const {schema, opts} = it\n  if (schema.default !== undefined && opts.useDefaults && opts.strictSchema) {\n    checkStrictMode(it, \"default is ignored in the schema root\")\n  }\n}\n\nfunction updateContext(it: SchemaObjCxt): void {\n  const schId = it.schema[it.opts.schemaId]\n  if (schId) it.baseId = resolveUrl(it.opts.uriResolver, it.baseId, schId)\n}\n\nfunction checkAsyncSchema(it: SchemaObjCxt): void {\n  if (it.schema.$async && !it.schemaEnv.$async) throw new Error(\"async schema in sync schema\")\n}\n\nfunction commentKeyword({gen, schemaEnv, schema, errSchemaPath, opts}: SchemaObjCxt): void {\n  const msg = schema.$comment\n  if (opts.$comment === true) {\n    gen.code(_`${N.self}.logger.log(${msg})`)\n  } else if (typeof opts.$comment == \"function\") {\n    const schemaPath = str`${errSchemaPath}/$comment`\n    const rootName = gen.scopeValue(\"root\", {ref: schemaEnv.root})\n    gen.code(_`${N.self}.opts.$comment(${msg}, ${schemaPath}, ${rootName}.schema)`)\n  }\n}\n\nfunction returnResults(it: SchemaCxt): void {\n  const {gen, schemaEnv, validateName, ValidationError, opts} = it\n  if (schemaEnv.$async) {\n    // TODO assign unevaluated\n    gen.if(\n      _`${N.errors} === 0`,\n      () => gen.return(N.data),\n      () => gen.throw(_`new ${ValidationError as Name}(${N.vErrors})`)\n    )\n  } else {\n    gen.assign(_`${validateName}.errors`, N.vErrors)\n    if (opts.unevaluated) assignEvaluated(it)\n    gen.return(_`${N.errors} === 0`)\n  }\n}\n\nfunction assignEvaluated({gen, evaluated, props, items}: SchemaCxt): void {\n  if (props instanceof Name) gen.assign(_`${evaluated}.props`, props)\n  if (items instanceof Name) gen.assign(_`${evaluated}.items`, items)\n}\n\nfunction schemaKeywords(\n  it: SchemaObjCxt,\n  types: JSONType[],\n  typeErrors: boolean,\n  errsCount?: Name\n): void {\n  const {gen, schema, data, allErrors, opts, self} = it\n  const {RULES} = self\n  if (schema.$ref && (opts.ignoreKeywordsWithRef || !schemaHasRulesButRef(schema, RULES))) {\n    gen.block(() => keywordCode(it, \"$ref\", (RULES.all.$ref as Rule).definition)) // TODO typecast\n    return\n  }\n  if (!opts.jtd) checkStrictTypes(it, types)\n  gen.block(() => {\n    for (const group of RULES.rules) groupKeywords(group)\n    groupKeywords(RULES.post)\n  })\n\n  function groupKeywords(group: RuleGroup): void {\n    if (!shouldUseGroup(schema, group)) return\n    if (group.type) {\n      gen.if(checkDataType(group.type, data, opts.strictNumbers))\n      iterateKeywords(it, group)\n      if (types.length === 1 && types[0] === group.type && typeErrors) {\n        gen.else()\n        reportTypeError(it)\n      }\n      gen.endIf()\n    } else {\n      iterateKeywords(it, group)\n    }\n    // TODO make it \"ok\" call?\n    if (!allErrors) gen.if(_`${N.errors} === ${errsCount || 0}`)\n  }\n}\n\nfunction iterateKeywords(it: SchemaObjCxt, group: RuleGroup): void {\n  const {\n    gen,\n    schema,\n    opts: {useDefaults},\n  } = it\n  if (useDefaults) assignDefaults(it, group.type)\n  gen.block(() => {\n    for (const rule of group.rules) {\n      if (shouldUseRule(schema, rule)) {\n        keywordCode(it, rule.keyword, rule.definition, group.type)\n      }\n    }\n  })\n}\n\nfunction checkStrictTypes(it: SchemaObjCxt, types: JSONType[]): void {\n  if (it.schemaEnv.meta || !it.opts.strictTypes) return\n  checkContextTypes(it, types)\n  if (!it.opts.allowUnionTypes) checkMultipleTypes(it, types)\n  checkKeywordTypes(it, it.dataTypes)\n}\n\nfunction checkContextTypes(it: SchemaObjCxt, types: JSONType[]): void {\n  if (!types.length) return\n  if (!it.dataTypes.length) {\n    it.dataTypes = types\n    return\n  }\n  types.forEach((t) => {\n    if (!includesType(it.dataTypes, t)) {\n      strictTypesError(it, `type \"${t}\" not allowed by context \"${it.dataTypes.join(\",\")}\"`)\n    }\n  })\n  narrowSchemaTypes(it, types)\n}\n\nfunction checkMultipleTypes(it: SchemaObjCxt, ts: JSONType[]): void {\n  if (ts.length > 1 && !(ts.length === 2 && ts.includes(\"null\"))) {\n    strictTypesError(it, \"use allowUnionTypes to allow union type keyword\")\n  }\n}\n\nfunction checkKeywordTypes(it: SchemaObjCxt, ts: JSONType[]): void {\n  const rules = it.self.RULES.all\n  for (const keyword in rules) {\n    const rule = rules[keyword]\n    if (typeof rule == \"object\" && shouldUseRule(it.schema, rule)) {\n      const {type} = rule.definition\n      if (type.length && !type.some((t) => hasApplicableType(ts, t))) {\n        strictTypesError(it, `missing type \"${type.join(\",\")}\" for keyword \"${keyword}\"`)\n      }\n    }\n  }\n}\n\nfunction hasApplicableType(schTs: JSONType[], kwdT: JSONType): boolean {\n  return schTs.includes(kwdT) || (kwdT === \"number\" && schTs.includes(\"integer\"))\n}\n\nfunction includesType(ts: JSONType[], t: JSONType): boolean {\n  return ts.includes(t) || (t === \"integer\" && ts.includes(\"number\"))\n}\n\nfunction narrowSchemaTypes(it: SchemaObjCxt, withTypes: JSONType[]): void {\n  const ts: JSONType[] = []\n  for (const t of it.dataTypes) {\n    if (includesType(withTypes, t)) ts.push(t)\n    else if (withTypes.includes(\"integer\") && t === \"number\") ts.push(\"integer\")\n  }\n  it.dataTypes = ts\n}\n\nfunction strictTypesError(it: SchemaObjCxt, msg: string): void {\n  const schemaPath = it.schemaEnv.baseId + it.errSchemaPath\n  msg += ` at \"${schemaPath}\" (strictTypes)`\n  checkStrictMode(it, msg, it.opts.strictTypes)\n}\n\nexport class KeywordCxt implements KeywordErrorCxt {\n  readonly gen: CodeGen\n  readonly allErrors?: boolean\n  readonly keyword: string\n  readonly data: Name // Name referencing the current level of the data instance\n  readonly $data?: string | false\n  schema: any // keyword value in the schema\n  readonly schemaValue: Code | number | boolean // Code reference to keyword schema value or primitive value\n  readonly schemaCode: Code | number | boolean // Code reference to resolved schema value (different if schema is $data)\n  readonly schemaType: JSONType[] // allowed type(s) of keyword value in the schema\n  readonly parentSchema: AnySchemaObject\n  readonly errsCount?: Name // Name reference to the number of validation errors collected before this keyword,\n  // requires option trackErrors in keyword definition\n  params: KeywordCxtParams // object to pass parameters to error messages from keyword code\n  readonly it: SchemaObjCxt // schema compilation context (schema is guaranteed to be an object, not boolean)\n  readonly def: AddedKeywordDefinition\n\n  constructor(it: SchemaObjCxt, def: AddedKeywordDefinition, keyword: string) {\n    validateKeywordUsage(it, def, keyword)\n    this.gen = it.gen\n    this.allErrors = it.allErrors\n    this.keyword = keyword\n    this.data = it.data\n    this.schema = it.schema[keyword]\n    this.$data = def.$data && it.opts.$data && this.schema && this.schema.$data\n    this.schemaValue = schemaRefOrVal(it, this.schema, keyword, this.$data)\n    this.schemaType = def.schemaType\n    this.parentSchema = it.schema\n    this.params = {}\n    this.it = it\n    this.def = def\n\n    if (this.$data) {\n      this.schemaCode = it.gen.const(\"vSchema\", getData(this.$data, it))\n    } else {\n      this.schemaCode = this.schemaValue\n      if (!validSchemaType(this.schema, def.schemaType, def.allowUndefined)) {\n        throw new Error(`${keyword} value must be ${JSON.stringify(def.schemaType)}`)\n      }\n    }\n\n    if (\"code\" in def ? def.trackErrors : def.errors !== false) {\n      this.errsCount = it.gen.const(\"_errs\", N.errors)\n    }\n  }\n\n  result(condition: Code, successAction?: () => void, failAction?: () => void): void {\n    this.failResult(not(condition), successAction, failAction)\n  }\n\n  failResult(condition: Code, successAction?: () => void, failAction?: () => void): void {\n    this.gen.if(condition)\n    if (failAction) failAction()\n    else this.error()\n    if (successAction) {\n      this.gen.else()\n      successAction()\n      if (this.allErrors) this.gen.endIf()\n    } else {\n      if (this.allErrors) this.gen.endIf()\n      else this.gen.else()\n    }\n  }\n\n  pass(condition: Code, failAction?: () => void): void {\n    this.failResult(not(condition), undefined, failAction)\n  }\n\n  fail(condition?: Code): void {\n    if (condition === undefined) {\n      this.error()\n      if (!this.allErrors) this.gen.if(false) // this branch will be removed by gen.optimize\n      return\n    }\n    this.gen.if(condition)\n    this.error()\n    if (this.allErrors) this.gen.endIf()\n    else this.gen.else()\n  }\n\n  fail$data(condition: Code): void {\n    if (!this.$data) return this.fail(condition)\n    const {schemaCode} = this\n    this.fail(_`${schemaCode} !== undefined && (${or(this.invalid$data(), condition)})`)\n  }\n\n  error(append?: boolean, errorParams?: KeywordCxtParams, errorPaths?: ErrorPaths): void {\n    if (errorParams) {\n      this.setParams(errorParams)\n      this._error(append, errorPaths)\n      this.setParams({})\n      return\n    }\n    this._error(append, errorPaths)\n  }\n\n  private _error(append?: boolean, errorPaths?: ErrorPaths): void {\n    ;(append ? reportExtraError : reportError)(this, this.def.error, errorPaths)\n  }\n\n  $dataError(): void {\n    reportError(this, this.def.$dataError || keyword$DataError)\n  }\n\n  reset(): void {\n    if (this.errsCount === undefined) throw new Error('add \"trackErrors\" to keyword definition')\n    resetErrorsCount(this.gen, this.errsCount)\n  }\n\n  ok(cond: Code | boolean): void {\n    if (!this.allErrors) this.gen.if(cond)\n  }\n\n  setParams(obj: KeywordCxtParams, assign?: true): void {\n    if (assign) Object.assign(this.params, obj)\n    else this.params = obj\n  }\n\n  block$data(valid: Name, codeBlock: () => void, $dataValid: Code = nil): void {\n    this.gen.block(() => {\n      this.check$data(valid, $dataValid)\n      codeBlock()\n    })\n  }\n\n  check$data(valid: Name = nil, $dataValid: Code = nil): void {\n    if (!this.$data) return\n    const {gen, schemaCode, schemaType, def} = this\n    gen.if(or(_`${schemaCode} === undefined`, $dataValid))\n    if (valid !== nil) gen.assign(valid, true)\n    if (schemaType.length || def.validateSchema) {\n      gen.elseIf(this.invalid$data())\n      this.$dataError()\n      if (valid !== nil) gen.assign(valid, false)\n    }\n    gen.else()\n  }\n\n  invalid$data(): Code {\n    const {gen, schemaCode, schemaType, def, it} = this\n    return or(wrong$DataType(), invalid$DataSchema())\n\n    function wrong$DataType(): Code {\n      if (schemaType.length) {\n        /* istanbul ignore if */\n        if (!(schemaCode instanceof Name)) throw new Error(\"ajv implementation error\")\n        const st = Array.isArray(schemaType) ? schemaType : [schemaType]\n        return _`${checkDataTypes(st, schemaCode, it.opts.strictNumbers, DataType.Wrong)}`\n      }\n      return nil\n    }\n\n    function invalid$DataSchema(): Code {\n      if (def.validateSchema) {\n        const validateSchemaRef = gen.scopeValue(\"validate$data\", {ref: def.validateSchema}) // TODO value.code for standalone\n        return _`!${validateSchemaRef}(${schemaCode})`\n      }\n      return nil\n    }\n  }\n\n  subschema(appl: SubschemaArgs, valid: Name): SchemaCxt {\n    const subschema = getSubschema(this.it, appl)\n    extendSubschemaData(subschema, this.it, appl)\n    extendSubschemaMode(subschema, appl)\n    const nextContext = {...this.it, ...subschema, items: undefined, props: undefined}\n    subschemaCode(nextContext, valid)\n    return nextContext\n  }\n\n  mergeEvaluated(schemaCxt: SchemaCxt, toName?: typeof Name): void {\n    const {it, gen} = this\n    if (!it.opts.unevaluated) return\n    if (it.props !== true && schemaCxt.props !== undefined) {\n      it.props = mergeEvaluated.props(gen, schemaCxt.props, it.props, toName)\n    }\n    if (it.items !== true && schemaCxt.items !== undefined) {\n      it.items = mergeEvaluated.items(gen, schemaCxt.items, it.items, toName)\n    }\n  }\n\n  mergeValidEvaluated(schemaCxt: SchemaCxt, valid: Name): boolean | void {\n    const {it, gen} = this\n    if (it.opts.unevaluated && (it.props !== true || it.items !== true)) {\n      gen.if(valid, () => this.mergeEvaluated(schemaCxt, Name))\n      return true\n    }\n  }\n}\n\nfunction keywordCode(\n  it: SchemaObjCxt,\n  keyword: string,\n  def: AddedKeywordDefinition,\n  ruleType?: JSONType\n): void {\n  const cxt = new KeywordCxt(it, def, keyword)\n  if (\"code\" in def) {\n    def.code(cxt, ruleType)\n  } else if (cxt.$data && def.validate) {\n    funcKeywordCode(cxt, def)\n  } else if (\"macro\" in def) {\n    macroKeywordCode(cxt, def)\n  } else if (def.compile || def.validate) {\n    funcKeywordCode(cxt, def)\n  }\n}\n\nconst JSON_POINTER = /^\\/(?:[^~]|~0|~1)*$/\nconst RELATIVE_JSON_POINTER = /^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/\nexport function getData(\n  $data: string,\n  {dataLevel, dataNames, dataPathArr}: SchemaCxt\n): Code | number {\n  let jsonPointer\n  let data: Code\n  if ($data === \"\") return N.rootData\n  if ($data[0] === \"/\") {\n    if (!JSON_POINTER.test($data)) throw new Error(`Invalid JSON-pointer: ${$data}`)\n    jsonPointer = $data\n    data = N.rootData\n  } else {\n    const matches = RELATIVE_JSON_POINTER.exec($data)\n    if (!matches) throw new Error(`Invalid JSON-pointer: ${$data}`)\n    const up: number = +matches[1]\n    jsonPointer = matches[2]\n    if (jsonPointer === \"#\") {\n      if (up >= dataLevel) throw new Error(errorMsg(\"property/index\", up))\n      return dataPathArr[dataLevel - up]\n    }\n    if (up > dataLevel) throw new Error(errorMsg(\"data\", up))\n    data = dataNames[dataLevel - up]\n    if (!jsonPointer) return data\n  }\n\n  let expr = data\n  const segments = jsonPointer.split(\"/\")\n  for (const segment of segments) {\n    if (segment) {\n      data = _`${data}${getProperty(unescapeJsonPointer(segment))}`\n      expr = _`${expr} && ${data}`\n    }\n  }\n  return expr\n\n  function errorMsg(pointerType: string, up: number): string {\n    return `Cannot access ${pointerType} ${up} levels up, current level is ${dataLevel}`\n  }\n}\n", "import type {ErrorObject} from \"../types\"\n\nexport default class ValidationError extends Error {\n  readonly errors: Partial<ErrorObject>[]\n  readonly ajv: true\n  readonly validation: true\n\n  constructor(errors: Partial<ErrorObject>[]) {\n    super(\"validation failed\")\n    this.errors = errors\n    this.ajv = this.validation = true\n  }\n}\n", "import {resolveUrl, normalizeId, getFullPath} from \"./resolve\"\nimport type {UriResolver} from \"../types\"\n\nexport default class MissingRefError extends Error {\n  readonly missingRef: string\n  readonly missingSchema: string\n\n  constructor(resolver: UriResolver, baseId: string, ref: string, msg?: string) {\n    super(msg || `can't resolve reference ${ref} from id ${baseId}`)\n    this.missingRef = resolveUrl(resolver, baseId, ref)\n    this.missingSchema = normalizeId(getFullPath(resolver, this.missingRef))\n  }\n}\n", "import type {\n  AnySchema,\n  AnySchemaObject,\n  AnyValidateFunction,\n  AsyncValidateFunction,\n  EvaluatedProperties,\n  EvaluatedItems,\n} from \"../types\"\nimport type Ajv from \"../core\"\nimport type {InstanceOptions} from \"../core\"\nimport {CodeGen, _, nil, stringify, Name, Code, ValueScopeName} from \"./codegen\"\nimport ValidationError from \"../runtime/validation_error\"\nimport N from \"./names\"\nimport {LocalRefs, getFullPath, _getFullPath, inlineRef, normalizeId, resolveUrl} from \"./resolve\"\nimport {schemaHasRulesButRef, unescapeFragment} from \"./util\"\nimport {validateFunctionCode} from \"./validate\"\nimport {URIComponent} from \"fast-uri\"\nimport {JSONType} from \"./rules\"\n\nexport type SchemaRefs = {\n  [Ref in string]?: SchemaEnv | AnySchema\n}\n\nexport interface SchemaCxt {\n  readonly gen: CodeGen\n  readonly allErrors?: boolean // validation mode - whether to collect all errors or break on error\n  readonly data: Name // Name with reference to the current part of data instance\n  readonly parentData: Name // should be used in keywords modifying data\n  readonly parentDataProperty: Code | number // should be used in keywords modifying data\n  readonly dataNames: Name[]\n  readonly dataPathArr: (Code | number)[]\n  readonly dataLevel: number // the level of the currently validated data,\n  // it can be used to access both the property names and the data on all levels from the top.\n  dataTypes: JSONType[] // data types applied to the current part of data instance\n  definedProperties: Set<string> // set of properties to keep track of for required checks\n  readonly topSchemaRef: Code\n  readonly validateName: Name\n  evaluated?: Name\n  readonly ValidationError?: Name\n  readonly schema: AnySchema // current schema object - equal to parentSchema passed via KeywordCxt\n  readonly schemaEnv: SchemaEnv\n  readonly rootId: string\n  baseId: string // the current schema base URI that should be used as the base for resolving URIs in references (\\$ref)\n  readonly schemaPath: Code // the run-time expression that evaluates to the property name of the current schema\n  readonly errSchemaPath: string // this is actual string, should not be changed to Code\n  readonly errorPath: Code\n  readonly propertyName?: Name\n  readonly compositeRule?: boolean // true indicates that the current schema is inside the compound keyword,\n  // where failing some rule doesn't mean validation failure (`anyOf`, `oneOf`, `not`, `if`).\n  // This flag is used to determine whether you can return validation result immediately after any error in case the option `allErrors` is not `true.\n  // You only need to use it if you have many steps in your keywords and potentially can define multiple errors.\n  props?: EvaluatedProperties | Name // properties evaluated by this schema - used by parent schema or assigned to validation function\n  items?: EvaluatedItems | Name // last item evaluated by this schema - used by parent schema or assigned to validation function\n  jtdDiscriminator?: string\n  jtdMetadata?: boolean\n  readonly createErrors?: boolean\n  readonly opts: InstanceOptions // Ajv instance option.\n  readonly self: Ajv // current Ajv instance\n}\n\nexport interface SchemaObjCxt extends SchemaCxt {\n  readonly schema: AnySchemaObject\n}\ninterface SchemaEnvArgs {\n  readonly schema: AnySchema\n  readonly schemaId?: \"$id\" | \"id\"\n  readonly root?: SchemaEnv\n  readonly baseId?: string\n  readonly schemaPath?: string\n  readonly localRefs?: LocalRefs\n  readonly meta?: boolean\n}\n\nexport class SchemaEnv implements SchemaEnvArgs {\n  readonly schema: AnySchema\n  readonly schemaId?: \"$id\" | \"id\"\n  readonly root: SchemaEnv\n  baseId: string // TODO possibly, it should be readonly\n  schemaPath?: string\n  localRefs?: LocalRefs\n  readonly meta?: boolean\n  readonly $async?: boolean // true if the current schema is asynchronous.\n  readonly refs: SchemaRefs = {}\n  readonly dynamicAnchors: {[Ref in string]?: true} = {}\n  validate?: AnyValidateFunction\n  validateName?: ValueScopeName\n  serialize?: (data: unknown) => string\n  serializeName?: ValueScopeName\n  parse?: (data: string) => unknown\n  parseName?: ValueScopeName\n\n  constructor(env: SchemaEnvArgs) {\n    let schema: AnySchemaObject | undefined\n    if (typeof env.schema == \"object\") schema = env.schema\n    this.schema = env.schema\n    this.schemaId = env.schemaId\n    this.root = env.root || this\n    this.baseId = env.baseId ?? normalizeId(schema?.[env.schemaId || \"$id\"])\n    this.schemaPath = env.schemaPath\n    this.localRefs = env.localRefs\n    this.meta = env.meta\n    this.$async = schema?.$async\n    this.refs = {}\n  }\n}\n\n// let codeSize = 0\n// let nodeCount = 0\n\n// Compiles schema in SchemaEnv\nexport function compileSchema(this: Ajv, sch: SchemaEnv): SchemaEnv {\n  // TODO refactor - remove compilations\n  const _sch = getCompilingSchema.call(this, sch)\n  if (_sch) return _sch\n  const rootId = getFullPath(this.opts.uriResolver, sch.root.baseId) // TODO if getFullPath removed 1 tests fails\n  const {es5, lines} = this.opts.code\n  const {ownProperties} = this.opts\n  const gen = new CodeGen(this.scope, {es5, lines, ownProperties})\n  let _ValidationError\n  if (sch.$async) {\n    _ValidationError = gen.scopeValue(\"Error\", {\n      ref: ValidationError,\n      code: _`require(\"ajv/dist/runtime/validation_error\").default`,\n    })\n  }\n\n  const validateName = gen.scopeName(\"validate\")\n  sch.validateName = validateName\n\n  const schemaCxt: SchemaCxt = {\n    gen,\n    allErrors: this.opts.allErrors,\n    data: N.data,\n    parentData: N.parentData,\n    parentDataProperty: N.parentDataProperty,\n    dataNames: [N.data],\n    dataPathArr: [nil], // TODO can its length be used as dataLevel if nil is removed?\n    dataLevel: 0,\n    dataTypes: [],\n    definedProperties: new Set<string>(),\n    topSchemaRef: gen.scopeValue(\n      \"schema\",\n      this.opts.code.source === true\n        ? {ref: sch.schema, code: stringify(sch.schema)}\n        : {ref: sch.schema}\n    ),\n    validateName,\n    ValidationError: _ValidationError,\n    schema: sch.schema,\n    schemaEnv: sch,\n    rootId,\n    baseId: sch.baseId || rootId,\n    schemaPath: nil,\n    errSchemaPath: sch.schemaPath || (this.opts.jtd ? \"\" : \"#\"),\n    errorPath: _`\"\"`,\n    opts: this.opts,\n    self: this,\n  }\n\n  let sourceCode: string | undefined\n  try {\n    this._compilations.add(sch)\n    validateFunctionCode(schemaCxt)\n    gen.optimize(this.opts.code.optimize)\n    // gen.optimize(1)\n    const validateCode = gen.toString()\n    sourceCode = `${gen.scopeRefs(N.scope)}return ${validateCode}`\n    // console.log((codeSize += sourceCode.length), (nodeCount += gen.nodeCount))\n    if (this.opts.code.process) sourceCode = this.opts.code.process(sourceCode, sch)\n    // console.log(\"\\n\\n\\n *** \\n\", sourceCode)\n    const makeValidate = new Function(`${N.self}`, `${N.scope}`, sourceCode)\n    const validate: AnyValidateFunction = makeValidate(this, this.scope.get())\n    this.scope.value(validateName, {ref: validate})\n\n    validate.errors = null\n    validate.schema = sch.schema\n    validate.schemaEnv = sch\n    if (sch.$async) (validate as AsyncValidateFunction).$async = true\n    if (this.opts.code.source === true) {\n      validate.source = {validateName, validateCode, scopeValues: gen._values}\n    }\n    if (this.opts.unevaluated) {\n      const {props, items} = schemaCxt\n      validate.evaluated = {\n        props: props instanceof Name ? undefined : props,\n        items: items instanceof Name ? undefined : items,\n        dynamicProps: props instanceof Name,\n        dynamicItems: items instanceof Name,\n      }\n      if (validate.source) validate.source.evaluated = stringify(validate.evaluated)\n    }\n    sch.validate = validate\n    return sch\n  } catch (e) {\n    delete sch.validate\n    delete sch.validateName\n    if (sourceCode) this.logger.error(\"Error compiling schema, function code:\", sourceCode)\n    // console.log(\"\\n\\n\\n *** \\n\", sourceCode, this.opts)\n    throw e\n  } finally {\n    this._compilations.delete(sch)\n  }\n}\n\nexport function resolveRef(\n  this: Ajv,\n  root: SchemaEnv,\n  baseId: string,\n  ref: string\n): AnySchema | SchemaEnv | undefined {\n  ref = resolveUrl(this.opts.uriResolver, baseId, ref)\n  const schOrFunc = root.refs[ref]\n  if (schOrFunc) return schOrFunc\n\n  let _sch = resolve.call(this, root, ref)\n  if (_sch === undefined) {\n    const schema = root.localRefs?.[ref] // TODO maybe localRefs should hold SchemaEnv\n    const {schemaId} = this.opts\n    if (schema) _sch = new SchemaEnv({schema, schemaId, root, baseId})\n  }\n\n  if (_sch === undefined) return\n  return (root.refs[ref] = inlineOrCompile.call(this, _sch))\n}\n\nfunction inlineOrCompile(this: Ajv, sch: SchemaEnv): AnySchema | SchemaEnv {\n  if (inlineRef(sch.schema, this.opts.inlineRefs)) return sch.schema\n  return sch.validate ? sch : compileSchema.call(this, sch)\n}\n\n// Index of schema compilation in the currently compiled list\nexport function getCompilingSchema(this: Ajv, schEnv: SchemaEnv): SchemaEnv | void {\n  for (const sch of this._compilations) {\n    if (sameSchemaEnv(sch, schEnv)) return sch\n  }\n}\n\nfunction sameSchemaEnv(s1: SchemaEnv, s2: SchemaEnv): boolean {\n  return s1.schema === s2.schema && s1.root === s2.root && s1.baseId === s2.baseId\n}\n\n// resolve and compile the references ($ref)\n// TODO returns AnySchemaObject (if the schema can be inlined) or validation function\nfunction resolve(\n  this: Ajv,\n  root: SchemaEnv, // information about the root schema for the current schema\n  ref: string // reference to resolve\n): SchemaEnv | undefined {\n  let sch\n  while (typeof (sch = this.refs[ref]) == \"string\") ref = sch\n  return sch || this.schemas[ref] || resolveSchema.call(this, root, ref)\n}\n\n// Resolve schema, its root and baseId\nexport function resolveSchema(\n  this: Ajv,\n  root: SchemaEnv, // root object with properties schema, refs TODO below SchemaEnv is assigned to it\n  ref: string // reference to resolve\n): SchemaEnv | undefined {\n  const p = this.opts.uriResolver.parse(ref)\n  const refPath = _getFullPath(this.opts.uriResolver, p)\n  let baseId = getFullPath(this.opts.uriResolver, root.baseId, undefined)\n  // TODO `Object.keys(root.schema).length > 0` should not be needed - but removing breaks 2 tests\n  if (Object.keys(root.schema).length > 0 && refPath === baseId) {\n    return getJsonPointer.call(this, p, root)\n  }\n\n  const id = normalizeId(refPath)\n  const schOrRef = this.refs[id] || this.schemas[id]\n  if (typeof schOrRef == \"string\") {\n    const sch = resolveSchema.call(this, root, schOrRef)\n    if (typeof sch?.schema !== \"object\") return\n    return getJsonPointer.call(this, p, sch)\n  }\n\n  if (typeof schOrRef?.schema !== \"object\") return\n  if (!schOrRef.validate) compileSchema.call(this, schOrRef)\n  if (id === normalizeId(ref)) {\n    const {schema} = schOrRef\n    const {schemaId} = this.opts\n    const schId = schema[schemaId]\n    if (schId) baseId = resolveUrl(this.opts.uriResolver, baseId, schId)\n    return new SchemaEnv({schema, schemaId, root, baseId})\n  }\n  return getJsonPointer.call(this, p, schOrRef)\n}\n\nconst PREVENT_SCOPE_CHANGE = new Set([\n  \"properties\",\n  \"patternProperties\",\n  \"enum\",\n  \"dependencies\",\n  \"definitions\",\n])\n\nfunction getJsonPointer(\n  this: Ajv,\n  parsedRef: URIComponent,\n  {baseId, schema, root}: SchemaEnv\n): SchemaEnv | undefined {\n  if (parsedRef.fragment?.[0] !== \"/\") return\n  for (const part of parsedRef.fragment.slice(1).split(\"/\")) {\n    if (typeof schema === \"boolean\") return\n    const partSchema = schema[unescapeFragment(part)]\n    if (partSchema === undefined) return\n    schema = partSchema\n    // TODO PREVENT_SCOPE_CHANGE could be defined in keyword def?\n    const schId = typeof schema === \"object\" && schema[this.opts.schemaId]\n    if (!PREVENT_SCOPE_CHANGE.has(part) && schId) {\n      baseId = resolveUrl(this.opts.uriResolver, baseId, schId)\n    }\n  }\n  let env: SchemaEnv | undefined\n  if (typeof schema != \"boolean\" && schema.$ref && !schemaHasRulesButRef(schema, this.RULES)) {\n    const $ref = resolveUrl(this.opts.uriResolver, baseId, schema.$ref)\n    env = resolveSchema.call(this, root, $ref)\n  }\n  // even though resolution failed we need to return SchemaEnv to throw exception\n  // so that compileAsync loads missing schema.\n  const {schemaId} = this.opts\n  env = env || new SchemaEnv({schema, schemaId, root, baseId})\n  if (env.schema !== env.root.schema) return env\n  return undefined\n}\n", "{\n  \"$id\": \"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#\",\n  \"description\": \"Meta-schema for $data reference (JSON AnySchema extension proposal)\",\n  \"type\": \"object\",\n  \"required\": [\"$data\"],\n  \"properties\": {\n    \"$data\": {\n      \"type\": \"string\",\n      \"anyOf\": [{\"format\": \"relative-json-pointer\"}, {\"format\": \"json-pointer\"}]\n    }\n  },\n  \"additionalProperties\": false\n}\n", "'use strict'\n\nconst HEX = {\n  0: 0,\n  1: 1,\n  2: 2,\n  3: 3,\n  4: 4,\n  5: 5,\n  6: 6,\n  7: 7,\n  8: 8,\n  9: 9,\n  a: 10,\n  A: 10,\n  b: 11,\n  B: 11,\n  c: 12,\n  C: 12,\n  d: 13,\n  D: 13,\n  e: 14,\n  E: 14,\n  f: 15,\n  F: 15\n}\n\nmodule.exports = {\n  HEX\n}\n", "'use strict'\n\nconst { HEX } = require('./scopedChars')\n\nconst IPV4_REG = /^(?:(?:25[0-5]|2[0-4]\\d|1\\d{2}|[1-9]\\d|\\d)\\.){3}(?:25[0-5]|2[0-4]\\d|1\\d{2}|[1-9]\\d|\\d)$/u\n\nfunction normalizeIPv4 (host) {\n  if (findToken(host, '.') < 3) { return { host, isIPV4: false } }\n  const matches = host.match(IPV4_REG) || []\n  const [address] = matches\n  if (address) {\n    return { host: stripLeadingZeros(address, '.'), isIPV4: true }\n  } else {\n    return { host, isIPV4: false }\n  }\n}\n\n/**\n * @param {string[]} input\n * @param {boolean} [keepZero=false]\n * @returns {string|undefined}\n */\nfunction stringArrayToHexStripped (input, keepZero = false) {\n  let acc = ''\n  let strip = true\n  for (const c of input) {\n    if (HEX[c] === undefined) return undefined\n    if (c !== '0' && strip === true) strip = false\n    if (!strip) acc += c\n  }\n  if (keepZero && acc.length === 0) acc = '0'\n  return acc\n}\n\nfunction getIPV6 (input) {\n  let tokenCount = 0\n  const output = { error: false, address: '', zone: '' }\n  const address = []\n  const buffer = []\n  let isZone = false\n  let endipv6Encountered = false\n  let endIpv6 = false\n\n  function consume () {\n    if (buffer.length) {\n      if (isZone === false) {\n        const hex = stringArrayToHexStripped(buffer)\n        if (hex !== undefined) {\n          address.push(hex)\n        } else {\n          output.error = true\n          return false\n        }\n      }\n      buffer.length = 0\n    }\n    return true\n  }\n\n  for (let i = 0; i < input.length; i++) {\n    const cursor = input[i]\n    if (cursor === '[' || cursor === ']') { continue }\n    if (cursor === ':') {\n      if (endipv6Encountered === true) {\n        endIpv6 = true\n      }\n      if (!consume()) { break }\n      tokenCount++\n      address.push(':')\n      if (tokenCount > 7) {\n        // not valid\n        output.error = true\n        break\n      }\n      if (i - 1 >= 0 && input[i - 1] === ':') {\n        endipv6Encountered = true\n      }\n      continue\n    } else if (cursor === '%') {\n      if (!consume()) { break }\n      // switch to zone detection\n      isZone = true\n    } else {\n      buffer.push(cursor)\n      continue\n    }\n  }\n  if (buffer.length) {\n    if (isZone) {\n      output.zone = buffer.join('')\n    } else if (endIpv6) {\n      address.push(buffer.join(''))\n    } else {\n      address.push(stringArrayToHexStripped(buffer))\n    }\n  }\n  output.address = address.join('')\n  return output\n}\n\nfunction normalizeIPv6 (host) {\n  if (findToken(host, ':') < 2) { return { host, isIPV6: false } }\n  const ipv6 = getIPV6(host)\n\n  if (!ipv6.error) {\n    let newHost = ipv6.address\n    let escapedHost = ipv6.address\n    if (ipv6.zone) {\n      newHost += '%' + ipv6.zone\n      escapedHost += '%25' + ipv6.zone\n    }\n    return { host: newHost, escapedHost, isIPV6: true }\n  } else {\n    return { host, isIPV6: false }\n  }\n}\n\nfunction stripLeadingZeros (str, token) {\n  let out = ''\n  let skip = true\n  const l = str.length\n  for (let i = 0; i < l; i++) {\n    const c = str[i]\n    if (c === '0' && skip) {\n      if ((i + 1 <= l && str[i + 1] === token) || i + 1 === l) {\n        out += c\n        skip = false\n      }\n    } else {\n      if (c === token) {\n        skip = true\n      } else {\n        skip = false\n      }\n      out += c\n    }\n  }\n  return out\n}\n\nfunction findToken (str, token) {\n  let ind = 0\n  for (let i = 0; i < str.length; i++) {\n    if (str[i] === token) ind++\n  }\n  return ind\n}\n\nconst RDS1 = /^\\.\\.?\\//u\nconst RDS2 = /^\\/\\.(?:\\/|$)/u\nconst RDS3 = /^\\/\\.\\.(?:\\/|$)/u\nconst RDS5 = /^\\/?(?:.|\\n)*?(?=\\/|$)/u\n\nfunction removeDotSegments (input) {\n  const output = []\n\n  while (input.length) {\n    if (input.match(RDS1)) {\n      input = input.replace(RDS1, '')\n    } else if (input.match(RDS2)) {\n      input = input.replace(RDS2, '/')\n    } else if (input.match(RDS3)) {\n      input = input.replace(RDS3, '/')\n      output.pop()\n    } else if (input === '.' || input === '..') {\n      input = ''\n    } else {\n      const im = input.match(RDS5)\n      if (im) {\n        const s = im[0]\n        input = input.slice(s.length)\n        output.push(s)\n      } else {\n        throw new Error('Unexpected dot segment condition')\n      }\n    }\n  }\n  return output.join('')\n}\n\nfunction normalizeComponentEncoding (components, esc) {\n  const func = esc !== true ? escape : unescape\n  if (components.scheme !== undefined) {\n    components.scheme = func(components.scheme)\n  }\n  if (components.userinfo !== undefined) {\n    components.userinfo = func(components.userinfo)\n  }\n  if (components.host !== undefined) {\n    components.host = func(components.host)\n  }\n  if (components.path !== undefined) {\n    components.path = func(components.path)\n  }\n  if (components.query !== undefined) {\n    components.query = func(components.query)\n  }\n  if (components.fragment !== undefined) {\n    components.fragment = func(components.fragment)\n  }\n  return components\n}\n\nfunction recomposeAuthority (components) {\n  const uriTokens = []\n\n  if (components.userinfo !== undefined) {\n    uriTokens.push(components.userinfo)\n    uriTokens.push('@')\n  }\n\n  if (components.host !== undefined) {\n    let host = unescape(components.host)\n    const ipV4res = normalizeIPv4(host)\n\n    if (ipV4res.isIPV4) {\n      host = ipV4res.host\n    } else {\n      const ipV6res = normalizeIPv6(ipV4res.host)\n      if (ipV6res.isIPV6 === true) {\n        host = `[${ipV6res.escapedHost}]`\n      } else {\n        host = components.host\n      }\n    }\n    uriTokens.push(host)\n  }\n\n  if (typeof components.port === 'number' || typeof components.port === 'string') {\n    uriTokens.push(':')\n    uriTokens.push(String(components.port))\n  }\n\n  return uriTokens.length ? uriTokens.join('') : undefined\n};\n\nmodule.exports = {\n  recomposeAuthority,\n  normalizeComponentEncoding,\n  removeDotSegments,\n  normalizeIPv4,\n  normalizeIPv6,\n  stringArrayToHexStripped\n}\n", "'use strict'\n\nconst UUID_REG = /^[\\da-f]{8}\\b-[\\da-f]{4}\\b-[\\da-f]{4}\\b-[\\da-f]{4}\\b-[\\da-f]{12}$/iu\nconst URN_REG = /([\\da-z][\\d\\-a-z]{0,31}):((?:[\\w!$'()*+,\\-.:;=@]|%[\\da-f]{2})+)/iu\n\nfunction isSecure (wsComponents) {\n  return typeof wsComponents.secure === 'boolean' ? wsComponents.secure : String(wsComponents.scheme).toLowerCase() === 'wss'\n}\n\nfunction httpParse (components) {\n  if (!components.host) {\n    components.error = components.error || 'HTTP URIs must have a host.'\n  }\n\n  return components\n}\n\nfunction httpSerialize (components) {\n  const secure = String(components.scheme).toLowerCase() === 'https'\n\n  // normalize the default port\n  if (components.port === (secure ? 443 : 80) || components.port === '') {\n    components.port = undefined\n  }\n\n  // normalize the empty path\n  if (!components.path) {\n    components.path = '/'\n  }\n\n  // NOTE: We do not parse query strings for HTTP URIs\n  // as WWW Form Url Encoded query strings are part of the HTML4+ spec,\n  // and not the HTTP spec.\n\n  return components\n}\n\nfunction wsParse (wsComponents) {\n// indicate if the secure flag is set\n  wsComponents.secure = isSecure(wsComponents)\n\n  // construct resouce name\n  wsComponents.resourceName = (wsComponents.path || '/') + (wsComponents.query ? '?' + wsComponents.query : '')\n  wsComponents.path = undefined\n  wsComponents.query = undefined\n\n  return wsComponents\n}\n\nfunction wsSerialize (wsComponents) {\n// normalize the default port\n  if (wsComponents.port === (isSecure(wsComponents) ? 443 : 80) || wsComponents.port === '') {\n    wsComponents.port = undefined\n  }\n\n  // ensure scheme matches secure flag\n  if (typeof wsComponents.secure === 'boolean') {\n    wsComponents.scheme = (wsComponents.secure ? 'wss' : 'ws')\n    wsComponents.secure = undefined\n  }\n\n  // reconstruct path from resource name\n  if (wsComponents.resourceName) {\n    const [path, query] = wsComponents.resourceName.split('?')\n    wsComponents.path = (path && path !== '/' ? path : undefined)\n    wsComponents.query = query\n    wsComponents.resourceName = undefined\n  }\n\n  // forbid fragment component\n  wsComponents.fragment = undefined\n\n  return wsComponents\n}\n\nfunction urnParse (urnComponents, options) {\n  if (!urnComponents.path) {\n    urnComponents.error = 'URN can not be parsed'\n    return urnComponents\n  }\n  const matches = urnComponents.path.match(URN_REG)\n  if (matches) {\n    const scheme = options.scheme || urnComponents.scheme || 'urn'\n    urnComponents.nid = matches[1].toLowerCase()\n    urnComponents.nss = matches[2]\n    const urnScheme = `${scheme}:${options.nid || urnComponents.nid}`\n    const schemeHandler = SCHEMES[urnScheme]\n    urnComponents.path = undefined\n\n    if (schemeHandler) {\n      urnComponents = schemeHandler.parse(urnComponents, options)\n    }\n  } else {\n    urnComponents.error = urnComponents.error || 'URN can not be parsed.'\n  }\n\n  return urnComponents\n}\n\nfunction urnSerialize (urnComponents, options) {\n  const scheme = options.scheme || urnComponents.scheme || 'urn'\n  const nid = urnComponents.nid.toLowerCase()\n  const urnScheme = `${scheme}:${options.nid || nid}`\n  const schemeHandler = SCHEMES[urnScheme]\n\n  if (schemeHandler) {\n    urnComponents = schemeHandler.serialize(urnComponents, options)\n  }\n\n  const uriComponents = urnComponents\n  const nss = urnComponents.nss\n  uriComponents.path = `${nid || options.nid}:${nss}`\n\n  options.skipEscape = true\n  return uriComponents\n}\n\nfunction urnuuidParse (urnComponents, options) {\n  const uuidComponents = urnComponents\n  uuidComponents.uuid = uuidComponents.nss\n  uuidComponents.nss = undefined\n\n  if (!options.tolerant && (!uuidComponents.uuid || !UUID_REG.test(uuidComponents.uuid))) {\n    uuidComponents.error = uuidComponents.error || 'UUID is not valid.'\n  }\n\n  return uuidComponents\n}\n\nfunction urnuuidSerialize (uuidComponents) {\n  const urnComponents = uuidComponents\n  // normalize UUID\n  urnComponents.nss = (uuidComponents.uuid || '').toLowerCase()\n  return urnComponents\n}\n\nconst http = {\n  scheme: 'http',\n  domainHost: true,\n  parse: httpParse,\n  serialize: httpSerialize\n}\n\nconst https = {\n  scheme: 'https',\n  domainHost: http.domainHost,\n  parse: httpParse,\n  serialize: httpSerialize\n}\n\nconst ws = {\n  scheme: 'ws',\n  domainHost: true,\n  parse: wsParse,\n  serialize: wsSerialize\n}\n\nconst wss = {\n  scheme: 'wss',\n  domainHost: ws.domainHost,\n  parse: ws.parse,\n  serialize: ws.serialize\n}\n\nconst urn = {\n  scheme: 'urn',\n  parse: urnParse,\n  serialize: urnSerialize,\n  skipNormalize: true\n}\n\nconst urnuuid = {\n  scheme: 'urn:uuid',\n  parse: urnuuidParse,\n  serialize: urnuuidSerialize,\n  skipNormalize: true\n}\n\nconst SCHEMES = {\n  http,\n  https,\n  ws,\n  wss,\n  urn,\n  'urn:uuid': urnuuid\n}\n\nmodule.exports = SCHEMES\n", "'use strict'\n\nconst { normalizeIPv6, normalizeIPv4, removeDotSegments, recomposeAuthority, normalizeComponentEncoding } = require('./lib/utils')\nconst SCHEMES = require('./lib/schemes')\n\nfunction normalize (uri, options) {\n  if (typeof uri === 'string') {\n    uri = serialize(parse(uri, options), options)\n  } else if (typeof uri === 'object') {\n    uri = parse(serialize(uri, options), options)\n  }\n  return uri\n}\n\nfunction resolve (baseURI, relativeURI, options) {\n  const schemelessOptions = Object.assign({ scheme: 'null' }, options)\n  const resolved = resolveComponents(parse(baseURI, schemelessOptions), parse(relativeURI, schemelessOptions), schemelessOptions, true)\n  return serialize(resolved, { ...schemelessOptions, skipEscape: true })\n}\n\nfunction resolveComponents (base, relative, options, skipNormalization) {\n  const target = {}\n  if (!skipNormalization) {\n    base = parse(serialize(base, options), options) // normalize base components\n    relative = parse(serialize(relative, options), options) // normalize relative components\n  }\n  options = options || {}\n\n  if (!options.tolerant && relative.scheme) {\n    target.scheme = relative.scheme\n    // target.authority = relative.authority;\n    target.userinfo = relative.userinfo\n    target.host = relative.host\n    target.port = relative.port\n    target.path = removeDotSegments(relative.path || '')\n    target.query = relative.query\n  } else {\n    if (relative.userinfo !== undefined || relative.host !== undefined || relative.port !== undefined) {\n      // target.authority = relative.authority;\n      target.userinfo = relative.userinfo\n      target.host = relative.host\n      target.port = relative.port\n      target.path = removeDotSegments(relative.path || '')\n      target.query = relative.query\n    } else {\n      if (!relative.path) {\n        target.path = base.path\n        if (relative.query !== undefined) {\n          target.query = relative.query\n        } else {\n          target.query = base.query\n        }\n      } else {\n        if (relative.path.charAt(0) === '/') {\n          target.path = removeDotSegments(relative.path)\n        } else {\n          if ((base.userinfo !== undefined || base.host !== undefined || base.port !== undefined) && !base.path) {\n            target.path = '/' + relative.path\n          } else if (!base.path) {\n            target.path = relative.path\n          } else {\n            target.path = base.path.slice(0, base.path.lastIndexOf('/') + 1) + relative.path\n          }\n          target.path = removeDotSegments(target.path)\n        }\n        target.query = relative.query\n      }\n      // target.authority = base.authority;\n      target.userinfo = base.userinfo\n      target.host = base.host\n      target.port = base.port\n    }\n    target.scheme = base.scheme\n  }\n\n  target.fragment = relative.fragment\n\n  return target\n}\n\nfunction equal (uriA, uriB, options) {\n  if (typeof uriA === 'string') {\n    uriA = unescape(uriA)\n    uriA = serialize(normalizeComponentEncoding(parse(uriA, options), true), { ...options, skipEscape: true })\n  } else if (typeof uriA === 'object') {\n    uriA = serialize(normalizeComponentEncoding(uriA, true), { ...options, skipEscape: true })\n  }\n\n  if (typeof uriB === 'string') {\n    uriB = unescape(uriB)\n    uriB = serialize(normalizeComponentEncoding(parse(uriB, options), true), { ...options, skipEscape: true })\n  } else if (typeof uriB === 'object') {\n    uriB = serialize(normalizeComponentEncoding(uriB, true), { ...options, skipEscape: true })\n  }\n\n  return uriA.toLowerCase() === uriB.toLowerCase()\n}\n\nfunction serialize (cmpts, opts) {\n  const components = {\n    host: cmpts.host,\n    scheme: cmpts.scheme,\n    userinfo: cmpts.userinfo,\n    port: cmpts.port,\n    path: cmpts.path,\n    query: cmpts.query,\n    nid: cmpts.nid,\n    nss: cmpts.nss,\n    uuid: cmpts.uuid,\n    fragment: cmpts.fragment,\n    reference: cmpts.reference,\n    resourceName: cmpts.resourceName,\n    secure: cmpts.secure,\n    error: ''\n  }\n  const options = Object.assign({}, opts)\n  const uriTokens = []\n\n  // find scheme handler\n  const schemeHandler = SCHEMES[(options.scheme || components.scheme || '').toLowerCase()]\n\n  // perform scheme specific serialization\n  if (schemeHandler && schemeHandler.serialize) schemeHandler.serialize(components, options)\n\n  if (components.path !== undefined) {\n    if (!options.skipEscape) {\n      components.path = escape(components.path)\n\n      if (components.scheme !== undefined) {\n        components.path = components.path.split('%3A').join(':')\n      }\n    } else {\n      components.path = unescape(components.path)\n    }\n  }\n\n  if (options.reference !== 'suffix' && components.scheme) {\n    uriTokens.push(components.scheme, ':')\n  }\n\n  const authority = recomposeAuthority(components)\n  if (authority !== undefined) {\n    if (options.reference !== 'suffix') {\n      uriTokens.push('//')\n    }\n\n    uriTokens.push(authority)\n\n    if (components.path && components.path.charAt(0) !== '/') {\n      uriTokens.push('/')\n    }\n  }\n  if (components.path !== undefined) {\n    let s = components.path\n\n    if (!options.absolutePath && (!schemeHandler || !schemeHandler.absolutePath)) {\n      s = removeDotSegments(s)\n    }\n\n    if (authority === undefined) {\n      s = s.replace(/^\\/\\//u, '/%2F') // don't allow the path to start with \"//\"\n    }\n\n    uriTokens.push(s)\n  }\n\n  if (components.query !== undefined) {\n    uriTokens.push('?', components.query)\n  }\n\n  if (components.fragment !== undefined) {\n    uriTokens.push('#', components.fragment)\n  }\n  return uriTokens.join('')\n}\n\nconst hexLookUp = Array.from({ length: 127 }, (_v, k) => /[^!\"$&'()*+,\\-.;=_`a-z{}~]/u.test(String.fromCharCode(k)))\n\nfunction nonSimpleDomain (value) {\n  let code = 0\n  for (let i = 0, len = value.length; i < len; ++i) {\n    code = value.charCodeAt(i)\n    if (code > 126 || hexLookUp[code]) {\n      return true\n    }\n  }\n  return false\n}\n\nconst URI_PARSE = /^(?:([^#/:?]+):)?(?:\\/\\/((?:([^#/?@]*)@)?(\\[[^#/?\\]]+\\]|[^#/:?]*)(?::(\\d*))?))?([^#?]*)(?:\\?([^#]*))?(?:#((?:.|[\\n\\r])*))?/u\n\nfunction parse (uri, opts) {\n  const options = Object.assign({}, opts)\n  const parsed = {\n    scheme: undefined,\n    userinfo: undefined,\n    host: '',\n    port: undefined,\n    path: '',\n    query: undefined,\n    fragment: undefined\n  }\n  const gotEncoding = uri.indexOf('%') !== -1\n  let isIP = false\n  if (options.reference === 'suffix') uri = (options.scheme ? options.scheme + ':' : '') + '//' + uri\n\n  const matches = uri.match(URI_PARSE)\n\n  if (matches) {\n    // store each component\n    parsed.scheme = matches[1]\n    parsed.userinfo = matches[3]\n    parsed.host = matches[4]\n    parsed.port = parseInt(matches[5], 10)\n    parsed.path = matches[6] || ''\n    parsed.query = matches[7]\n    parsed.fragment = matches[8]\n\n    // fix port number\n    if (isNaN(parsed.port)) {\n      parsed.port = matches[5]\n    }\n    if (parsed.host) {\n      const ipv4result = normalizeIPv4(parsed.host)\n      if (ipv4result.isIPV4 === false) {\n        const ipv6result = normalizeIPv6(ipv4result.host)\n        parsed.host = ipv6result.host.toLowerCase()\n        isIP = ipv6result.isIPV6\n      } else {\n        parsed.host = ipv4result.host\n        isIP = true\n      }\n    }\n    if (parsed.scheme === undefined && parsed.userinfo === undefined && parsed.host === undefined && parsed.port === undefined && !parsed.path && parsed.query === undefined) {\n      parsed.reference = 'same-document'\n    } else if (parsed.scheme === undefined) {\n      parsed.reference = 'relative'\n    } else if (parsed.fragment === undefined) {\n      parsed.reference = 'absolute'\n    } else {\n      parsed.reference = 'uri'\n    }\n\n    // check for reference errors\n    if (options.reference && options.reference !== 'suffix' && options.reference !== parsed.reference) {\n      parsed.error = parsed.error || 'URI is not a ' + options.reference + ' reference.'\n    }\n\n    // find scheme handler\n    const schemeHandler = SCHEMES[(options.scheme || parsed.scheme || '').toLowerCase()]\n\n    // check if scheme can't handle IRIs\n    if (!options.unicodeSupport && (!schemeHandler || !schemeHandler.unicodeSupport)) {\n      // if host component is a domain name\n      if (parsed.host && (options.domainHost || (schemeHandler && schemeHandler.domainHost)) && isIP === false && nonSimpleDomain(parsed.host)) {\n        // convert Unicode IDN -> ASCII IDN\n        try {\n          parsed.host = URL.domainToASCII(parsed.host.toLowerCase())\n        } catch (e) {\n          parsed.error = parsed.error || \"Host's domain name can not be converted to ASCII: \" + e\n        }\n      }\n      // convert IRI -> URI\n    }\n\n    if (!schemeHandler || (schemeHandler && !schemeHandler.skipNormalize)) {\n      if (gotEncoding && parsed.scheme !== undefined) {\n        parsed.scheme = unescape(parsed.scheme)\n      }\n      if (gotEncoding && parsed.host !== undefined) {\n        parsed.host = unescape(parsed.host)\n      }\n      if (parsed.path && parsed.path.length) {\n        parsed.path = escape(unescape(parsed.path))\n      }\n      if (parsed.fragment && parsed.fragment.length) {\n        parsed.fragment = encodeURI(decodeURIComponent(parsed.fragment))\n      }\n    }\n\n    // perform scheme specific parsing\n    if (schemeHandler && schemeHandler.parse) {\n      schemeHandler.parse(parsed, options)\n    }\n  } else {\n    parsed.error = parsed.error || 'URI can not be parsed.'\n  }\n  return parsed\n}\n\nconst fastUri = {\n  SCHEMES,\n  normalize,\n  resolve,\n  resolveComponents,\n  equal,\n  serialize,\n  parse\n}\n\nmodule.exports = fastUri\nmodule.exports.default = fastUri\nmodule.exports.fastUri = fastUri\n", "import * as uri from \"fast-uri\"\n\ntype URI = typeof uri & {code: string}\n;(uri as URI).code = 'require(\"ajv/dist/runtime/uri\").default'\n\nexport default uri as URI\n", "export {\n  Format,\n  FormatDefinition,\n  AsyncFormatDefinition,\n  KeywordDefinition,\n  KeywordErrorDefinition,\n  CodeKeywordDefinition,\n  MacroKeywordDefinition,\n  FuncKeywordDefinition,\n  Vocabulary,\n  Schema,\n  SchemaObject,\n  AnySchemaObject,\n  AsyncSchema,\n  AnySchema,\n  ValidateFunction,\n  AsyncValidateFunction,\n  AnyValidateFunction,\n  ErrorObject,\n  ErrorNoParams,\n} from \"./types\"\n\nexport {SchemaCxt, SchemaObjCxt} from \"./compile\"\nexport interface Plugin<Opts> {\n  (ajv: Ajv, options?: Opts): Ajv\n  [prop: string]: any\n}\n\nexport {KeywordCxt} from \"./compile/validate\"\nexport {DefinedError} from \"./vocabularies/errors\"\nexport {JSONType} from \"./compile/rules\"\nexport {JSONSchemaType} from \"./types/json-schema\"\nexport {JTDSchemaType, SomeJTDSchemaType, JTDDataType} from \"./types/jtd-schema\"\nexport {_, str, stringify, nil, Name, Code, CodeGen, CodeGenOptions} from \"./compile/codegen\"\n\nimport type {\n  Schema,\n  AnySchema,\n  AnySchemaObject,\n  SchemaObject,\n  AsyncSchema,\n  Vocabulary,\n  KeywordDefinition,\n  AddedKeywordDefinition,\n  AnyValidateFunction,\n  ValidateFunction,\n  AsyncValidateFunction,\n  ErrorObject,\n  Format,\n  AddedFormat,\n  RegExpEngine,\n  UriResolver,\n} from \"./types\"\nimport type {JSONSchemaType} from \"./types/json-schema\"\nimport type {JTDSchemaType, SomeJTDSchemaType, JTDDataType} from \"./types/jtd-schema\"\nimport ValidationError from \"./runtime/validation_error\"\nimport MissingRefError from \"./compile/ref_error\"\nimport {getRules, ValidationRules, Rule, RuleGroup, JSONType} from \"./compile/rules\"\nimport {SchemaEnv, compileSchema, resolveSchema} from \"./compile\"\nimport {Code, ValueScope} from \"./compile/codegen\"\nimport {normalizeId, getSchemaRefs} from \"./compile/resolve\"\nimport {getJSONTypes} from \"./compile/validate/dataType\"\nimport {eachItem} from \"./compile/util\"\nimport * as $dataRefSchema from \"./refs/data.json\"\n\nimport DefaultUriResolver from \"./runtime/uri\"\n\nconst defaultRegExp: RegExpEngine = (str, flags) => new RegExp(str, flags)\ndefaultRegExp.code = \"new RegExp\"\n\nconst META_IGNORE_OPTIONS: (keyof Options)[] = [\"removeAdditional\", \"useDefaults\", \"coerceTypes\"]\nconst EXT_SCOPE_NAMES = new Set([\n  \"validate\",\n  \"serialize\",\n  \"parse\",\n  \"wrapper\",\n  \"root\",\n  \"schema\",\n  \"keyword\",\n  \"pattern\",\n  \"formats\",\n  \"validate$data\",\n  \"func\",\n  \"obj\",\n  \"Error\",\n])\n\nexport type Options = CurrentOptions & DeprecatedOptions\n\nexport interface CurrentOptions {\n  // strict mode options (NEW)\n  strict?: boolean | \"log\"\n  strictSchema?: boolean | \"log\"\n  strictNumbers?: boolean | \"log\"\n  strictTypes?: boolean | \"log\"\n  strictTuples?: boolean | \"log\"\n  strictRequired?: boolean | \"log\"\n  allowMatchingProperties?: boolean // disables a strict mode restriction\n  allowUnionTypes?: boolean\n  validateFormats?: boolean\n  // validation and reporting options:\n  $data?: boolean\n  allErrors?: boolean\n  verbose?: boolean\n  discriminator?: boolean\n  unicodeRegExp?: boolean\n  timestamp?: \"string\" | \"date\" // JTD only\n  parseDate?: boolean // JTD only\n  allowDate?: boolean // JTD only\n  $comment?:\n    | true\n    | ((comment: string, schemaPath?: string, rootSchema?: AnySchemaObject) => unknown)\n  formats?: {[Name in string]?: Format}\n  keywords?: Vocabulary\n  schemas?: AnySchema[] | {[Key in string]?: AnySchema}\n  logger?: Logger | false\n  loadSchema?: (uri: string) => Promise<AnySchemaObject>\n  // options to modify validated data:\n  removeAdditional?: boolean | \"all\" | \"failing\"\n  useDefaults?: boolean | \"empty\"\n  coerceTypes?: boolean | \"array\"\n  // advanced options:\n  next?: boolean // NEW\n  unevaluated?: boolean // NEW\n  dynamicRef?: boolean // NEW\n  schemaId?: \"id\" | \"$id\"\n  jtd?: boolean // NEW\n  meta?: SchemaObject | boolean\n  defaultMeta?: string | AnySchemaObject\n  validateSchema?: boolean | \"log\"\n  addUsedSchema?: boolean\n  inlineRefs?: boolean | number\n  passContext?: boolean\n  loopRequired?: number\n  loopEnum?: number // NEW\n  ownProperties?: boolean\n  multipleOfPrecision?: number\n  int32range?: boolean // JTD only\n  messages?: boolean\n  code?: CodeOptions // NEW\n  uriResolver?: UriResolver\n}\n\nexport interface CodeOptions {\n  es5?: boolean\n  esm?: boolean\n  lines?: boolean\n  optimize?: boolean | number\n  formats?: Code // code to require (or construct) map of available formats - for standalone code\n  source?: boolean\n  process?: (code: string, schema?: SchemaEnv) => string\n  regExp?: RegExpEngine\n}\n\ninterface InstanceCodeOptions extends CodeOptions {\n  regExp: RegExpEngine\n  optimize: number\n}\n\ninterface DeprecatedOptions {\n  /** @deprecated */\n  ignoreKeywordsWithRef?: boolean\n  /** @deprecated */\n  jsPropertySyntax?: boolean // added instead of jsonPointers\n  /** @deprecated */\n  unicode?: boolean\n}\n\ninterface RemovedOptions {\n  format?: boolean\n  errorDataPath?: \"object\" | \"property\"\n  nullable?: boolean // \"nullable\" keyword is supported by default\n  jsonPointers?: boolean\n  extendRefs?: true | \"ignore\" | \"fail\"\n  missingRefs?: true | \"ignore\" | \"fail\"\n  processCode?: (code: string, schema?: SchemaEnv) => string\n  sourceCode?: boolean\n  strictDefaults?: boolean\n  strictKeywords?: boolean\n  uniqueItems?: boolean\n  unknownFormats?: true | string[] | \"ignore\"\n  cache?: any\n  serialize?: (schema: AnySchema) => unknown\n  ajvErrors?: boolean\n}\n\ntype OptionsInfo<T extends RemovedOptions | DeprecatedOptions> = {\n  [K in keyof T]-?: string | undefined\n}\n\nconst removedOptions: OptionsInfo<RemovedOptions> = {\n  errorDataPath: \"\",\n  format: \"`validateFormats: false` can be used instead.\",\n  nullable: '\"nullable\" keyword is supported by default.',\n  jsonPointers: \"Deprecated jsPropertySyntax can be used instead.\",\n  extendRefs: \"Deprecated ignoreKeywordsWithRef can be used instead.\",\n  missingRefs: \"Pass empty schema with $id that should be ignored to ajv.addSchema.\",\n  processCode: \"Use option `code: {process: (code, schemaEnv: object) => string}`\",\n  sourceCode: \"Use option `code: {source: true}`\",\n  strictDefaults: \"It is default now, see option `strict`.\",\n  strictKeywords: \"It is default now, see option `strict`.\",\n  uniqueItems: '\"uniqueItems\" keyword is always validated.',\n  unknownFormats: \"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).\",\n  cache: \"Map is used as cache, schema object as key.\",\n  serialize: \"Map is used as cache, schema object as key.\",\n  ajvErrors: \"It is default now.\",\n}\n\nconst deprecatedOptions: OptionsInfo<DeprecatedOptions> = {\n  ignoreKeywordsWithRef: \"\",\n  jsPropertySyntax: \"\",\n  unicode: '\"minLength\"/\"maxLength\" account for unicode characters by default.',\n}\n\ntype RequiredInstanceOptions = {\n  [K in\n    | \"strictSchema\"\n    | \"strictNumbers\"\n    | \"strictTypes\"\n    | \"strictTuples\"\n    | \"strictRequired\"\n    | \"inlineRefs\"\n    | \"loopRequired\"\n    | \"loopEnum\"\n    | \"meta\"\n    | \"messages\"\n    | \"schemaId\"\n    | \"addUsedSchema\"\n    | \"validateSchema\"\n    | \"validateFormats\"\n    | \"int32range\"\n    | \"unicodeRegExp\"\n    | \"uriResolver\"]: NonNullable<Options[K]>\n} & {code: InstanceCodeOptions}\n\nexport type InstanceOptions = Options & RequiredInstanceOptions\n\nconst MAX_EXPRESSION = 200\n\n// eslint-disable-next-line complexity\nfunction requiredOptions(o: Options): RequiredInstanceOptions {\n  const s = o.strict\n  const _optz = o.code?.optimize\n  const optimize = _optz === true || _optz === undefined ? 1 : _optz || 0\n  const regExp = o.code?.regExp ?? defaultRegExp\n  const uriResolver = o.uriResolver ?? DefaultUriResolver\n  return {\n    strictSchema: o.strictSchema ?? s ?? true,\n    strictNumbers: o.strictNumbers ?? s ?? true,\n    strictTypes: o.strictTypes ?? s ?? \"log\",\n    strictTuples: o.strictTuples ?? s ?? \"log\",\n    strictRequired: o.strictRequired ?? s ?? false,\n    code: o.code ? {...o.code, optimize, regExp} : {optimize, regExp},\n    loopRequired: o.loopRequired ?? MAX_EXPRESSION,\n    loopEnum: o.loopEnum ?? MAX_EXPRESSION,\n    meta: o.meta ?? true,\n    messages: o.messages ?? true,\n    inlineRefs: o.inlineRefs ?? true,\n    schemaId: o.schemaId ?? \"$id\",\n    addUsedSchema: o.addUsedSchema ?? true,\n    validateSchema: o.validateSchema ?? true,\n    validateFormats: o.validateFormats ?? true,\n    unicodeRegExp: o.unicodeRegExp ?? true,\n    int32range: o.int32range ?? true,\n    uriResolver: uriResolver,\n  }\n}\n\nexport interface Logger {\n  log(...args: unknown[]): unknown\n  warn(...args: unknown[]): unknown\n  error(...args: unknown[]): unknown\n}\n\nexport default class Ajv {\n  opts: InstanceOptions\n  errors?: ErrorObject[] | null // errors from the last validation\n  logger: Logger\n  // shared external scope values for compiled functions\n  readonly scope: ValueScope\n  readonly schemas: {[Key in string]?: SchemaEnv} = {}\n  readonly refs: {[Ref in string]?: SchemaEnv | string} = {}\n  readonly formats: {[Name in string]?: AddedFormat} = {}\n  readonly RULES: ValidationRules\n  readonly _compilations: Set<SchemaEnv> = new Set()\n  private readonly _loading: {[Ref in string]?: Promise<AnySchemaObject>} = {}\n  private readonly _cache: Map<AnySchema, SchemaEnv> = new Map()\n  private readonly _metaOpts: InstanceOptions\n\n  static ValidationError = ValidationError\n  static MissingRefError = MissingRefError\n\n  constructor(opts: Options = {}) {\n    opts = this.opts = {...opts, ...requiredOptions(opts)}\n    const {es5, lines} = this.opts.code\n\n    this.scope = new ValueScope({scope: {}, prefixes: EXT_SCOPE_NAMES, es5, lines})\n    this.logger = getLogger(opts.logger)\n    const formatOpt = opts.validateFormats\n    opts.validateFormats = false\n\n    this.RULES = getRules()\n    checkOptions.call(this, removedOptions, opts, \"NOT SUPPORTED\")\n    checkOptions.call(this, deprecatedOptions, opts, \"DEPRECATED\", \"warn\")\n    this._metaOpts = getMetaSchemaOptions.call(this)\n\n    if (opts.formats) addInitialFormats.call(this)\n    this._addVocabularies()\n    this._addDefaultMetaSchema()\n    if (opts.keywords) addInitialKeywords.call(this, opts.keywords)\n    if (typeof opts.meta == \"object\") this.addMetaSchema(opts.meta)\n    addInitialSchemas.call(this)\n    opts.validateFormats = formatOpt\n  }\n\n  _addVocabularies(): void {\n    this.addKeyword(\"$async\")\n  }\n\n  _addDefaultMetaSchema(): void {\n    const {$data, meta, schemaId} = this.opts\n    let _dataRefSchema: SchemaObject = $dataRefSchema\n    if (schemaId === \"id\") {\n      _dataRefSchema = {...$dataRefSchema}\n      _dataRefSchema.id = _dataRefSchema.$id\n      delete _dataRefSchema.$id\n    }\n    if (meta && $data) this.addMetaSchema(_dataRefSchema, _dataRefSchema[schemaId], false)\n  }\n\n  defaultMeta(): string | AnySchemaObject | undefined {\n    const {meta, schemaId} = this.opts\n    return (this.opts.defaultMeta = typeof meta == \"object\" ? meta[schemaId] || meta : undefined)\n  }\n\n  // Validate data using schema\n  // AnySchema will be compiled and cached using schema itself as a key for Map\n  validate(schema: Schema | string, data: unknown): boolean\n  validate(schemaKeyRef: AnySchema | string, data: unknown): boolean | Promise<unknown>\n  validate<T>(schema: Schema | JSONSchemaType<T> | string, data: unknown): data is T\n  // Separated for type inference to work\n  // eslint-disable-next-line @typescript-eslint/unified-signatures\n  validate<T>(schema: JTDSchemaType<T>, data: unknown): data is T\n  // This overload is only intended for typescript inference, the first\n  // argument prevents manual type annotation from matching this overload\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  validate<N extends never, T extends SomeJTDSchemaType>(\n    schema: T,\n    data: unknown\n  ): data is JTDDataType<T>\n  // eslint-disable-next-line @typescript-eslint/no-redundant-type-constituents\n  validate<T>(schema: AsyncSchema, data: unknown | T): Promise<T>\n  validate<T>(schemaKeyRef: AnySchema | string, data: unknown): data is T | Promise<T>\n  validate<T>(\n    schemaKeyRef: AnySchema | string, // key, ref or schema object\n    // eslint-disable-next-line @typescript-eslint/no-redundant-type-constituents\n    data: unknown | T // to be validated\n  ): boolean | Promise<T> {\n    let v: AnyValidateFunction | undefined\n    if (typeof schemaKeyRef == \"string\") {\n      v = this.getSchema<T>(schemaKeyRef)\n      if (!v) throw new Error(`no schema with key or ref \"${schemaKeyRef}\"`)\n    } else {\n      v = this.compile<T>(schemaKeyRef)\n    }\n\n    const valid = v(data)\n    if (!(\"$async\" in v)) this.errors = v.errors\n    return valid\n  }\n\n  // Create validation function for passed schema\n  // _meta: true if schema is a meta-schema. Used internally to compile meta schemas of user-defined keywords.\n  compile<T = unknown>(schema: Schema | JSONSchemaType<T>, _meta?: boolean): ValidateFunction<T>\n  // Separated for type inference to work\n  // eslint-disable-next-line @typescript-eslint/unified-signatures\n  compile<T = unknown>(schema: JTDSchemaType<T>, _meta?: boolean): ValidateFunction<T>\n  // This overload is only intended for typescript inference, the first\n  // argument prevents manual type annotation from matching this overload\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  compile<N extends never, T extends SomeJTDSchemaType>(\n    schema: T,\n    _meta?: boolean\n  ): ValidateFunction<JTDDataType<T>>\n  compile<T = unknown>(schema: AsyncSchema, _meta?: boolean): AsyncValidateFunction<T>\n  compile<T = unknown>(schema: AnySchema, _meta?: boolean): AnyValidateFunction<T>\n  compile<T = unknown>(schema: AnySchema, _meta?: boolean): AnyValidateFunction<T> {\n    const sch = this._addSchema(schema, _meta)\n    return (sch.validate || this._compileSchemaEnv(sch)) as AnyValidateFunction<T>\n  }\n\n  // Creates validating function for passed schema with asynchronous loading of missing schemas.\n  // `loadSchema` option should be a function that accepts schema uri and returns promise that resolves with the schema.\n  // TODO allow passing schema URI\n  // meta - optional true to compile meta-schema\n  compileAsync<T = unknown>(\n    schema: SchemaObject | JSONSchemaType<T>,\n    _meta?: boolean\n  ): Promise<ValidateFunction<T>>\n  // Separated for type inference to work\n  // eslint-disable-next-line @typescript-eslint/unified-signatures\n  compileAsync<T = unknown>(schema: JTDSchemaType<T>, _meta?: boolean): Promise<ValidateFunction<T>>\n  compileAsync<T = unknown>(schema: AsyncSchema, meta?: boolean): Promise<AsyncValidateFunction<T>>\n  // eslint-disable-next-line @typescript-eslint/unified-signatures\n  compileAsync<T = unknown>(\n    schema: AnySchemaObject,\n    meta?: boolean\n  ): Promise<AnyValidateFunction<T>>\n  compileAsync<T = unknown>(\n    schema: AnySchemaObject,\n    meta?: boolean\n  ): Promise<AnyValidateFunction<T>> {\n    if (typeof this.opts.loadSchema != \"function\") {\n      throw new Error(\"options.loadSchema should be a function\")\n    }\n    const {loadSchema} = this.opts\n    return runCompileAsync.call(this, schema, meta)\n\n    async function runCompileAsync(\n      this: Ajv,\n      _schema: AnySchemaObject,\n      _meta?: boolean\n    ): Promise<AnyValidateFunction> {\n      await loadMetaSchema.call(this, _schema.$schema)\n      const sch = this._addSchema(_schema, _meta)\n      return sch.validate || _compileAsync.call(this, sch)\n    }\n\n    async function loadMetaSchema(this: Ajv, $ref?: string): Promise<void> {\n      if ($ref && !this.getSchema($ref)) {\n        await runCompileAsync.call(this, {$ref}, true)\n      }\n    }\n\n    async function _compileAsync(this: Ajv, sch: SchemaEnv): Promise<AnyValidateFunction> {\n      try {\n        return this._compileSchemaEnv(sch)\n      } catch (e) {\n        if (!(e instanceof MissingRefError)) throw e\n        checkLoaded.call(this, e)\n        await loadMissingSchema.call(this, e.missingSchema)\n        return _compileAsync.call(this, sch)\n      }\n    }\n\n    function checkLoaded(this: Ajv, {missingSchema: ref, missingRef}: MissingRefError): void {\n      if (this.refs[ref]) {\n        throw new Error(`AnySchema ${ref} is loaded but ${missingRef} cannot be resolved`)\n      }\n    }\n\n    async function loadMissingSchema(this: Ajv, ref: string): Promise<void> {\n      const _schema = await _loadSchema.call(this, ref)\n      if (!this.refs[ref]) await loadMetaSchema.call(this, _schema.$schema)\n      if (!this.refs[ref]) this.addSchema(_schema, ref, meta)\n    }\n\n    async function _loadSchema(this: Ajv, ref: string): Promise<AnySchemaObject> {\n      const p = this._loading[ref]\n      if (p) return p\n      try {\n        return await (this._loading[ref] = loadSchema(ref))\n      } finally {\n        delete this._loading[ref]\n      }\n    }\n  }\n\n  // Adds schema to the instance\n  addSchema(\n    schema: AnySchema | AnySchema[], // If array is passed, `key` will be ignored\n    key?: string, // Optional schema key. Can be passed to `validate` method instead of schema object or id/ref. One schema per instance can have empty `id` and `key`.\n    _meta?: boolean, // true if schema is a meta-schema. Used internally, addMetaSchema should be used instead.\n    _validateSchema = this.opts.validateSchema // false to skip schema validation. Used internally, option validateSchema should be used instead.\n  ): Ajv {\n    if (Array.isArray(schema)) {\n      for (const sch of schema) this.addSchema(sch, undefined, _meta, _validateSchema)\n      return this\n    }\n    let id: string | undefined\n    if (typeof schema === \"object\") {\n      const {schemaId} = this.opts\n      id = schema[schemaId]\n      if (id !== undefined && typeof id != \"string\") {\n        throw new Error(`schema ${schemaId} must be string`)\n      }\n    }\n    key = normalizeId(key || id)\n    this._checkUnique(key)\n    this.schemas[key] = this._addSchema(schema, _meta, key, _validateSchema, true)\n    return this\n  }\n\n  // Add schema that will be used to validate other schemas\n  // options in META_IGNORE_OPTIONS are alway set to false\n  addMetaSchema(\n    schema: AnySchemaObject,\n    key?: string, // schema key\n    _validateSchema = this.opts.validateSchema // false to skip schema validation, can be used to override validateSchema option for meta-schema\n  ): Ajv {\n    this.addSchema(schema, key, true, _validateSchema)\n    return this\n  }\n\n  //  Validate schema against its meta-schema\n  validateSchema(schema: AnySchema, throwOrLogError?: boolean): boolean | Promise<unknown> {\n    if (typeof schema == \"boolean\") return true\n    let $schema: string | AnySchemaObject | undefined\n    $schema = schema.$schema\n    if ($schema !== undefined && typeof $schema != \"string\") {\n      throw new Error(\"$schema must be a string\")\n    }\n    $schema = $schema || this.opts.defaultMeta || this.defaultMeta()\n    if (!$schema) {\n      this.logger.warn(\"meta-schema not available\")\n      this.errors = null\n      return true\n    }\n    const valid = this.validate($schema, schema)\n    if (!valid && throwOrLogError) {\n      const message = \"schema is invalid: \" + this.errorsText()\n      if (this.opts.validateSchema === \"log\") this.logger.error(message)\n      else throw new Error(message)\n    }\n    return valid\n  }\n\n  // Get compiled schema by `key` or `ref`.\n  // (`key` that was passed to `addSchema` or full schema reference - `schema.$id` or resolved id)\n  getSchema<T = unknown>(keyRef: string): AnyValidateFunction<T> | undefined {\n    let sch\n    while (typeof (sch = getSchEnv.call(this, keyRef)) == \"string\") keyRef = sch\n    if (sch === undefined) {\n      const {schemaId} = this.opts\n      const root = new SchemaEnv({schema: {}, schemaId})\n      sch = resolveSchema.call(this, root, keyRef)\n      if (!sch) return\n      this.refs[keyRef] = sch\n    }\n    return (sch.validate || this._compileSchemaEnv(sch)) as AnyValidateFunction<T> | undefined\n  }\n\n  // Remove cached schema(s).\n  // If no parameter is passed all schemas but meta-schemas are removed.\n  // If RegExp is passed all schemas with key/id matching pattern but meta-schemas are removed.\n  // Even if schema is referenced by other schemas it still can be removed as other schemas have local references.\n  removeSchema(schemaKeyRef?: AnySchema | string | RegExp): Ajv {\n    if (schemaKeyRef instanceof RegExp) {\n      this._removeAllSchemas(this.schemas, schemaKeyRef)\n      this._removeAllSchemas(this.refs, schemaKeyRef)\n      return this\n    }\n    switch (typeof schemaKeyRef) {\n      case \"undefined\":\n        this._removeAllSchemas(this.schemas)\n        this._removeAllSchemas(this.refs)\n        this._cache.clear()\n        return this\n      case \"string\": {\n        const sch = getSchEnv.call(this, schemaKeyRef)\n        if (typeof sch == \"object\") this._cache.delete(sch.schema)\n        delete this.schemas[schemaKeyRef]\n        delete this.refs[schemaKeyRef]\n        return this\n      }\n      case \"object\": {\n        const cacheKey = schemaKeyRef\n        this._cache.delete(cacheKey)\n        let id = schemaKeyRef[this.opts.schemaId]\n        if (id) {\n          id = normalizeId(id)\n          delete this.schemas[id]\n          delete this.refs[id]\n        }\n        return this\n      }\n      default:\n        throw new Error(\"ajv.removeSchema: invalid parameter\")\n    }\n  }\n\n  // add \"vocabulary\" - a collection of keywords\n  addVocabulary(definitions: Vocabulary): Ajv {\n    for (const def of definitions) this.addKeyword(def)\n    return this\n  }\n\n  addKeyword(\n    kwdOrDef: string | KeywordDefinition,\n    def?: KeywordDefinition // deprecated\n  ): Ajv {\n    let keyword: string | string[]\n    if (typeof kwdOrDef == \"string\") {\n      keyword = kwdOrDef\n      if (typeof def == \"object\") {\n        this.logger.warn(\"these parameters are deprecated, see docs for addKeyword\")\n        def.keyword = keyword\n      }\n    } else if (typeof kwdOrDef == \"object\" && def === undefined) {\n      def = kwdOrDef\n      keyword = def.keyword\n      if (Array.isArray(keyword) && !keyword.length) {\n        throw new Error(\"addKeywords: keyword must be string or non-empty array\")\n      }\n    } else {\n      throw new Error(\"invalid addKeywords parameters\")\n    }\n\n    checkKeyword.call(this, keyword, def)\n    if (!def) {\n      eachItem(keyword, (kwd) => addRule.call(this, kwd))\n      return this\n    }\n    keywordMetaschema.call(this, def)\n    const definition: AddedKeywordDefinition = {\n      ...def,\n      type: getJSONTypes(def.type),\n      schemaType: getJSONTypes(def.schemaType),\n    }\n    eachItem(\n      keyword,\n      definition.type.length === 0\n        ? (k) => addRule.call(this, k, definition)\n        : (k) => definition.type.forEach((t) => addRule.call(this, k, definition, t))\n    )\n    return this\n  }\n\n  getKeyword(keyword: string): AddedKeywordDefinition | boolean {\n    const rule = this.RULES.all[keyword]\n    return typeof rule == \"object\" ? rule.definition : !!rule\n  }\n\n  // Remove keyword\n  removeKeyword(keyword: string): Ajv {\n    // TODO return type should be Ajv\n    const {RULES} = this\n    delete RULES.keywords[keyword]\n    delete RULES.all[keyword]\n    for (const group of RULES.rules) {\n      const i = group.rules.findIndex((rule) => rule.keyword === keyword)\n      if (i >= 0) group.rules.splice(i, 1)\n    }\n    return this\n  }\n\n  // Add format\n  addFormat(name: string, format: Format): Ajv {\n    if (typeof format == \"string\") format = new RegExp(format)\n    this.formats[name] = format\n    return this\n  }\n\n  errorsText(\n    errors: ErrorObject[] | null | undefined = this.errors, // optional array of validation errors\n    {separator = \", \", dataVar = \"data\"}: ErrorsTextOptions = {} // optional options with properties `separator` and `dataVar`\n  ): string {\n    if (!errors || errors.length === 0) return \"No errors\"\n    return errors\n      .map((e) => `${dataVar}${e.instancePath} ${e.message}`)\n      .reduce((text, msg) => text + separator + msg)\n  }\n\n  $dataMetaSchema(metaSchema: AnySchemaObject, keywordsJsonPointers: string[]): AnySchemaObject {\n    const rules = this.RULES.all\n    metaSchema = JSON.parse(JSON.stringify(metaSchema))\n    for (const jsonPointer of keywordsJsonPointers) {\n      const segments = jsonPointer.split(\"/\").slice(1) // first segment is an empty string\n      let keywords = metaSchema\n      for (const seg of segments) keywords = keywords[seg] as AnySchemaObject\n\n      for (const key in rules) {\n        const rule = rules[key]\n        if (typeof rule != \"object\") continue\n        const {$data} = rule.definition\n        const schema = keywords[key] as AnySchemaObject | undefined\n        if ($data && schema) keywords[key] = schemaOrData(schema)\n      }\n    }\n\n    return metaSchema\n  }\n\n  private _removeAllSchemas(schemas: {[Ref in string]?: SchemaEnv | string}, regex?: RegExp): void {\n    for (const keyRef in schemas) {\n      const sch = schemas[keyRef]\n      if (!regex || regex.test(keyRef)) {\n        if (typeof sch == \"string\") {\n          delete schemas[keyRef]\n        } else if (sch && !sch.meta) {\n          this._cache.delete(sch.schema)\n          delete schemas[keyRef]\n        }\n      }\n    }\n  }\n\n  _addSchema(\n    schema: AnySchema,\n    meta?: boolean,\n    baseId?: string,\n    validateSchema = this.opts.validateSchema,\n    addSchema = this.opts.addUsedSchema\n  ): SchemaEnv {\n    let id: string | undefined\n    const {schemaId} = this.opts\n    if (typeof schema == \"object\") {\n      id = schema[schemaId]\n    } else {\n      if (this.opts.jtd) throw new Error(\"schema must be object\")\n      else if (typeof schema != \"boolean\") throw new Error(\"schema must be object or boolean\")\n    }\n    let sch = this._cache.get(schema)\n    if (sch !== undefined) return sch\n\n    baseId = normalizeId(id || baseId)\n    const localRefs = getSchemaRefs.call(this, schema, baseId)\n    sch = new SchemaEnv({schema, schemaId, meta, baseId, localRefs})\n    this._cache.set(sch.schema, sch)\n    if (addSchema && !baseId.startsWith(\"#\")) {\n      // TODO atm it is allowed to overwrite schemas without id (instead of not adding them)\n      if (baseId) this._checkUnique(baseId)\n      this.refs[baseId] = sch\n    }\n    if (validateSchema) this.validateSchema(schema, true)\n    return sch\n  }\n\n  private _checkUnique(id: string): void {\n    if (this.schemas[id] || this.refs[id]) {\n      throw new Error(`schema with key or id \"${id}\" already exists`)\n    }\n  }\n\n  private _compileSchemaEnv(sch: SchemaEnv): AnyValidateFunction {\n    if (sch.meta) this._compileMetaSchema(sch)\n    else compileSchema.call(this, sch)\n\n    /* istanbul ignore if */\n    if (!sch.validate) throw new Error(\"ajv implementation error\")\n    return sch.validate\n  }\n\n  private _compileMetaSchema(sch: SchemaEnv): void {\n    const currentOpts = this.opts\n    this.opts = this._metaOpts\n    try {\n      compileSchema.call(this, sch)\n    } finally {\n      this.opts = currentOpts\n    }\n  }\n}\n\nexport interface ErrorsTextOptions {\n  separator?: string\n  dataVar?: string\n}\n\nfunction checkOptions(\n  this: Ajv,\n  checkOpts: OptionsInfo<RemovedOptions | DeprecatedOptions>,\n  options: Options & RemovedOptions,\n  msg: string,\n  log: \"warn\" | \"error\" = \"error\"\n): void {\n  for (const key in checkOpts) {\n    const opt = key as keyof typeof checkOpts\n    if (opt in options) this.logger[log](`${msg}: option ${key}. ${checkOpts[opt]}`)\n  }\n}\n\nfunction getSchEnv(this: Ajv, keyRef: string): SchemaEnv | string | undefined {\n  keyRef = normalizeId(keyRef) // TODO tests fail without this line\n  return this.schemas[keyRef] || this.refs[keyRef]\n}\n\nfunction addInitialSchemas(this: Ajv): void {\n  const optsSchemas = this.opts.schemas\n  if (!optsSchemas) return\n  if (Array.isArray(optsSchemas)) this.addSchema(optsSchemas)\n  else for (const key in optsSchemas) this.addSchema(optsSchemas[key] as AnySchema, key)\n}\n\nfunction addInitialFormats(this: Ajv): void {\n  for (const name in this.opts.formats) {\n    const format = this.opts.formats[name]\n    if (format) this.addFormat(name, format)\n  }\n}\n\nfunction addInitialKeywords(\n  this: Ajv,\n  defs: Vocabulary | {[K in string]?: KeywordDefinition}\n): void {\n  if (Array.isArray(defs)) {\n    this.addVocabulary(defs)\n    return\n  }\n  this.logger.warn(\"keywords option as map is deprecated, pass array\")\n  for (const keyword in defs) {\n    const def = defs[keyword] as KeywordDefinition\n    if (!def.keyword) def.keyword = keyword\n    this.addKeyword(def)\n  }\n}\n\nfunction getMetaSchemaOptions(this: Ajv): InstanceOptions {\n  const metaOpts = {...this.opts}\n  for (const opt of META_IGNORE_OPTIONS) delete metaOpts[opt]\n  return metaOpts\n}\n\nconst noLogs = {log() {}, warn() {}, error() {}}\n\nfunction getLogger(logger?: Partial<Logger> | false): Logger {\n  if (logger === false) return noLogs\n  if (logger === undefined) return console\n  if (logger.log && logger.warn && logger.error) return logger as Logger\n  throw new Error(\"logger must implement log, warn and error methods\")\n}\n\nconst KEYWORD_NAME = /^[a-z_$][a-z0-9_$:-]*$/i\n\nfunction checkKeyword(this: Ajv, keyword: string | string[], def?: KeywordDefinition): void {\n  const {RULES} = this\n  eachItem(keyword, (kwd) => {\n    if (RULES.keywords[kwd]) throw new Error(`Keyword ${kwd} is already defined`)\n    if (!KEYWORD_NAME.test(kwd)) throw new Error(`Keyword ${kwd} has invalid name`)\n  })\n  if (!def) return\n  if (def.$data && !(\"code\" in def || \"validate\" in def)) {\n    throw new Error('$data keyword must have \"code\" or \"validate\" function')\n  }\n}\n\nfunction addRule(\n  this: Ajv,\n  keyword: string,\n  definition?: AddedKeywordDefinition,\n  dataType?: JSONType\n): void {\n  const post = definition?.post\n  if (dataType && post) throw new Error('keyword with \"post\" flag cannot have \"type\"')\n  const {RULES} = this\n  let ruleGroup = post ? RULES.post : RULES.rules.find(({type: t}) => t === dataType)\n  if (!ruleGroup) {\n    ruleGroup = {type: dataType, rules: []}\n    RULES.rules.push(ruleGroup)\n  }\n  RULES.keywords[keyword] = true\n  if (!definition) return\n\n  const rule: Rule = {\n    keyword,\n    definition: {\n      ...definition,\n      type: getJSONTypes(definition.type),\n      schemaType: getJSONTypes(definition.schemaType),\n    },\n  }\n  if (definition.before) addBeforeRule.call(this, ruleGroup, rule, definition.before)\n  else ruleGroup.rules.push(rule)\n  RULES.all[keyword] = rule\n  definition.implements?.forEach((kwd) => this.addKeyword(kwd))\n}\n\nfunction addBeforeRule(this: Ajv, ruleGroup: RuleGroup, rule: Rule, before: string): void {\n  const i = ruleGroup.rules.findIndex((_rule) => _rule.keyword === before)\n  if (i >= 0) {\n    ruleGroup.rules.splice(i, 0, rule)\n  } else {\n    ruleGroup.rules.push(rule)\n    this.logger.warn(`rule ${before} is not defined`)\n  }\n}\n\nfunction keywordMetaschema(this: Ajv, def: KeywordDefinition): void {\n  let {metaSchema} = def\n  if (metaSchema === undefined) return\n  if (def.$data && this.opts.$data) metaSchema = schemaOrData(metaSchema)\n  def.validateSchema = this.compile(metaSchema, true)\n}\n\nconst $dataRef = {\n  $ref: \"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#\",\n}\n\nfunction schemaOrData(schema: AnySchema): AnySchemaObject {\n  return {anyOf: [schema, $dataRef]}\n}\n", "import type {CodeKeywordDefinition} from \"../../types\"\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"id\",\n  code() {\n    throw new Error('NOT SUPPORTED: keyword \"id\", use \"$id\" for schema ID')\n  },\n}\n\nexport default def\n", "import type {CodeKeywordDefinition, AnySchema} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport MissingRefError from \"../../compile/ref_error\"\nimport {callValidateCode} from \"../code\"\nimport {_, nil, stringify, Code, Name} from \"../../compile/codegen\"\nimport N from \"../../compile/names\"\nimport {SchemaEnv, resolveRef} from \"../../compile\"\nimport {mergeEvaluated} from \"../../compile/util\"\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"$ref\",\n  schemaType: \"string\",\n  code(cxt: KeywordCxt): void {\n    const {gen, schema: $ref, it} = cxt\n    const {baseId, schemaEnv: env, validateName, opts, self} = it\n    const {root} = env\n    if (($ref === \"#\" || $ref === \"#/\") && baseId === root.baseId) return callRootRef()\n    const schOrEnv = resolveRef.call(self, root, baseId, $ref)\n    if (schOrEnv === undefined) throw new MissingRefError(it.opts.uriResolver, baseId, $ref)\n    if (schOrEnv instanceof SchemaEnv) return callValidate(schOrEnv)\n    return inlineRefSchema(schOrEnv)\n\n    function callRootRef(): void {\n      if (env === root) return callRef(cxt, validateName, env, env.$async)\n      const rootName = gen.scopeValue(\"root\", {ref: root})\n      return callRef(cxt, _`${rootName}.validate`, root, root.$async)\n    }\n\n    function callValidate(sch: SchemaEnv): void {\n      const v = getValidate(cxt, sch)\n      callRef(cxt, v, sch, sch.$async)\n    }\n\n    function inlineRefSchema(sch: AnySchema): void {\n      const schName = gen.scopeValue(\n        \"schema\",\n        opts.code.source === true ? {ref: sch, code: stringify(sch)} : {ref: sch}\n      )\n      const valid = gen.name(\"valid\")\n      const schCxt = cxt.subschema(\n        {\n          schema: sch,\n          dataTypes: [],\n          schemaPath: nil,\n          topSchemaRef: schName,\n          errSchemaPath: $ref,\n        },\n        valid\n      )\n      cxt.mergeEvaluated(schCxt)\n      cxt.ok(valid)\n    }\n  },\n}\n\nexport function getValidate(cxt: KeywordCxt, sch: SchemaEnv): Code {\n  const {gen} = cxt\n  return sch.validate\n    ? gen.scopeValue(\"validate\", {ref: sch.validate})\n    : _`${gen.scopeValue(\"wrapper\", {ref: sch})}.validate`\n}\n\nexport function callRef(cxt: KeywordCxt, v: Code, sch?: SchemaEnv, $async?: boolean): void {\n  const {gen, it} = cxt\n  const {allErrors, schemaEnv: env, opts} = it\n  const passCxt = opts.passContext ? N.this : nil\n  if ($async) callAsyncRef()\n  else callSyncRef()\n\n  function callAsyncRef(): void {\n    if (!env.$async) throw new Error(\"async schema referenced by sync schema\")\n    const valid = gen.let(\"valid\")\n    gen.try(\n      () => {\n        gen.code(_`await ${callValidateCode(cxt, v, passCxt)}`)\n        addEvaluatedFrom(v) // TODO will not work with async, it has to be returned with the result\n        if (!allErrors) gen.assign(valid, true)\n      },\n      (e) => {\n        gen.if(_`!(${e} instanceof ${it.ValidationError as Name})`, () => gen.throw(e))\n        addErrorsFrom(e)\n        if (!allErrors) gen.assign(valid, false)\n      }\n    )\n    cxt.ok(valid)\n  }\n\n  function callSyncRef(): void {\n    cxt.result(\n      callValidateCode(cxt, v, passCxt),\n      () => addEvaluatedFrom(v),\n      () => addErrorsFrom(v)\n    )\n  }\n\n  function addErrorsFrom(source: Code): void {\n    const errs = _`${source}.errors`\n    gen.assign(N.vErrors, _`${N.vErrors} === null ? ${errs} : ${N.vErrors}.concat(${errs})`) // TODO tagged\n    gen.assign(N.errors, _`${N.vErrors}.length`)\n  }\n\n  function addEvaluatedFrom(source: Code): void {\n    if (!it.opts.unevaluated) return\n    const schEvaluated = sch?.validate?.evaluated\n    // TODO refactor\n    if (it.props !== true) {\n      if (schEvaluated && !schEvaluated.dynamicProps) {\n        if (schEvaluated.props !== undefined) {\n          it.props = mergeEvaluated.props(gen, schEvaluated.props, it.props)\n        }\n      } else {\n        const props = gen.var(\"props\", _`${source}.evaluated.props`)\n        it.props = mergeEvaluated.props(gen, props, it.props, Name)\n      }\n    }\n    if (it.items !== true) {\n      if (schEvaluated && !schEvaluated.dynamicItems) {\n        if (schEvaluated.items !== undefined) {\n          it.items = mergeEvaluated.items(gen, schEvaluated.items, it.items)\n        }\n      } else {\n        const items = gen.var(\"items\", _`${source}.evaluated.items`)\n        it.items = mergeEvaluated.items(gen, items, it.items, Name)\n      }\n    }\n  }\n}\n\nexport default def\n", "import type {Vocabulary} from \"../../types\"\nimport idKeyword from \"./id\"\nimport refKeyword from \"./ref\"\n\nconst core: Vocabulary = [\n  \"$schema\",\n  \"$id\",\n  \"$defs\",\n  \"$vocabulary\",\n  {keyword: \"$comment\"},\n  \"definitions\",\n  idKeyword,\n  refKeyword,\n]\n\nexport default core\n", "import type {CodeKeywordDefinition, ErrorObject, KeywordErrorDefinition} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {_, str, operators, Code} from \"../../compile/codegen\"\n\nconst ops = operators\n\ntype Kwd = \"maximum\" | \"minimum\" | \"exclusiveMaximum\" | \"exclusiveMinimum\"\n\ntype Comparison = \"<=\" | \">=\" | \"<\" | \">\"\n\nconst KWDs: {[K in Kwd]: {okStr: Comparison; ok: Code; fail: Code}} = {\n  maximum: {okStr: \"<=\", ok: ops.LTE, fail: ops.GT},\n  minimum: {okStr: \">=\", ok: ops.GTE, fail: ops.LT},\n  exclusiveMaximum: {okStr: \"<\", ok: ops.LT, fail: ops.GTE},\n  exclusiveMinimum: {okStr: \">\", ok: ops.GT, fail: ops.LTE},\n}\n\nexport type LimitNumberError = ErrorObject<\n  Kwd,\n  {limit: number; comparison: Comparison},\n  number | {$data: string}\n>\n\nconst error: KeywordErrorDefinition = {\n  message: ({keyword, schemaCode}) => str`must be ${KWDs[keyword as Kwd].okStr} ${schemaCode}`,\n  params: ({keyword, schemaCode}) =>\n    _`{comparison: ${KWDs[keyword as Kwd].okStr}, limit: ${schemaCode}}`,\n}\n\nconst def: CodeKeywordDefinition = {\n  keyword: Object.keys(KWDs),\n  type: \"number\",\n  schemaType: \"number\",\n  $data: true,\n  error,\n  code(cxt: KeywordCxt) {\n    const {keyword, data, schemaCode} = cxt\n    cxt.fail$data(_`${data} ${KWDs[keyword as Kwd].fail} ${schemaCode} || isNaN(${data})`)\n  },\n}\n\nexport default def\n", "import type {CodeKeywordDefinition, ErrorObject, KeywordErrorDefinition} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {_, str} from \"../../compile/codegen\"\n\nexport type MultipleOfError = ErrorObject<\n  \"multipleOf\",\n  {multipleOf: number},\n  number | {$data: string}\n>\n\nconst error: KeywordErrorDefinition = {\n  message: ({schemaCode}) => str`must be multiple of ${schemaCode}`,\n  params: ({schemaCode}) => _`{multipleOf: ${schemaCode}}`,\n}\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"multipleOf\",\n  type: \"number\",\n  schemaType: \"number\",\n  $data: true,\n  error,\n  code(cxt: KeywordCxt) {\n    const {gen, data, schemaCode, it} = cxt\n    // const bdt = bad$DataType(schemaCode, <string>def.schemaType, $data)\n    const prec = it.opts.multipleOfPrecision\n    const res = gen.let(\"res\")\n    const invalid = prec\n      ? _`Math.abs(Math.round(${res}) - ${res}) > 1e-${prec}`\n      : _`${res} !== parseInt(${res})`\n    cxt.fail$data(_`(${schemaCode} === 0 || (${res} = ${data}/${schemaCode}, ${invalid}))`)\n  },\n}\n\nexport default def\n", "// https://mathiasbynens.be/notes/javascript-encoding\n// https://github.com/bestiejs/punycode.js - punycode.ucs2.decode\nexport default function ucs2length(str: string): number {\n  const len = str.length\n  let length = 0\n  let pos = 0\n  let value: number\n  while (pos < len) {\n    length++\n    value = str.charCodeAt(pos++)\n    if (value >= 0xd800 && value <= 0xdbff && pos < len) {\n      // high surrogate, and there is a next character\n      value = str.charCodeAt(pos)\n      if ((value & 0xfc00) === 0xdc00) pos++ // low surrogate\n    }\n  }\n  return length\n}\n\nucs2length.code = 'require(\"ajv/dist/runtime/ucs2length\").default'\n", "import type {CodeKeywordDefinition, KeywordErrorDefinition} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {_, str, operators} from \"../../compile/codegen\"\nimport {useFunc} from \"../../compile/util\"\nimport ucs2length from \"../../runtime/ucs2length\"\n\nconst error: KeywordErrorDefinition = {\n  message({keyword, schemaCode}) {\n    const comp = keyword === \"maxLength\" ? \"more\" : \"fewer\"\n    return str`must NOT have ${comp} than ${schemaCode} characters`\n  },\n  params: ({schemaCode}) => _`{limit: ${schemaCode}}`,\n}\n\nconst def: CodeKeywordDefinition = {\n  keyword: [\"maxLength\", \"minLength\"],\n  type: \"string\",\n  schemaType: \"number\",\n  $data: true,\n  error,\n  code(cxt: KeywordCxt) {\n    const {keyword, data, schemaCode, it} = cxt\n    const op = keyword === \"maxLength\" ? operators.GT : operators.LT\n    const len =\n      it.opts.unicode === false ? _`${data}.length` : _`${useFunc(cxt.gen, ucs2length)}(${data})`\n    cxt.fail$data(_`${len} ${op} ${schemaCode}`)\n  },\n}\n\nexport default def\n", "import type {CodeKeywordDefinition, ErrorObject, KeywordErrorDefinition} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {usePattern} from \"../code\"\nimport {_, str} from \"../../compile/codegen\"\n\nexport type PatternError = ErrorObject<\"pattern\", {pattern: string}, string | {$data: string}>\n\nconst error: KeywordErrorDefinition = {\n  message: ({schemaCode}) => str`must match pattern \"${schemaCode}\"`,\n  params: ({schemaCode}) => _`{pattern: ${schemaCode}}`,\n}\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"pattern\",\n  type: \"string\",\n  schemaType: \"string\",\n  $data: true,\n  error,\n  code(cxt: KeywordCxt) {\n    const {data, $data, schema, schemaCode, it} = cxt\n    // TODO regexp should be wrapped in try/catchs\n    const u = it.opts.unicodeRegExp ? \"u\" : \"\"\n    const regExp = $data ? _`(new RegExp(${schemaCode}, ${u}))` : usePattern(cxt, schema)\n    cxt.fail$data(_`!${regExp}.test(${data})`)\n  },\n}\n\nexport default def\n", "import type {CodeKeywordDefinition, KeywordErrorDefinition} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {_, str, operators} from \"../../compile/codegen\"\n\nconst error: KeywordErrorDefinition = {\n  message({keyword, schemaCode}) {\n    const comp = keyword === \"maxProperties\" ? \"more\" : \"fewer\"\n    return str`must NOT have ${comp} than ${schemaCode} properties`\n  },\n  params: ({schemaCode}) => _`{limit: ${schemaCode}}`,\n}\n\nconst def: CodeKeywordDefinition = {\n  keyword: [\"maxProperties\", \"minProperties\"],\n  type: \"object\",\n  schemaType: \"number\",\n  $data: true,\n  error,\n  code(cxt: KeywordCxt) {\n    const {keyword, data, schemaCode} = cxt\n    const op = keyword === \"maxProperties\" ? operators.GT : operators.LT\n    cxt.fail$data(_`Object.keys(${data}).length ${op} ${schemaCode}`)\n  },\n}\n\nexport default def\n", "import type {CodeKeywordDefinition, ErrorObject, KeywordErrorDefinition} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {\n  checkReportMissingProp,\n  checkMissingProp,\n  reportMissingProp,\n  propertyInData,\n  noPropertyInData,\n} from \"../code\"\nimport {_, str, nil, not, Name, Code} from \"../../compile/codegen\"\nimport {checkStrictMode} from \"../../compile/util\"\n\nexport type RequiredError = ErrorObject<\n  \"required\",\n  {missingProperty: string},\n  string[] | {$data: string}\n>\n\nconst error: KeywordErrorDefinition = {\n  message: ({params: {missingProperty}}) => str`must have required property '${missingProperty}'`,\n  params: ({params: {missingProperty}}) => _`{missingProperty: ${missingProperty}}`,\n}\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"required\",\n  type: \"object\",\n  schemaType: \"array\",\n  $data: true,\n  error,\n  code(cxt: KeywordCxt) {\n    const {gen, schema, schemaCode, data, $data, it} = cxt\n    const {opts} = it\n    if (!$data && schema.length === 0) return\n    const useLoop = schema.length >= opts.loopRequired\n    if (it.allErrors) allErrorsMode()\n    else exitOnErrorMode()\n\n    if (opts.strictRequired) {\n      const props = cxt.parentSchema.properties\n      const {definedProperties} = cxt.it\n      for (const requiredKey of schema) {\n        if (props?.[requiredKey] === undefined && !definedProperties.has(requiredKey)) {\n          const schemaPath = it.schemaEnv.baseId + it.errSchemaPath\n          const msg = `required property \"${requiredKey}\" is not defined at \"${schemaPath}\" (strictRequired)`\n          checkStrictMode(it, msg, it.opts.strictRequired)\n        }\n      }\n    }\n\n    function allErrorsMode(): void {\n      if (useLoop || $data) {\n        cxt.block$data(nil, loopAllRequired)\n      } else {\n        for (const prop of schema) {\n          checkReportMissingProp(cxt, prop)\n        }\n      }\n    }\n\n    function exitOnErrorMode(): void {\n      const missing = gen.let(\"missing\")\n      if (useLoop || $data) {\n        const valid = gen.let(\"valid\", true)\n        cxt.block$data(valid, () => loopUntilMissing(missing, valid))\n        cxt.ok(valid)\n      } else {\n        gen.if(checkMissingProp(cxt, schema, missing))\n        reportMissingProp(cxt, missing)\n        gen.else()\n      }\n    }\n\n    function loopAllRequired(): void {\n      gen.forOf(\"prop\", schemaCode as Code, (prop) => {\n        cxt.setParams({missingProperty: prop})\n        gen.if(noPropertyInData(gen, data, prop, opts.ownProperties), () => cxt.error())\n      })\n    }\n\n    function loopUntilMissing(missing: Name, valid: Name): void {\n      cxt.setParams({missingProperty: missing})\n      gen.forOf(\n        missing,\n        schemaCode as Code,\n        () => {\n          gen.assign(valid, propertyInData(gen, data, missing, opts.ownProperties))\n          gen.if(not(valid), () => {\n            cxt.error()\n            gen.break()\n          })\n        },\n        nil\n      )\n    }\n  },\n}\n\nexport default def\n", "import type {CodeKeywordDefinition, KeywordErrorDefinition} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {_, str, operators} from \"../../compile/codegen\"\n\nconst error: KeywordErrorDefinition = {\n  message({keyword, schemaCode}) {\n    const comp = keyword === \"maxItems\" ? \"more\" : \"fewer\"\n    return str`must NOT have ${comp} than ${schemaCode} items`\n  },\n  params: ({schemaCode}) => _`{limit: ${schemaCode}}`,\n}\n\nconst def: CodeKeywordDefinition = {\n  keyword: [\"maxItems\", \"minItems\"],\n  type: \"array\",\n  schemaType: \"number\",\n  $data: true,\n  error,\n  code(cxt: KeywordCxt) {\n    const {keyword, data, schemaCode} = cxt\n    const op = keyword === \"maxItems\" ? operators.GT : operators.LT\n    cxt.fail$data(_`${data}.length ${op} ${schemaCode}`)\n  },\n}\n\nexport default def\n", "// https://github.com/ajv-validator/ajv/issues/889\nimport * as equal from \"fast-deep-equal\"\n\ntype Equal = typeof equal & {code: string}\n;(equal as Equal).code = 'require(\"ajv/dist/runtime/equal\").default'\n\nexport default equal as Equal\n", "import type {CodeKeywordDefinition, ErrorObject, KeywordErrorDefinition} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {checkDataTypes, getSchemaTypes, DataType} from \"../../compile/validate/dataType\"\nimport {_, str, Name} from \"../../compile/codegen\"\nimport {useFunc} from \"../../compile/util\"\nimport equal from \"../../runtime/equal\"\n\nexport type UniqueItemsError = ErrorObject<\n  \"uniqueItems\",\n  {i: number; j: number},\n  boolean | {$data: string}\n>\n\nconst error: KeywordErrorDefinition = {\n  message: ({params: {i, j}}) =>\n    str`must NOT have duplicate items (items ## ${j} and ${i} are identical)`,\n  params: ({params: {i, j}}) => _`{i: ${i}, j: ${j}}`,\n}\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"uniqueItems\",\n  type: \"array\",\n  schemaType: \"boolean\",\n  $data: true,\n  error,\n  code(cxt: KeywordCxt) {\n    const {gen, data, $data, schema, parentSchema, schemaCode, it} = cxt\n    if (!$data && !schema) return\n    const valid = gen.let(\"valid\")\n    const itemTypes = parentSchema.items ? getSchemaTypes(parentSchema.items) : []\n    cxt.block$data(valid, validateUniqueItems, _`${schemaCode} === false`)\n    cxt.ok(valid)\n\n    function validateUniqueItems(): void {\n      const i = gen.let(\"i\", _`${data}.length`)\n      const j = gen.let(\"j\")\n      cxt.setParams({i, j})\n      gen.assign(valid, true)\n      gen.if(_`${i} > 1`, () => (canOptimize() ? loopN : loopN2)(i, j))\n    }\n\n    function canOptimize(): boolean {\n      return itemTypes.length > 0 && !itemTypes.some((t) => t === \"object\" || t === \"array\")\n    }\n\n    function loopN(i: Name, j: Name): void {\n      const item = gen.name(\"item\")\n      const wrongType = checkDataTypes(itemTypes, item, it.opts.strictNumbers, DataType.Wrong)\n      const indices = gen.const(\"indices\", _`{}`)\n      gen.for(_`;${i}--;`, () => {\n        gen.let(item, _`${data}[${i}]`)\n        gen.if(wrongType, _`continue`)\n        if (itemTypes.length > 1) gen.if(_`typeof ${item} == \"string\"`, _`${item} += \"_\"`)\n        gen\n          .if(_`typeof ${indices}[${item}] == \"number\"`, () => {\n            gen.assign(j, _`${indices}[${item}]`)\n            cxt.error()\n            gen.assign(valid, false).break()\n          })\n          .code(_`${indices}[${item}] = ${i}`)\n      })\n    }\n\n    function loopN2(i: Name, j: Name): void {\n      const eql = useFunc(gen, equal)\n      const outer = gen.name(\"outer\")\n      gen.label(outer).for(_`;${i}--;`, () =>\n        gen.for(_`${j} = ${i}; ${j}--;`, () =>\n          gen.if(_`${eql}(${data}[${i}], ${data}[${j}])`, () => {\n            cxt.error()\n            gen.assign(valid, false).break(outer)\n          })\n        )\n      )\n    }\n  },\n}\n\nexport default def\n", "import type {CodeKeywordDefinition, ErrorObject, KeywordErrorDefinition} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {_} from \"../../compile/codegen\"\nimport {useFunc} from \"../../compile/util\"\nimport equal from \"../../runtime/equal\"\n\nexport type ConstError = ErrorObject<\"const\", {allowedValue: any}>\n\nconst error: KeywordErrorDefinition = {\n  message: \"must be equal to constant\",\n  params: ({schemaCode}) => _`{allowedValue: ${schemaCode}}`,\n}\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"const\",\n  $data: true,\n  error,\n  code(cxt: KeywordCxt) {\n    const {gen, data, $data, schemaCode, schema} = cxt\n    if ($data || (schema && typeof schema == \"object\")) {\n      cxt.fail$data(_`!${useFunc(gen, equal)}(${data}, ${schemaCode})`)\n    } else {\n      cxt.fail(_`${schema} !== ${data}`)\n    }\n  },\n}\n\nexport default def\n", "import type {CodeKeywordDefinition, ErrorObject, KeywordErrorDefinition} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {_, or, Name, Code} from \"../../compile/codegen\"\nimport {useFunc} from \"../../compile/util\"\nimport equal from \"../../runtime/equal\"\n\nexport type EnumError = ErrorObject<\"enum\", {allowedValues: any[]}, any[] | {$data: string}>\n\nconst error: KeywordErrorDefinition = {\n  message: \"must be equal to one of the allowed values\",\n  params: ({schemaCode}) => _`{allowedValues: ${schemaCode}}`,\n}\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"enum\",\n  schemaType: \"array\",\n  $data: true,\n  error,\n  code(cxt: KeywordCxt) {\n    const {gen, data, $data, schema, schemaCode, it} = cxt\n    if (!$data && schema.length === 0) throw new Error(\"enum must have non-empty array\")\n    const useLoop = schema.length >= it.opts.loopEnum\n    let eql: Name | undefined\n    const getEql = (): Name => (eql ??= useFunc(gen, equal))\n\n    let valid: Code\n    if (useLoop || $data) {\n      valid = gen.let(\"valid\")\n      cxt.block$data(valid, loopEnum)\n    } else {\n      /* istanbul ignore if */\n      if (!Array.isArray(schema)) throw new Error(\"ajv implementation error\")\n      const vSchema = gen.const(\"vSchema\", schemaCode)\n      valid = or(...schema.map((_x: unknown, i: number) => equalCode(vSchema, i)))\n    }\n    cxt.pass(valid)\n\n    function loopEnum(): void {\n      gen.assign(valid, false)\n      gen.forOf(\"v\", schemaCode as Code, (v) =>\n        gen.if(_`${getEql()}(${data}, ${v})`, () => gen.assign(valid, true).break())\n      )\n    }\n\n    function equalCode(vSchema: Name, i: number): Code {\n      const sch = schema[i]\n      return typeof sch === \"object\" && sch !== null\n        ? _`${getEql()}(${data}, ${vSchema}[${i}])`\n        : _`${data} === ${sch}`\n    }\n  },\n}\n\nexport default def\n", "import type {ErrorObject, Vocabulary} from \"../../types\"\nimport limitNumber, {LimitNumberError} from \"./limitNumber\"\nimport multipleOf, {MultipleOfError} from \"./multipleOf\"\nimport limitLength from \"./limitLength\"\nimport pattern, {PatternError} from \"./pattern\"\nimport limitProperties from \"./limitProperties\"\nimport required, {RequiredError} from \"./required\"\nimport limitItems from \"./limitItems\"\nimport uniqueItems, {UniqueItemsError} from \"./uniqueItems\"\nimport constKeyword, {ConstError} from \"./const\"\nimport enumKeyword, {EnumError} from \"./enum\"\n\nconst validation: Vocabulary = [\n  // number\n  limitNumber,\n  multipleOf,\n  // string\n  limitLength,\n  pattern,\n  // object\n  limitProperties,\n  required,\n  // array\n  limitItems,\n  uniqueItems,\n  // any\n  {keyword: \"type\", schemaType: [\"string\", \"array\"]},\n  {keyword: \"nullable\", schemaType: \"boolean\"},\n  constKeyword,\n  enumKeyword,\n]\n\nexport default validation\n\ntype LimitError = ErrorObject<\n  \"maxItems\" | \"minItems\" | \"minProperties\" | \"maxProperties\" | \"minLength\" | \"maxLength\",\n  {limit: number},\n  number | {$data: string}\n>\n\nexport type ValidationKeywordError =\n  | LimitError\n  | LimitNumberError\n  | MultipleOfError\n  | PatternError\n  | RequiredError\n  | UniqueItemsError\n  | ConstError\n  | EnumError\n", "import type {\n  CodeKeywordDefinition,\n  ErrorObject,\n  KeywordErrorDefinition,\n  AnySchema,\n} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {_, str, not, Name} from \"../../compile/codegen\"\nimport {alwaysValidSchema, checkStrictMode, Type} from \"../../compile/util\"\n\nexport type AdditionalItemsError = ErrorObject<\"additionalItems\", {limit: number}, AnySchema>\n\nconst error: KeywordErrorDefinition = {\n  message: ({params: {len}}) => str`must NOT have more than ${len} items`,\n  params: ({params: {len}}) => _`{limit: ${len}}`,\n}\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"additionalItems\" as const,\n  type: \"array\",\n  schemaType: [\"boolean\", \"object\"],\n  before: \"uniqueItems\",\n  error,\n  code(cxt: KeywordCxt) {\n    const {parentSchema, it} = cxt\n    const {items} = parentSchema\n    if (!Array.isArray(items)) {\n      checkStrictMode(it, '\"additionalItems\" is ignored when \"items\" is not an array of schemas')\n      return\n    }\n    validateAdditionalItems(cxt, items)\n  },\n}\n\nexport function validateAdditionalItems(cxt: KeywordCxt, items: AnySchema[]): void {\n  const {gen, schema, data, keyword, it} = cxt\n  it.items = true\n  const len = gen.const(\"len\", _`${data}.length`)\n  if (schema === false) {\n    cxt.setParams({len: items.length})\n    cxt.pass(_`${len} <= ${items.length}`)\n  } else if (typeof schema == \"object\" && !alwaysValidSchema(it, schema)) {\n    const valid = gen.var(\"valid\", _`${len} <= ${items.length}`) // TODO var\n    gen.if(not(valid), () => validateItems(valid))\n    cxt.ok(valid)\n  }\n\n  function validateItems(valid: Name): void {\n    gen.forRange(\"i\", items.length, len, (i) => {\n      cxt.subschema({keyword, dataProp: i, dataPropType: Type.Num}, valid)\n      if (!it.allErrors) gen.if(not(valid), () => gen.break())\n    })\n  }\n}\n\nexport default def\n", "import type {CodeKeywordDefinition, AnySchema, AnySchemaObject} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {_} from \"../../compile/codegen\"\nimport {alwaysValidSchema, mergeEvaluated, checkStrictMode} from \"../../compile/util\"\nimport {validateArray} from \"../code\"\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"items\",\n  type: \"array\",\n  schemaType: [\"object\", \"array\", \"boolean\"],\n  before: \"uniqueItems\",\n  code(cxt: KeywordCxt) {\n    const {schema, it} = cxt\n    if (Array.isArray(schema)) return validateTuple(cxt, \"additionalItems\", schema)\n    it.items = true\n    if (alwaysValidSchema(it, schema)) return\n    cxt.ok(validateArray(cxt))\n  },\n}\n\nexport function validateTuple(\n  cxt: KeywordCxt,\n  extraItems: string,\n  schArr: AnySchema[] = cxt.schema\n): void {\n  const {gen, parentSchema, data, keyword, it} = cxt\n  checkStrictTuple(parentSchema)\n  if (it.opts.unevaluated && schArr.length && it.items !== true) {\n    it.items = mergeEvaluated.items(gen, schArr.length, it.items)\n  }\n  const valid = gen.name(\"valid\")\n  const len = gen.const(\"len\", _`${data}.length`)\n  schArr.forEach((sch: AnySchema, i: number) => {\n    if (alwaysValidSchema(it, sch)) return\n    gen.if(_`${len} > ${i}`, () =>\n      cxt.subschema(\n        {\n          keyword,\n          schemaProp: i,\n          dataProp: i,\n        },\n        valid\n      )\n    )\n    cxt.ok(valid)\n  })\n\n  function checkStrictTuple(sch: AnySchemaObject): void {\n    const {opts, errSchemaPath} = it\n    const l = schArr.length\n    const fullTuple = l === sch.minItems && (l === sch.maxItems || sch[extraItems] === false)\n    if (opts.strictTuples && !fullTuple) {\n      const msg = `\"${keyword}\" is ${l}-tuple, but minItems or maxItems/${extraItems} are not specified or different at path \"${errSchemaPath}\"`\n      checkStrictMode(it, msg, opts.strictTuples)\n    }\n  }\n}\n\nexport default def\n", "import type {CodeKeywordDefinition} from \"../../types\"\nimport {validateTuple} from \"./items\"\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"prefixItems\",\n  type: \"array\",\n  schemaType: [\"array\"],\n  before: \"uniqueItems\",\n  code: (cxt) => validateTuple(cxt, \"items\"),\n}\n\nexport default def\n", "import type {\n  CodeKeywordDefinition,\n  KeywordErrorDefinition,\n  ErrorObject,\n  AnySchema,\n} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {_, str} from \"../../compile/codegen\"\nimport {alwaysValidSchema} from \"../../compile/util\"\nimport {validateArray} from \"../code\"\nimport {validateAdditionalItems} from \"./additionalItems\"\n\nexport type ItemsError = ErrorObject<\"items\", {limit: number}, AnySchema>\n\nconst error: KeywordErrorDefinition = {\n  message: ({params: {len}}) => str`must NOT have more than ${len} items`,\n  params: ({params: {len}}) => _`{limit: ${len}}`,\n}\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"items\",\n  type: \"array\",\n  schemaType: [\"object\", \"boolean\"],\n  before: \"uniqueItems\",\n  error,\n  code(cxt: KeywordCxt) {\n    const {schema, parentSchema, it} = cxt\n    const {prefixItems} = parentSchema\n    it.items = true\n    if (alwaysValidSchema(it, schema)) return\n    if (prefixItems) validateAdditionalItems(cxt, prefixItems)\n    else cxt.ok(validateArray(cxt))\n  },\n}\n\nexport default def\n", "import type {\n  CodeKeywordDefinition,\n  KeywordErrorDefinition,\n  ErrorObject,\n  AnySchema,\n} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {_, str, Name} from \"../../compile/codegen\"\nimport {alwaysValidSchema, checkStrictMode, Type} from \"../../compile/util\"\n\nexport type ContainsError = ErrorObject<\n  \"contains\",\n  {minContains: number; maxContains?: number},\n  AnySchema\n>\n\nconst error: KeywordErrorDefinition = {\n  message: ({params: {min, max}}) =>\n    max === undefined\n      ? str`must contain at least ${min} valid item(s)`\n      : str`must contain at least ${min} and no more than ${max} valid item(s)`,\n  params: ({params: {min, max}}) =>\n    max === undefined ? _`{minContains: ${min}}` : _`{minContains: ${min}, maxContains: ${max}}`,\n}\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"contains\",\n  type: \"array\",\n  schemaType: [\"object\", \"boolean\"],\n  before: \"uniqueItems\",\n  trackErrors: true,\n  error,\n  code(cxt: KeywordCxt) {\n    const {gen, schema, parentSchema, data, it} = cxt\n    let min: number\n    let max: number | undefined\n    const {minContains, maxContains} = parentSchema\n    if (it.opts.next) {\n      min = minContains === undefined ? 1 : minContains\n      max = maxContains\n    } else {\n      min = 1\n    }\n    const len = gen.const(\"len\", _`${data}.length`)\n    cxt.setParams({min, max})\n    if (max === undefined && min === 0) {\n      checkStrictMode(it, `\"minContains\" == 0 without \"maxContains\": \"contains\" keyword ignored`)\n      return\n    }\n    if (max !== undefined && min > max) {\n      checkStrictMode(it, `\"minContains\" > \"maxContains\" is always invalid`)\n      cxt.fail()\n      return\n    }\n    if (alwaysValidSchema(it, schema)) {\n      let cond = _`${len} >= ${min}`\n      if (max !== undefined) cond = _`${cond} && ${len} <= ${max}`\n      cxt.pass(cond)\n      return\n    }\n\n    it.items = true\n    const valid = gen.name(\"valid\")\n    if (max === undefined && min === 1) {\n      validateItems(valid, () => gen.if(valid, () => gen.break()))\n    } else if (min === 0) {\n      gen.let(valid, true)\n      if (max !== undefined) gen.if(_`${data}.length > 0`, validateItemsWithCount)\n    } else {\n      gen.let(valid, false)\n      validateItemsWithCount()\n    }\n    cxt.result(valid, () => cxt.reset())\n\n    function validateItemsWithCount(): void {\n      const schValid = gen.name(\"_valid\")\n      const count = gen.let(\"count\", 0)\n      validateItems(schValid, () => gen.if(schValid, () => checkLimits(count)))\n    }\n\n    function validateItems(_valid: Name, block: () => void): void {\n      gen.forRange(\"i\", 0, len, (i) => {\n        cxt.subschema(\n          {\n            keyword: \"contains\",\n            dataProp: i,\n            dataPropType: Type.Num,\n            compositeRule: true,\n          },\n          _valid\n        )\n        block()\n      })\n    }\n\n    function checkLimits(count: Name): void {\n      gen.code(_`${count}++`)\n      if (max === undefined) {\n        gen.if(_`${count} >= ${min}`, () => gen.assign(valid, true).break())\n      } else {\n        gen.if(_`${count} > ${max}`, () => gen.assign(valid, false).break())\n        if (min === 1) gen.assign(valid, true)\n        else gen.if(_`${count} >= ${min}`, () => gen.assign(valid, true))\n      }\n    }\n  },\n}\n\nexport default def\n", "import type {\n  CodeKeywordDefinition,\n  ErrorObject,\n  KeywordErrorDefinition,\n  SchemaMap,\n  AnySchema,\n} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {_, str} from \"../../compile/codegen\"\nimport {alwaysValidSchema} from \"../../compile/util\"\nimport {checkReportMissingProp, checkMissingProp, reportMissingProp, propertyInData} from \"../code\"\n\nexport type PropertyDependencies = {[K in string]?: string[]}\n\nexport interface DependenciesErrorParams {\n  property: string\n  missingProperty: string\n  depsCount: number\n  deps: string // TODO change to string[]\n}\n\ntype SchemaDependencies = SchemaMap\n\nexport type DependenciesError = ErrorObject<\n  \"dependencies\",\n  DependenciesErrorParams,\n  {[K in string]?: string[] | AnySchema}\n>\n\nexport const error: KeywordErrorDefinition = {\n  message: ({params: {property, depsCount, deps}}) => {\n    const property_ies = depsCount === 1 ? \"property\" : \"properties\"\n    return str`must have ${property_ies} ${deps} when property ${property} is present`\n  },\n  params: ({params: {property, depsCount, deps, missingProperty}}) =>\n    _`{property: ${property},\n    missingProperty: ${missingProperty},\n    depsCount: ${depsCount},\n    deps: ${deps}}`, // TODO change to reference\n}\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"dependencies\",\n  type: \"object\",\n  schemaType: \"object\",\n  error,\n  code(cxt: KeywordCxt) {\n    const [propDeps, schDeps] = splitDependencies(cxt)\n    validatePropertyDeps(cxt, propDeps)\n    validateSchemaDeps(cxt, schDeps)\n  },\n}\n\nfunction splitDependencies({schema}: KeywordCxt): [PropertyDependencies, SchemaDependencies] {\n  const propertyDeps: PropertyDependencies = {}\n  const schemaDeps: SchemaDependencies = {}\n  for (const key in schema) {\n    if (key === \"__proto__\") continue\n    const deps = Array.isArray(schema[key]) ? propertyDeps : schemaDeps\n    deps[key] = schema[key]\n  }\n  return [propertyDeps, schemaDeps]\n}\n\nexport function validatePropertyDeps(\n  cxt: KeywordCxt,\n  propertyDeps: {[K in string]?: string[]} = cxt.schema\n): void {\n  const {gen, data, it} = cxt\n  if (Object.keys(propertyDeps).length === 0) return\n  const missing = gen.let(\"missing\")\n  for (const prop in propertyDeps) {\n    const deps = propertyDeps[prop] as string[]\n    if (deps.length === 0) continue\n    const hasProperty = propertyInData(gen, data, prop, it.opts.ownProperties)\n    cxt.setParams({\n      property: prop,\n      depsCount: deps.length,\n      deps: deps.join(\", \"),\n    })\n    if (it.allErrors) {\n      gen.if(hasProperty, () => {\n        for (const depProp of deps) {\n          checkReportMissingProp(cxt, depProp)\n        }\n      })\n    } else {\n      gen.if(_`${hasProperty} && (${checkMissingProp(cxt, deps, missing)})`)\n      reportMissingProp(cxt, missing)\n      gen.else()\n    }\n  }\n}\n\nexport function validateSchemaDeps(cxt: KeywordCxt, schemaDeps: SchemaMap = cxt.schema): void {\n  const {gen, data, keyword, it} = cxt\n  const valid = gen.name(\"valid\")\n  for (const prop in schemaDeps) {\n    if (alwaysValidSchema(it, schemaDeps[prop] as AnySchema)) continue\n    gen.if(\n      propertyInData(gen, data, prop, it.opts.ownProperties),\n      () => {\n        const schCxt = cxt.subschema({keyword, schemaProp: prop}, valid)\n        cxt.mergeValidEvaluated(schCxt, valid)\n      },\n      () => gen.var(valid, true) // TODO var\n    )\n    cxt.ok(valid)\n  }\n}\n\nexport default def\n", "import type {\n  CodeKeywordDefinition,\n  ErrorObject,\n  KeywordErrorDefinition,\n  AnySchema,\n} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {_, not} from \"../../compile/codegen\"\nimport {alwaysValidSchema} from \"../../compile/util\"\n\nexport type PropertyNamesError = ErrorObject<\"propertyNames\", {propertyName: string}, AnySchema>\n\nconst error: KeywordErrorDefinition = {\n  message: \"property name must be valid\",\n  params: ({params}) => _`{propertyName: ${params.propertyName}}`,\n}\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"propertyNames\",\n  type: \"object\",\n  schemaType: [\"object\", \"boolean\"],\n  error,\n  code(cxt: KeywordCxt) {\n    const {gen, schema, data, it} = cxt\n    if (alwaysValidSchema(it, schema)) return\n    const valid = gen.name(\"valid\")\n\n    gen.forIn(\"key\", data, (key) => {\n      cxt.setParams({propertyName: key})\n      cxt.subschema(\n        {\n          keyword: \"propertyNames\",\n          data: key,\n          dataTypes: [\"string\"],\n          propertyName: key,\n          compositeRule: true,\n        },\n        valid\n      )\n      gen.if(not(valid), () => {\n        cxt.error(true)\n        if (!it.allErrors) gen.break()\n      })\n    })\n\n    cxt.ok(valid)\n  },\n}\n\nexport default def\n", "import type {\n  CodeKeywordDefinition,\n  AddedKeywordDefinition,\n  ErrorObject,\n  KeywordErrorDefinition,\n  AnySchema,\n} from \"../../types\"\nimport {allSchemaProperties, usePattern, isOwnProperty} from \"../code\"\nimport {_, nil, or, not, Code, Name} from \"../../compile/codegen\"\nimport N from \"../../compile/names\"\nimport type {SubschemaArgs} from \"../../compile/validate/subschema\"\nimport {alwaysValidSchema, schemaRefOrVal, Type} from \"../../compile/util\"\n\nexport type AdditionalPropertiesError = ErrorObject<\n  \"additionalProperties\",\n  {additionalProperty: string},\n  AnySchema\n>\n\nconst error: KeywordErrorDefinition = {\n  message: \"must NOT have additional properties\",\n  params: ({params}) => _`{additionalProperty: ${params.additionalProperty}}`,\n}\n\nconst def: CodeKeywordDefinition & AddedKeywordDefinition = {\n  keyword: \"additionalProperties\",\n  type: [\"object\"],\n  schemaType: [\"boolean\", \"object\"],\n  allowUndefined: true,\n  trackErrors: true,\n  error,\n  code(cxt) {\n    const {gen, schema, parentSchema, data, errsCount, it} = cxt\n    /* istanbul ignore if */\n    if (!errsCount) throw new Error(\"ajv implementation error\")\n    const {allErrors, opts} = it\n    it.props = true\n    if (opts.removeAdditional !== \"all\" && alwaysValidSchema(it, schema)) return\n    const props = allSchemaProperties(parentSchema.properties)\n    const patProps = allSchemaProperties(parentSchema.patternProperties)\n    checkAdditionalProperties()\n    cxt.ok(_`${errsCount} === ${N.errors}`)\n\n    function checkAdditionalProperties(): void {\n      gen.forIn(\"key\", data, (key: Name) => {\n        if (!props.length && !patProps.length) additionalPropertyCode(key)\n        else gen.if(isAdditional(key), () => additionalPropertyCode(key))\n      })\n    }\n\n    function isAdditional(key: Name): Code {\n      let definedProp: Code\n      if (props.length > 8) {\n        // TODO maybe an option instead of hard-coded 8?\n        const propsSchema = schemaRefOrVal(it, parentSchema.properties, \"properties\")\n        definedProp = isOwnProperty(gen, propsSchema as Code, key)\n      } else if (props.length) {\n        definedProp = or(...props.map((p) => _`${key} === ${p}`))\n      } else {\n        definedProp = nil\n      }\n      if (patProps.length) {\n        definedProp = or(definedProp, ...patProps.map((p) => _`${usePattern(cxt, p)}.test(${key})`))\n      }\n      return not(definedProp)\n    }\n\n    function deleteAdditional(key: Name): void {\n      gen.code(_`delete ${data}[${key}]`)\n    }\n\n    function additionalPropertyCode(key: Name): void {\n      if (opts.removeAdditional === \"all\" || (opts.removeAdditional && schema === false)) {\n        deleteAdditional(key)\n        return\n      }\n\n      if (schema === false) {\n        cxt.setParams({additionalProperty: key})\n        cxt.error()\n        if (!allErrors) gen.break()\n        return\n      }\n\n      if (typeof schema == \"object\" && !alwaysValidSchema(it, schema)) {\n        const valid = gen.name(\"valid\")\n        if (opts.removeAdditional === \"failing\") {\n          applyAdditionalSchema(key, valid, false)\n          gen.if(not(valid), () => {\n            cxt.reset()\n            deleteAdditional(key)\n          })\n        } else {\n          applyAdditionalSchema(key, valid)\n          if (!allErrors) gen.if(not(valid), () => gen.break())\n        }\n      }\n    }\n\n    function applyAdditionalSchema(key: Name, valid: Name, errors?: false): void {\n      const subschema: SubschemaArgs = {\n        keyword: \"additionalProperties\",\n        dataProp: key,\n        dataPropType: Type.Str,\n      }\n      if (errors === false) {\n        Object.assign(subschema, {\n          compositeRule: true,\n          createErrors: false,\n          allErrors: false,\n        })\n      }\n      cxt.subschema(subschema, valid)\n    }\n  },\n}\n\nexport default def\n", "import type {CodeKeywordDefinition} from \"../../types\"\nimport {KeywordCxt} from \"../../compile/validate\"\nimport {propertyInData, allSchemaProperties} from \"../code\"\nimport {alwaysValidSchema, toHash, mergeEvaluated} from \"../../compile/util\"\nimport apDef from \"./additionalProperties\"\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"properties\",\n  type: \"object\",\n  schemaType: \"object\",\n  code(cxt: KeywordCxt) {\n    const {gen, schema, parentSchema, data, it} = cxt\n    if (it.opts.removeAdditional === \"all\" && parentSchema.additionalProperties === undefined) {\n      apDef.code(new KeywordCxt(it, apDef, \"additionalProperties\"))\n    }\n    const allProps = allSchemaProperties(schema)\n    for (const prop of allProps) {\n      it.definedProperties.add(prop)\n    }\n    if (it.opts.unevaluated && allProps.length && it.props !== true) {\n      it.props = mergeEvaluated.props(gen, toHash(allProps), it.props)\n    }\n    const properties = allProps.filter((p) => !alwaysValidSchema(it, schema[p]))\n    if (properties.length === 0) return\n    const valid = gen.name(\"valid\")\n\n    for (const prop of properties) {\n      if (hasDefault(prop)) {\n        applyPropertySchema(prop)\n      } else {\n        gen.if(propertyInData(gen, data, prop, it.opts.ownProperties))\n        applyPropertySchema(prop)\n        if (!it.allErrors) gen.else().var(valid, true)\n        gen.endIf()\n      }\n      cxt.it.definedProperties.add(prop)\n      cxt.ok(valid)\n    }\n\n    function hasDefault(prop: string): boolean | undefined {\n      return it.opts.useDefaults && !it.compositeRule && schema[prop].default !== undefined\n    }\n\n    function applyPropertySchema(prop: string): void {\n      cxt.subschema(\n        {\n          keyword: \"properties\",\n          schemaProp: prop,\n          dataProp: prop,\n        },\n        valid\n      )\n    }\n  },\n}\n\nexport default def\n", "import type {CodeKeywordDefinition} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {allSchemaProperties, usePattern} from \"../code\"\nimport {_, not, Name} from \"../../compile/codegen\"\nimport {alwaysValidSchema, checkStrictMode} from \"../../compile/util\"\nimport {evaluatedPropsToName, Type} from \"../../compile/util\"\nimport {AnySchema} from \"../../types\"\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"patternProperties\",\n  type: \"object\",\n  schemaType: \"object\",\n  code(cxt: KeywordCxt) {\n    const {gen, schema, data, parentSchema, it} = cxt\n    const {opts} = it\n    const patterns = allSchemaProperties(schema)\n    const alwaysValidPatterns = patterns.filter((p) =>\n      alwaysValidSchema(it, schema[p] as AnySchema)\n    )\n\n    if (\n      patterns.length === 0 ||\n      (alwaysValidPatterns.length === patterns.length &&\n        (!it.opts.unevaluated || it.props === true))\n    ) {\n      return\n    }\n\n    const checkProperties =\n      opts.strictSchema && !opts.allowMatchingProperties && parentSchema.properties\n    const valid = gen.name(\"valid\")\n    if (it.props !== true && !(it.props instanceof Name)) {\n      it.props = evaluatedPropsToName(gen, it.props)\n    }\n    const {props} = it\n    validatePatternProperties()\n\n    function validatePatternProperties(): void {\n      for (const pat of patterns) {\n        if (checkProperties) checkMatchingProperties(pat)\n        if (it.allErrors) {\n          validateProperties(pat)\n        } else {\n          gen.var(valid, true) // TODO var\n          validateProperties(pat)\n          gen.if(valid)\n        }\n      }\n    }\n\n    function checkMatchingProperties(pat: string): void {\n      for (const prop in checkProperties) {\n        if (new RegExp(pat).test(prop)) {\n          checkStrictMode(\n            it,\n            `property ${prop} matches pattern ${pat} (use allowMatchingProperties)`\n          )\n        }\n      }\n    }\n\n    function validateProperties(pat: string): void {\n      gen.forIn(\"key\", data, (key) => {\n        gen.if(_`${usePattern(cxt, pat)}.test(${key})`, () => {\n          const alwaysValid = alwaysValidPatterns.includes(pat)\n          if (!alwaysValid) {\n            cxt.subschema(\n              {\n                keyword: \"patternProperties\",\n                schemaProp: pat,\n                dataProp: key,\n                dataPropType: Type.Str,\n              },\n              valid\n            )\n          }\n\n          if (it.opts.unevaluated && props !== true) {\n            gen.assign(_`${props}[${key}]`, true)\n          } else if (!alwaysValid && !it.allErrors) {\n            // can short-circuit if `unevaluatedProperties` is not supported (opts.next === false)\n            // or if all properties were evaluated (props === true)\n            gen.if(not(valid), () => gen.break())\n          }\n        })\n      })\n    }\n  },\n}\n\nexport default def\n", "import type {CodeKeywordDefinition, ErrorNoParams, AnySchema} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {alwaysValidSchema} from \"../../compile/util\"\n\nexport type NotKeywordError = ErrorNoParams<\"not\", AnySchema>\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"not\",\n  schemaType: [\"object\", \"boolean\"],\n  trackErrors: true,\n  code(cxt: KeywordCxt) {\n    const {gen, schema, it} = cxt\n    if (alwaysValidSchema(it, schema)) {\n      cxt.fail()\n      return\n    }\n\n    const valid = gen.name(\"valid\")\n    cxt.subschema(\n      {\n        keyword: \"not\",\n        compositeRule: true,\n        createErrors: false,\n        allErrors: false,\n      },\n      valid\n    )\n\n    cxt.failResult(\n      valid,\n      () => cxt.reset(),\n      () => cxt.error()\n    )\n  },\n  error: {message: \"must NOT be valid\"},\n}\n\nexport default def\n", "import type {CodeKeywordDefinition, ErrorNoParams, AnySchema} from \"../../types\"\nimport {validateUnion} from \"../code\"\n\nexport type AnyOfError = ErrorNoParams<\"anyOf\", AnySchema[]>\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"anyOf\",\n  schemaType: \"array\",\n  trackErrors: true,\n  code: validateUnion,\n  error: {message: \"must match a schema in anyOf\"},\n}\n\nexport default def\n", "import type {\n  CodeKeywordDefinition,\n  ErrorObject,\n  KeywordErrorDefinition,\n  AnySchema,\n} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {_, Name} from \"../../compile/codegen\"\nimport {alwaysValidSchema} from \"../../compile/util\"\nimport {SchemaCxt} from \"../../compile\"\n\nexport type OneOfError = ErrorObject<\n  \"oneOf\",\n  {passingSchemas: [number, number] | null},\n  AnySchema[]\n>\n\nconst error: KeywordErrorDefinition = {\n  message: \"must match exactly one schema in oneOf\",\n  params: ({params}) => _`{passingSchemas: ${params.passing}}`,\n}\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"oneOf\",\n  schemaType: \"array\",\n  trackErrors: true,\n  error,\n  code(cxt: KeywordCxt) {\n    const {gen, schema, parentSchema, it} = cxt\n    /* istanbul ignore if */\n    if (!Array.isArray(schema)) throw new Error(\"ajv implementation error\")\n    if (it.opts.discriminator && parentSchema.discriminator) return\n    const schArr: AnySchema[] = schema\n    const valid = gen.let(\"valid\", false)\n    const passing = gen.let(\"passing\", null)\n    const schValid = gen.name(\"_valid\")\n    cxt.setParams({passing})\n    // TODO possibly fail straight away (with warning or exception) if there are two empty always valid schemas\n\n    gen.block(validateOneOf)\n\n    cxt.result(\n      valid,\n      () => cxt.reset(),\n      () => cxt.error(true)\n    )\n\n    function validateOneOf(): void {\n      schArr.forEach((sch: AnySchema, i: number) => {\n        let schCxt: SchemaCxt | undefined\n        if (alwaysValidSchema(it, sch)) {\n          gen.var(schValid, true)\n        } else {\n          schCxt = cxt.subschema(\n            {\n              keyword: \"oneOf\",\n              schemaProp: i,\n              compositeRule: true,\n            },\n            schValid\n          )\n        }\n\n        if (i > 0) {\n          gen\n            .if(_`${schValid} && ${valid}`)\n            .assign(valid, false)\n            .assign(passing, _`[${passing}, ${i}]`)\n            .else()\n        }\n\n        gen.if(schValid, () => {\n          gen.assign(valid, true)\n          gen.assign(passing, i)\n          if (schCxt) cxt.mergeEvaluated(schCxt, Name)\n        })\n      })\n    }\n  },\n}\n\nexport default def\n", "import type {CodeKeywordDefinition, AnySchema} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {alwaysValidSchema} from \"../../compile/util\"\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"allOf\",\n  schemaType: \"array\",\n  code(cxt: KeywordCxt) {\n    const {gen, schema, it} = cxt\n    /* istanbul ignore if */\n    if (!Array.isArray(schema)) throw new Error(\"ajv implementation error\")\n    const valid = gen.name(\"valid\")\n    schema.forEach((sch: AnySchema, i: number) => {\n      if (alwaysValidSchema(it, sch)) return\n      const schCxt = cxt.subschema({keyword: \"allOf\", schemaProp: i}, valid)\n      cxt.ok(valid)\n      cxt.mergeEvaluated(schCxt)\n    })\n  },\n}\n\nexport default def\n", "import type {\n  CodeKeywordDefinition,\n  ErrorObject,\n  KeywordErrorDefinition,\n  AnySchema,\n} from \"../../types\"\nimport type {SchemaObjCxt} from \"../../compile\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {_, str, not, Name} from \"../../compile/codegen\"\nimport {alwaysValidSchema, checkStrictMode} from \"../../compile/util\"\n\nexport type IfKeywordError = ErrorObject<\"if\", {failingKeyword: string}, AnySchema>\n\nconst error: KeywordErrorDefinition = {\n  message: ({params}) => str`must match \"${params.ifClause}\" schema`,\n  params: ({params}) => _`{failingKeyword: ${params.ifClause}}`,\n}\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"if\",\n  schemaType: [\"object\", \"boolean\"],\n  trackErrors: true,\n  error,\n  code(cxt: KeywordCxt) {\n    const {gen, parentSchema, it} = cxt\n    if (parentSchema.then === undefined && parentSchema.else === undefined) {\n      checkStrictMode(it, '\"if\" without \"then\" and \"else\" is ignored')\n    }\n    const hasThen = hasSchema(it, \"then\")\n    const hasElse = hasSchema(it, \"else\")\n    if (!hasThen && !hasElse) return\n\n    const valid = gen.let(\"valid\", true)\n    const schValid = gen.name(\"_valid\")\n    validateIf()\n    cxt.reset()\n\n    if (hasThen && hasElse) {\n      const ifClause = gen.let(\"ifClause\")\n      cxt.setParams({ifClause})\n      gen.if(schValid, validateClause(\"then\", ifClause), validateClause(\"else\", ifClause))\n    } else if (hasThen) {\n      gen.if(schValid, validateClause(\"then\"))\n    } else {\n      gen.if(not(schValid), validateClause(\"else\"))\n    }\n\n    cxt.pass(valid, () => cxt.error(true))\n\n    function validateIf(): void {\n      const schCxt = cxt.subschema(\n        {\n          keyword: \"if\",\n          compositeRule: true,\n          createErrors: false,\n          allErrors: false,\n        },\n        schValid\n      )\n      cxt.mergeEvaluated(schCxt)\n    }\n\n    function validateClause(keyword: string, ifClause?: Name): () => void {\n      return () => {\n        const schCxt = cxt.subschema({keyword}, schValid)\n        gen.assign(valid, schValid)\n        cxt.mergeValidEvaluated(schCxt, valid)\n        if (ifClause) gen.assign(ifClause, _`${keyword}`)\n        else cxt.setParams({ifClause: keyword})\n      }\n    }\n  },\n}\n\nfunction hasSchema(it: SchemaObjCxt, keyword: string): boolean {\n  const schema = it.schema[keyword]\n  return schema !== undefined && !alwaysValidSchema(it, schema)\n}\n\nexport default def\n", "import type {CodeKeywordDefinition} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {checkStrictMode} from \"../../compile/util\"\n\nconst def: CodeKeywordDefinition = {\n  keyword: [\"then\", \"else\"],\n  schemaType: [\"object\", \"boolean\"],\n  code({keyword, parentSchema, it}: KeywordCxt) {\n    if (parentSchema.if === undefined) checkStrictMode(it, `\"${keyword}\" without \"if\" is ignored`)\n  },\n}\n\nexport default def\n", "import type {ErrorNoParams, Vocabulary} from \"../../types\"\nimport additionalItems, {AdditionalItemsError} from \"./additionalItems\"\nimport prefixItems from \"./prefixItems\"\nimport items from \"./items\"\nimport items2020, {ItemsError} from \"./items2020\"\nimport contains, {ContainsError} from \"./contains\"\nimport dependencies, {DependenciesError} from \"./dependencies\"\nimport propertyNames, {PropertyNamesError} from \"./propertyNames\"\nimport additionalProperties, {AdditionalPropertiesError} from \"./additionalProperties\"\nimport properties from \"./properties\"\nimport patternProperties from \"./patternProperties\"\nimport notKeyword, {NotKeywordError} from \"./not\"\nimport anyOf, {AnyOfError} from \"./anyOf\"\nimport oneOf, {OneOfError} from \"./oneOf\"\nimport allOf from \"./allOf\"\nimport ifKeyword, {IfKeywordError} from \"./if\"\nimport thenElse from \"./thenElse\"\n\nexport default function getApplicator(draft2020 = false): Vocabulary {\n  const applicator = [\n    // any\n    notKeyword,\n    anyOf,\n    oneOf,\n    allOf,\n    ifKeyword,\n    thenElse,\n    // object\n    propertyNames,\n    additionalProperties,\n    dependencies,\n    properties,\n    patternProperties,\n  ]\n  // array\n  if (draft2020) applicator.push(prefixItems, items2020)\n  else applicator.push(additionalItems, items)\n  applicator.push(contains)\n  return applicator\n}\n\nexport type ApplicatorKeywordError =\n  | ErrorNoParams<\"false schema\">\n  | AdditionalItemsError\n  | ItemsError\n  | ContainsError\n  | AdditionalPropertiesError\n  | DependenciesError\n  | IfKeywordError\n  | AnyOfError\n  | OneOfError\n  | NotKeywordError\n  | PropertyNamesError\n", "import type {\n  AddedFormat,\n  FormatValidator,\n  AsyncFormatValidator,\n  CodeKeywordDefinition,\n  KeywordErrorDefinition,\n  ErrorObject,\n} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {_, str, nil, or, Code, getProperty, regexpCode} from \"../../compile/codegen\"\n\ntype FormatValidate =\n  | FormatValidator<string>\n  | FormatValidator<number>\n  | AsyncFormatValidator<string>\n  | AsyncFormatValidator<number>\n  | RegExp\n  | string\n  | true\n\nexport type FormatError = ErrorObject<\"format\", {format: string}, string | {$data: string}>\n\nconst error: KeywordErrorDefinition = {\n  message: ({schemaCode}) => str`must match format \"${schemaCode}\"`,\n  params: ({schemaCode}) => _`{format: ${schemaCode}}`,\n}\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"format\",\n  type: [\"number\", \"string\"],\n  schemaType: \"string\",\n  $data: true,\n  error,\n  code(cxt: KeywordCxt, ruleType?: string) {\n    const {gen, data, $data, schema, schemaCode, it} = cxt\n    const {opts, errSchemaPath, schemaEnv, self} = it\n    if (!opts.validateFormats) return\n\n    if ($data) validate$DataFormat()\n    else validateFormat()\n\n    function validate$DataFormat(): void {\n      const fmts = gen.scopeValue(\"formats\", {\n        ref: self.formats,\n        code: opts.code.formats,\n      })\n      const fDef = gen.const(\"fDef\", _`${fmts}[${schemaCode}]`)\n      const fType = gen.let(\"fType\")\n      const format = gen.let(\"format\")\n      // TODO simplify\n      gen.if(\n        _`typeof ${fDef} == \"object\" && !(${fDef} instanceof RegExp)`,\n        () => gen.assign(fType, _`${fDef}.type || \"string\"`).assign(format, _`${fDef}.validate`),\n        () => gen.assign(fType, _`\"string\"`).assign(format, fDef)\n      )\n      cxt.fail$data(or(unknownFmt(), invalidFmt()))\n\n      function unknownFmt(): Code {\n        if (opts.strictSchema === false) return nil\n        return _`${schemaCode} && !${format}`\n      }\n\n      function invalidFmt(): Code {\n        const callFormat = schemaEnv.$async\n          ? _`(${fDef}.async ? await ${format}(${data}) : ${format}(${data}))`\n          : _`${format}(${data})`\n        const validData = _`(typeof ${format} == \"function\" ? ${callFormat} : ${format}.test(${data}))`\n        return _`${format} && ${format} !== true && ${fType} === ${ruleType} && !${validData}`\n      }\n    }\n\n    function validateFormat(): void {\n      const formatDef: AddedFormat | undefined = self.formats[schema]\n      if (!formatDef) {\n        unknownFormat()\n        return\n      }\n      if (formatDef === true) return\n      const [fmtType, format, fmtRef] = getFormat(formatDef)\n      if (fmtType === ruleType) cxt.pass(validCondition())\n\n      function unknownFormat(): void {\n        if (opts.strictSchema === false) {\n          self.logger.warn(unknownMsg())\n          return\n        }\n        throw new Error(unknownMsg())\n\n        function unknownMsg(): string {\n          return `unknown format \"${schema as string}\" ignored in schema at path \"${errSchemaPath}\"`\n        }\n      }\n\n      function getFormat(fmtDef: AddedFormat): [string, FormatValidate, Code] {\n        const code =\n          fmtDef instanceof RegExp\n            ? regexpCode(fmtDef)\n            : opts.code.formats\n            ? _`${opts.code.formats}${getProperty(schema)}`\n            : undefined\n        const fmt = gen.scopeValue(\"formats\", {key: schema, ref: fmtDef, code})\n        if (typeof fmtDef == \"object\" && !(fmtDef instanceof RegExp)) {\n          return [fmtDef.type || \"string\", fmtDef.validate, _`${fmt}.validate`]\n        }\n\n        return [\"string\", fmtDef, fmt]\n      }\n\n      function validCondition(): Code {\n        if (typeof formatDef == \"object\" && !(formatDef instanceof RegExp) && formatDef.async) {\n          if (!schemaEnv.$async) throw new Error(\"async format in sync schema\")\n          return _`await ${fmtRef}(${data})`\n        }\n        return typeof format == \"function\" ? _`${fmtRef}(${data})` : _`${fmtRef}.test(${data})`\n      }\n    }\n  },\n}\n\nexport default def\n", "import type {Vocabulary} from \"../../types\"\nimport formatKeyword from \"./format\"\n\nconst format: Vocabulary = [formatKeyword]\n\nexport default format\n", "import type {Vocabulary} from \"../types\"\n\nexport const metadataVocabulary: Vocabulary = [\n  \"title\",\n  \"description\",\n  \"default\",\n  \"deprecated\",\n  \"readOnly\",\n  \"writeOnly\",\n  \"examples\",\n]\n\nexport const contentVocabulary: Vocabulary = [\n  \"contentMediaType\",\n  \"contentEncoding\",\n  \"contentSchema\",\n]\n", "import type {Vocabulary} from \"../types\"\nimport coreVocabulary from \"./core\"\nimport validationVocabulary from \"./validation\"\nimport getApplicatorVocabulary from \"./applicator\"\nimport formatVocabulary from \"./format\"\nimport {metadataVocabulary, contentVocabulary} from \"./metadata\"\n\nconst draft7Vocabularies: Vocabulary[] = [\n  coreVocabulary,\n  validationVocabulary,\n  getApplicatorVocabulary(),\n  formatVocabulary,\n  metadataVocabulary,\n  contentVocabulary,\n]\n\nexport default draft7Vocabularies\n", "import type {ErrorObject} from \"../../types\"\n\nexport enum DiscrError {\n  Tag = \"tag\",\n  Mapping = \"mapping\",\n}\n\nexport type DiscrErrorObj<E extends DiscrError> = ErrorObject<\n  \"discriminator\",\n  {error: E; tag: string; tagValue: unknown},\n  string\n>\n", "import type {CodeKeywordDefinition, AnySchemaObject, KeywordErrorDefinition} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {_, getProperty, Name} from \"../../compile/codegen\"\nimport {DiscrError, DiscrErrorObj} from \"../discriminator/types\"\nimport {resolveRef, SchemaEnv} from \"../../compile\"\nimport MissingRefError from \"../../compile/ref_error\"\nimport {schemaHasRulesButRef} from \"../../compile/util\"\n\nexport type DiscriminatorError = DiscrErrorObj<DiscrError.Tag> | DiscrErrorObj<DiscrError.Mapping>\n\nconst error: KeywordErrorDefinition = {\n  message: ({params: {discrError, tagName}}) =>\n    discrError === DiscrError.Tag\n      ? `tag \"${tagName}\" must be string`\n      : `value of tag \"${tagName}\" must be in oneOf`,\n  params: ({params: {discrError, tag, tagName}}) =>\n    _`{error: ${discrError}, tag: ${tagName}, tagValue: ${tag}}`,\n}\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"discriminator\",\n  type: \"object\",\n  schemaType: \"object\",\n  error,\n  code(cxt: KeywordCxt) {\n    const {gen, data, schema, parentSchema, it} = cxt\n    const {oneOf} = parentSchema\n    if (!it.opts.discriminator) {\n      throw new Error(\"discriminator: requires discriminator option\")\n    }\n    const tagName = schema.propertyName\n    if (typeof tagName != \"string\") throw new Error(\"discriminator: requires propertyName\")\n    if (schema.mapping) throw new Error(\"discriminator: mapping is not supported\")\n    if (!oneOf) throw new Error(\"discriminator: requires oneOf keyword\")\n    const valid = gen.let(\"valid\", false)\n    const tag = gen.const(\"tag\", _`${data}${getProperty(tagName)}`)\n    gen.if(\n      _`typeof ${tag} == \"string\"`,\n      () => validateMapping(),\n      () => cxt.error(false, {discrError: DiscrError.Tag, tag, tagName})\n    )\n    cxt.ok(valid)\n\n    function validateMapping(): void {\n      const mapping = getMapping()\n      gen.if(false)\n      for (const tagValue in mapping) {\n        gen.elseIf(_`${tag} === ${tagValue}`)\n        gen.assign(valid, applyTagSchema(mapping[tagValue]))\n      }\n      gen.else()\n      cxt.error(false, {discrError: DiscrError.Mapping, tag, tagName})\n      gen.endIf()\n    }\n\n    function applyTagSchema(schemaProp?: number): Name {\n      const _valid = gen.name(\"valid\")\n      const schCxt = cxt.subschema({keyword: \"oneOf\", schemaProp}, _valid)\n      cxt.mergeEvaluated(schCxt, Name)\n      return _valid\n    }\n\n    function getMapping(): {[T in string]?: number} {\n      const oneOfMapping: {[T in string]?: number} = {}\n      const topRequired = hasRequired(parentSchema)\n      let tagRequired = true\n      for (let i = 0; i < oneOf.length; i++) {\n        let sch = oneOf[i]\n        if (sch?.$ref && !schemaHasRulesButRef(sch, it.self.RULES)) {\n          const ref = sch.$ref\n          sch = resolveRef.call(it.self, it.schemaEnv.root, it.baseId, ref)\n          if (sch instanceof SchemaEnv) sch = sch.schema\n          if (sch === undefined) throw new MissingRefError(it.opts.uriResolver, it.baseId, ref)\n        }\n        const propSch = sch?.properties?.[tagName]\n        if (typeof propSch != \"object\") {\n          throw new Error(\n            `discriminator: oneOf subschemas (or referenced schemas) must have \"properties/${tagName}\"`\n          )\n        }\n        tagRequired = tagRequired && (topRequired || hasRequired(sch))\n        addMappings(propSch, i)\n      }\n      if (!tagRequired) throw new Error(`discriminator: \"${tagName}\" must be required`)\n      return oneOfMapping\n\n      function hasRequired({required}: AnySchemaObject): boolean {\n        return Array.isArray(required) && required.includes(tagName)\n      }\n\n      function addMappings(sch: AnySchemaObject, i: number): void {\n        if (sch.const) {\n          addMapping(sch.const, i)\n        } else if (sch.enum) {\n          for (const tagValue of sch.enum) {\n            addMapping(tagValue, i)\n          }\n        } else {\n          throw new Error(`discriminator: \"properties/${tagName}\" must have \"const\" or \"enum\"`)\n        }\n      }\n\n      function addMapping(tagValue: unknown, i: number): void {\n        if (typeof tagValue != \"string\" || tagValue in oneOfMapping) {\n          throw new Error(`discriminator: \"${tagName}\" values must be unique strings`)\n        }\n        oneOfMapping[tagValue] = i\n      }\n    }\n  },\n}\n\nexport default def\n", "{\n  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n  \"$id\": \"http://json-schema.org/draft-07/schema#\",\n  \"title\": \"Core schema meta-schema\",\n  \"definitions\": {\n    \"schemaArray\": {\n      \"type\": \"array\",\n      \"minItems\": 1,\n      \"items\": {\"$ref\": \"#\"}\n    },\n    \"nonNegativeInteger\": {\n      \"type\": \"integer\",\n      \"minimum\": 0\n    },\n    \"nonNegativeIntegerDefault0\": {\n      \"allOf\": [{\"$ref\": \"#/definitions/nonNegativeInteger\"}, {\"default\": 0}]\n    },\n    \"simpleTypes\": {\n      \"enum\": [\"array\", \"boolean\", \"integer\", \"null\", \"number\", \"object\", \"string\"]\n    },\n    \"stringArray\": {\n      \"type\": \"array\",\n      \"items\": {\"type\": \"string\"},\n      \"uniqueItems\": true,\n      \"default\": []\n    }\n  },\n  \"type\": [\"object\", \"boolean\"],\n  \"properties\": {\n    \"$id\": {\n      \"type\": \"string\",\n      \"format\": \"uri-reference\"\n    },\n    \"$schema\": {\n      \"type\": \"string\",\n      \"format\": \"uri\"\n    },\n    \"$ref\": {\n      \"type\": \"string\",\n      \"format\": \"uri-reference\"\n    },\n    \"$comment\": {\n      \"type\": \"string\"\n    },\n    \"title\": {\n      \"type\": \"string\"\n    },\n    \"description\": {\n      \"type\": \"string\"\n    },\n    \"default\": true,\n    \"readOnly\": {\n      \"type\": \"boolean\",\n      \"default\": false\n    },\n    \"examples\": {\n      \"type\": \"array\",\n      \"items\": true\n    },\n    \"multipleOf\": {\n      \"type\": \"number\",\n      \"exclusiveMinimum\": 0\n    },\n    \"maximum\": {\n      \"type\": \"number\"\n    },\n    \"exclusiveMaximum\": {\n      \"type\": \"number\"\n    },\n    \"minimum\": {\n      \"type\": \"number\"\n    },\n    \"exclusiveMinimum\": {\n      \"type\": \"number\"\n    },\n    \"maxLength\": {\"$ref\": \"#/definitions/nonNegativeInteger\"},\n    \"minLength\": {\"$ref\": \"#/definitions/nonNegativeIntegerDefault0\"},\n    \"pattern\": {\n      \"type\": \"string\",\n      \"format\": \"regex\"\n    },\n    \"additionalItems\": {\"$ref\": \"#\"},\n    \"items\": {\n      \"anyOf\": [{\"$ref\": \"#\"}, {\"$ref\": \"#/definitions/schemaArray\"}],\n      \"default\": true\n    },\n    \"maxItems\": {\"$ref\": \"#/definitions/nonNegativeInteger\"},\n    \"minItems\": {\"$ref\": \"#/definitions/nonNegativeIntegerDefault0\"},\n    \"uniqueItems\": {\n      \"type\": \"boolean\",\n      \"default\": false\n    },\n    \"contains\": {\"$ref\": \"#\"},\n    \"maxProperties\": {\"$ref\": \"#/definitions/nonNegativeInteger\"},\n    \"minProperties\": {\"$ref\": \"#/definitions/nonNegativeIntegerDefault0\"},\n    \"required\": {\"$ref\": \"#/definitions/stringArray\"},\n    \"additionalProperties\": {\"$ref\": \"#\"},\n    \"definitions\": {\n      \"type\": \"object\",\n      \"additionalProperties\": {\"$ref\": \"#\"},\n      \"default\": {}\n    },\n    \"properties\": {\n      \"type\": \"object\",\n      \"additionalProperties\": {\"$ref\": \"#\"},\n      \"default\": {}\n    },\n    \"patternProperties\": {\n      \"type\": \"object\",\n      \"additionalProperties\": {\"$ref\": \"#\"},\n      \"propertyNames\": {\"format\": \"regex\"},\n      \"default\": {}\n    },\n    \"dependencies\": {\n      \"type\": \"object\",\n      \"additionalProperties\": {\n        \"anyOf\": [{\"$ref\": \"#\"}, {\"$ref\": \"#/definitions/stringArray\"}]\n      }\n    },\n    \"propertyNames\": {\"$ref\": \"#\"},\n    \"const\": true,\n    \"enum\": {\n      \"type\": \"array\",\n      \"items\": true,\n      \"minItems\": 1,\n      \"uniqueItems\": true\n    },\n    \"type\": {\n      \"anyOf\": [\n        {\"$ref\": \"#/definitions/simpleTypes\"},\n        {\n          \"type\": \"array\",\n          \"items\": {\"$ref\": \"#/definitions/simpleTypes\"},\n          \"minItems\": 1,\n          \"uniqueItems\": true\n        }\n      ]\n    },\n    \"format\": {\"type\": \"string\"},\n    \"contentMediaType\": {\"type\": \"string\"},\n    \"contentEncoding\": {\"type\": \"string\"},\n    \"if\": {\"$ref\": \"#\"},\n    \"then\": {\"$ref\": \"#\"},\n    \"else\": {\"$ref\": \"#\"},\n    \"allOf\": {\"$ref\": \"#/definitions/schemaArray\"},\n    \"anyOf\": {\"$ref\": \"#/definitions/schemaArray\"},\n    \"oneOf\": {\"$ref\": \"#/definitions/schemaArray\"},\n    \"not\": {\"$ref\": \"#\"}\n  },\n  \"default\": true\n}\n", "import type {AnySchemaObject} from \"./types\"\nimport AjvCore from \"./core\"\nimport draft7Vocabularies from \"./vocabularies/draft7\"\nimport discriminator from \"./vocabularies/discriminator\"\nimport * as draft7MetaSchema from \"./refs/json-schema-draft-07.json\"\n\nconst META_SUPPORT_DATA = [\"/properties\"]\n\nconst META_SCHEMA_ID = \"http://json-schema.org/draft-07/schema\"\n\nexport class Ajv extends AjvCore {\n  _addVocabularies(): void {\n    super._addVocabularies()\n    draft7Vocabularies.forEach((v) => this.addVocabulary(v))\n    if (this.opts.discriminator) this.addKeyword(discriminator)\n  }\n\n  _addDefaultMetaSchema(): void {\n    super._addDefaultMetaSchema()\n    if (!this.opts.meta) return\n    const metaSchema = this.opts.$data\n      ? this.$dataMetaSchema(draft7MetaSchema, META_SUPPORT_DATA)\n      : draft7MetaSchema\n    this.addMetaSchema(metaSchema, META_SCHEMA_ID, false)\n    this.refs[\"http://json-schema.org/schema\"] = META_SCHEMA_ID\n  }\n\n  defaultMeta(): string | AnySchemaObject | undefined {\n    return (this.opts.defaultMeta =\n      super.defaultMeta() || (this.getSchema(META_SCHEMA_ID) ? META_SCHEMA_ID : undefined))\n  }\n}\n\nmodule.exports = exports = Ajv\nmodule.exports.Ajv = Ajv\nObject.defineProperty(exports, \"__esModule\", {value: true})\n\nexport default Ajv\n\nexport {\n  Format,\n  FormatDefinition,\n  AsyncFormatDefinition,\n  KeywordDefinition,\n  KeywordErrorDefinition,\n  CodeKeywordDefinition,\n  MacroKeywordDefinition,\n  FuncKeywordDefinition,\n  Vocabulary,\n  Schema,\n  SchemaObject,\n  AnySchemaObject,\n  AsyncSchema,\n  AnySchema,\n  ValidateFunction,\n  AsyncValidateFunction,\n  SchemaValidateFunction,\n  ErrorObject,\n  ErrorNoParams,\n} from \"./types\"\n\nexport {Plugin, Options, CodeOptions, InstanceOptions, Logger, ErrorsTextOptions} from \"./core\"\nexport {SchemaCxt, SchemaObjCxt} from \"./compile\"\nexport {KeywordCxt} from \"./compile/validate\"\nexport {DefinedError} from \"./vocabularies/errors\"\nexport {JSONType} from \"./compile/rules\"\nexport {JSONSchemaType} from \"./types/json-schema\"\nexport {_, str, stringify, nil, Name, Code, CodeGen, CodeGenOptions} from \"./compile/codegen\"\nexport {default as ValidationError} from \"./runtime/validation_error\"\nexport {default as MissingRefError} from \"./compile/ref_error\"\n", "import type {Format, FormatDefinition} from \"ajv\"\nimport type {FormatValidator, FormatCompare} from \"ajv/dist/types\"\n\nexport type FormatMode = \"fast\" | \"full\"\n\nexport type FormatName =\n  | \"date\"\n  | \"time\"\n  | \"date-time\"\n  | \"duration\"\n  | \"uri\"\n  | \"uri-reference\"\n  | \"uri-template\"\n  | \"url\"\n  | \"email\"\n  | \"hostname\"\n  | \"ipv4\"\n  | \"ipv6\"\n  | \"regex\"\n  | \"uuid\"\n  | \"json-pointer\"\n  | \"json-pointer-uri-fragment\"\n  | \"relative-json-pointer\"\n  | \"byte\"\n  | \"int32\"\n  | \"int64\"\n  | \"float\"\n  | \"double\"\n  | \"password\"\n  | \"binary\"\n\nexport type DefinedFormats = {\n  [key in FormatName]: Format\n}\n\nfunction fmtDef(\n  validate: RegExp | FormatValidator<string>,\n  compare: FormatCompare<string>\n): FormatDefinition<string> {\n  return {validate, compare}\n}\n\nexport const fullFormats: DefinedFormats = {\n  // date: http://tools.ietf.org/html/rfc3339#section-5.6\n  date: fmtDef(date, compareDate),\n  // date-time: http://tools.ietf.org/html/rfc3339#section-5.6\n  time: fmtDef(time, compareTime),\n  \"date-time\": fmtDef(date_time, compareDateTime),\n  // duration: https://tools.ietf.org/html/rfc3339#appendix-A\n  duration: /^P(?!$)((\\d+Y)?(\\d+M)?(\\d+D)?(T(?=\\d)(\\d+H)?(\\d+M)?(\\d+S)?)?|(\\d+W)?)$/,\n  uri,\n  \"uri-reference\":\n    /^(?:[a-z][a-z0-9+\\-.]*:)?(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'\"()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\\?(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,\n  // uri-template: https://tools.ietf.org/html/rfc6570\n  \"uri-template\":\n    /^(?:(?:[^\\x00-\\x20\"'<>%\\\\^`{|}]|%[0-9a-f]{2})|\\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?)*\\})*$/i,\n  // For the source: https://gist.github.com/dperini/729294\n  // For test cases: https://mathiasbynens.be/demo/url-regex\n  url: /^(?:https?|ftp):\\/\\/(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u{00a1}-\\u{ffff}]+-)*[a-z0-9\\u{00a1}-\\u{ffff}]+)(?:\\.(?:[a-z0-9\\u{00a1}-\\u{ffff}]+-)*[a-z0-9\\u{00a1}-\\u{ffff}]+)*(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}]{2,})))(?::\\d{2,5})?(?:\\/[^\\s]*)?$/iu,\n  email:\n    /^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,\n  hostname:\n    /^(?=.{1,253}\\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\\.?$/i,\n  // optimized https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9780596802837/ch07s16.html\n  ipv4: /^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,\n  ipv6: /^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))$/i,\n  regex,\n  // uuid: http://tools.ietf.org/html/rfc4122\n  uuid: /^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,\n  // JSON-pointer: https://tools.ietf.org/html/rfc6901\n  // uri fragment: https://tools.ietf.org/html/rfc3986#appendix-A\n  \"json-pointer\": /^(?:\\/(?:[^~/]|~0|~1)*)*$/,\n  \"json-pointer-uri-fragment\": /^#(?:\\/(?:[a-z0-9_\\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,\n  // relative JSON-pointer: http://tools.ietf.org/html/draft-luff-relative-json-pointer-00\n  \"relative-json-pointer\": /^(?:0|[1-9][0-9]*)(?:#|(?:\\/(?:[^~/]|~0|~1)*)*)$/,\n  // the following formats are used by the openapi specification: https://spec.openapis.org/oas/v3.0.0#data-types\n  // byte: https://github.com/miguelmota/is-base64\n  byte,\n  // signed 32 bit integer\n  int32: {type: \"number\", validate: validateInt32},\n  // signed 64 bit integer\n  int64: {type: \"number\", validate: validateInt64},\n  // C-type float\n  float: {type: \"number\", validate: validateNumber},\n  // C-type double\n  double: {type: \"number\", validate: validateNumber},\n  // hint to the UI to hide input strings\n  password: true,\n  // unchecked string payload\n  binary: true,\n}\n\nexport const fastFormats: DefinedFormats = {\n  ...fullFormats,\n  date: fmtDef(/^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d$/, compareDate),\n  time: fmtDef(\n    /^(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)?$/i,\n    compareTime\n  ),\n  \"date-time\": fmtDef(\n    /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d[t\\s](?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)$/i,\n    compareDateTime\n  ),\n  // uri: https://github.com/mafintosh/is-my-json-valid/blob/master/formats.js\n  uri: /^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/)?[^\\s]*$/i,\n  \"uri-reference\": /^(?:(?:[a-z][a-z0-9+\\-.]*:)?\\/?\\/)?(?:[^\\\\\\s#][^\\s#]*)?(?:#[^\\\\\\s]*)?$/i,\n  // email (sources from jsen validator):\n  // http://stackoverflow.com/questions/201323/using-a-regular-expression-to-validate-an-email-address#answer-8829363\n  // http://www.w3.org/TR/html5/forms.html#valid-e-mail-address (search for 'wilful violation')\n  email:\n    /^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,\n}\n\nexport const formatNames = Object.keys(fullFormats) as FormatName[]\n\nfunction isLeapYear(year: number): boolean {\n  // https://tools.ietf.org/html/rfc3339#appendix-C\n  return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0)\n}\n\nconst DATE = /^(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)$/\nconst DAYS = [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]\n\nfunction date(str: string): boolean {\n  // full-date from http://tools.ietf.org/html/rfc3339#section-5.6\n  const matches: string[] | null = DATE.exec(str)\n  if (!matches) return false\n  const year: number = +matches[1]\n  const month: number = +matches[2]\n  const day: number = +matches[3]\n  return (\n    month >= 1 &&\n    month <= 12 &&\n    day >= 1 &&\n    day <= (month === 2 && isLeapYear(year) ? 29 : DAYS[month])\n  )\n}\n\nfunction compareDate(d1: string, d2: string): number | undefined {\n  if (!(d1 && d2)) return undefined\n  if (d1 > d2) return 1\n  if (d1 < d2) return -1\n  return 0\n}\n\nconst TIME = /^(\\d\\d):(\\d\\d):(\\d\\d)(\\.\\d+)?(z|[+-]\\d\\d(?::?\\d\\d)?)?$/i\n\nfunction time(str: string, withTimeZone?: boolean): boolean {\n  const matches: string[] | null = TIME.exec(str)\n  if (!matches) return false\n\n  const hour: number = +matches[1]\n  const minute: number = +matches[2]\n  const second: number = +matches[3]\n  const timeZone: string = matches[5]\n  return (\n    ((hour <= 23 && minute <= 59 && second <= 59) ||\n      (hour === 23 && minute === 59 && second === 60)) &&\n    (!withTimeZone || timeZone !== \"\")\n  )\n}\n\nfunction compareTime(t1: string, t2: string): number | undefined {\n  if (!(t1 && t2)) return undefined\n  const a1 = TIME.exec(t1)\n  const a2 = TIME.exec(t2)\n  if (!(a1 && a2)) return undefined\n  t1 = a1[1] + a1[2] + a1[3] + (a1[4] || \"\")\n  t2 = a2[1] + a2[2] + a2[3] + (a2[4] || \"\")\n  if (t1 > t2) return 1\n  if (t1 < t2) return -1\n  return 0\n}\n\nconst DATE_TIME_SEPARATOR = /t|\\s/i\nfunction date_time(str: string): boolean {\n  // http://tools.ietf.org/html/rfc3339#section-5.6\n  const dateTime: string[] = str.split(DATE_TIME_SEPARATOR)\n  return dateTime.length === 2 && date(dateTime[0]) && time(dateTime[1], true)\n}\n\nfunction compareDateTime(dt1: string, dt2: string): number | undefined {\n  if (!(dt1 && dt2)) return undefined\n  const [d1, t1] = dt1.split(DATE_TIME_SEPARATOR)\n  const [d2, t2] = dt2.split(DATE_TIME_SEPARATOR)\n  const res = compareDate(d1, d2)\n  if (res === undefined) return undefined\n  return res || compareTime(t1, t2)\n}\n\nconst NOT_URI_FRAGMENT = /\\/|:/\nconst URI =\n  /^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\\?(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i\n\nfunction uri(str: string): boolean {\n  // http://jmrware.com/articles/2009/uri_regexp/URI_regex.html + optional protocol + required \".\"\n  return NOT_URI_FRAGMENT.test(str) && URI.test(str)\n}\n\nconst BYTE = /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm\n\nfunction byte(str: string): boolean {\n  BYTE.lastIndex = 0\n  return BYTE.test(str)\n}\n\nconst MIN_INT32 = -(2 ** 31)\nconst MAX_INT32 = 2 ** 31 - 1\n\nfunction validateInt32(value: number): boolean {\n  return Number.isInteger(value) && value <= MAX_INT32 && value >= MIN_INT32\n}\n\nfunction validateInt64(value: number): boolean {\n  // JSON and javascript max Int is 2**53, so any int that passes isInteger is valid for Int64\n  return Number.isInteger(value)\n}\n\nfunction validateNumber(): boolean {\n  return true\n}\n\nconst Z_ANCHOR = /[^\\\\]\\\\Z/\nfunction regex(str: string): boolean {\n  if (Z_ANCHOR.test(str)) return false\n  try {\n    new RegExp(str)\n    return true\n  } catch (e) {\n    return false\n  }\n}\n", "import type Ajv from \"ajv\"\nimport type {\n  Plugin,\n  CodeKeywordDefinition,\n  KeywordErrorDefinition,\n  Code,\n  Name,\n  ErrorObject,\n} from \"ajv\"\nimport type {AddedFormat} from \"ajv/dist/types\"\nimport type {Rule} from \"ajv/dist/compile/rules\"\nimport {KeywordCxt} from \"ajv\"\nimport {_, str, or, getProperty, operators} from \"ajv/dist/compile/codegen\"\n\ntype Kwd = \"formatMaximum\" | \"formatMinimum\" | \"formatExclusiveMaximum\" | \"formatExclusiveMinimum\"\n\ntype Comparison = \"<=\" | \">=\" | \"<\" | \">\"\n\nconst ops = operators\n\nconst KWDs: {[K in Kwd]: {okStr: Comparison; ok: Code; fail: Code}} = {\n  formatMaximum: {okStr: \"<=\", ok: ops.LTE, fail: ops.GT},\n  formatMinimum: {okStr: \">=\", ok: ops.GTE, fail: ops.LT},\n  formatExclusiveMaximum: {okStr: \"<\", ok: ops.LT, fail: ops.GTE},\n  formatExclusiveMinimum: {okStr: \">\", ok: ops.GT, fail: ops.LTE},\n}\n\nexport type LimitFormatError = ErrorObject<Kwd, {limit: string; comparison: Comparison}>\n\nconst error: KeywordErrorDefinition = {\n  message: ({keyword, schemaCode}) => str`should be ${KWDs[keyword as Kwd].okStr} ${schemaCode}`,\n  params: ({keyword, schemaCode}) =>\n    _`{comparison: ${KWDs[keyword as Kwd].okStr}, limit: ${schemaCode}}`,\n}\n\nexport const formatLimitDefinition: CodeKeywordDefinition = {\n  keyword: Object.keys(KWDs),\n  type: \"string\",\n  schemaType: \"string\",\n  $data: true,\n  error,\n  code(cxt) {\n    const {gen, data, schemaCode, keyword, it} = cxt\n    const {opts, self} = it\n    if (!opts.validateFormats) return\n\n    const fCxt = new KeywordCxt(it, (self.RULES.all.format as Rule).definition, \"format\")\n    if (fCxt.$data) validate$DataFormat()\n    else validateFormat()\n\n    function validate$DataFormat(): void {\n      const fmts = gen.scopeValue(\"formats\", {\n        ref: self.formats,\n        code: opts.code.formats,\n      })\n      const fmt = gen.const(\"fmt\", _`${fmts}[${fCxt.schemaCode}]`)\n      cxt.fail$data(\n        or(\n          _`typeof ${fmt} != \"object\"`,\n          _`${fmt} instanceof RegExp`,\n          _`typeof ${fmt}.compare != \"function\"`,\n          compareCode(fmt)\n        )\n      )\n    }\n\n    function validateFormat(): void {\n      const format = fCxt.schema as string\n      const fmtDef: AddedFormat | undefined = self.formats[format]\n      if (!fmtDef || fmtDef === true) return\n      if (\n        typeof fmtDef != \"object\" ||\n        fmtDef instanceof RegExp ||\n        typeof fmtDef.compare != \"function\"\n      ) {\n        throw new Error(`\"${keyword}\": format \"${format}\" does not define \"compare\" function`)\n      }\n      const fmt = gen.scopeValue(\"formats\", {\n        key: format,\n        ref: fmtDef,\n        code: opts.code.formats ? _`${opts.code.formats}${getProperty(format)}` : undefined,\n      })\n\n      cxt.fail$data(compareCode(fmt))\n    }\n\n    function compareCode(fmt: Name): Code {\n      return _`${fmt}.compare(${data}, ${schemaCode}) ${KWDs[keyword as Kwd].fail} 0`\n    }\n  },\n  dependencies: [\"format\"],\n}\n\nconst formatLimitPlugin: Plugin<undefined> = (ajv: Ajv): Ajv => {\n  ajv.addKeyword(formatLimitDefinition)\n  return ajv\n}\n\nexport default formatLimitPlugin\n", "import {\n  DefinedFormats,\n  FormatMode,\n  FormatName,\n  formatNames,\n  fastFormats,\n  fullFormats,\n} from \"./formats\"\nimport formatLimit from \"./limit\"\nimport type Ajv from \"ajv\"\nimport type {Plugin, Format} from \"ajv\"\nimport {_, Name} from \"ajv/dist/compile/codegen\"\n\nexport {FormatMode, FormatName} from \"./formats\"\nexport {LimitFormatError} from \"./limit\"\nexport interface FormatOptions {\n  mode?: FormatMode\n  formats?: FormatName[]\n  keywords?: boolean\n}\n\nexport type FormatsPluginOptions = FormatName[] | FormatOptions\n\nexport interface FormatsPlugin extends Plugin<FormatsPluginOptions> {\n  get: (format: FormatName, mode?: FormatMode) => Format\n}\n\nconst fullName = new Name(\"fullFormats\")\nconst fastName = new Name(\"fastFormats\")\n\nconst formatsPlugin: FormatsPlugin = (\n  ajv: Ajv,\n  opts: FormatsPluginOptions = {keywords: true}\n): Ajv => {\n  if (Array.isArray(opts)) {\n    addFormats(ajv, opts, fullFormats, fullName)\n    return ajv\n  }\n  const [formats, exportName] =\n    opts.mode === \"fast\" ? [fastFormats, fastName] : [fullFormats, fullName]\n  const list = opts.formats || formatNames\n  addFormats(ajv, list, formats, exportName)\n  if (opts.keywords) formatLimit(ajv)\n  return ajv\n}\n\nformatsPlugin.get = (name: FormatName, mode: FormatMode = \"full\"): Format => {\n  const formats = mode === \"fast\" ? fastFormats : fullFormats\n  const f = formats[name]\n  if (!f) throw new Error(`Unknown format \"${name}\"`)\n  return f\n}\n\nfunction addFormats(ajv: Ajv, list: FormatName[], fs: DefinedFormats, exportName: Name): void {\n  ajv.opts.code.formats ??= _`require(\"ajv-formats/dist/formats\").${exportName}`\n  for (const f of list) ajv.addFormat(f, fs[f])\n}\n\nmodule.exports = exports = formatsPlugin\nObject.defineProperty(exports, \"__esModule\", {value: true})\n\nexport default formatsPlugin\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isTLSSocket(socket) {\n    return socket.encrypted;\n}\nconst deferToConnect = (socket, fn) => {\n    let listeners;\n    if (typeof fn === 'function') {\n        const connect = fn;\n        listeners = { connect };\n    }\n    else {\n        listeners = fn;\n    }\n    const hasConnectListener = typeof listeners.connect === 'function';\n    const hasSecureConnectListener = typeof listeners.secureConnect === 'function';\n    const hasCloseListener = typeof listeners.close === 'function';\n    const onConnect = () => {\n        if (hasConnectListener) {\n            listeners.connect();\n        }\n        if (isTLSSocket(socket) && hasSecureConnectListener) {\n            if (socket.authorized) {\n                listeners.secureConnect();\n            }\n            else if (!socket.authorizationError) {\n                socket.once('secureConnect', listeners.secureConnect);\n            }\n        }\n        if (hasCloseListener) {\n            socket.once('close', listeners.close);\n        }\n    };\n    if (socket.writable && !socket.connecting) {\n        onConnect();\n    }\n    else if (socket.connecting) {\n        socket.once('connect', onConnect);\n    }\n    else if (socket.destroyed && hasCloseListener) {\n        listeners.close(socket._hadError);\n    }\n};\nexports.default = deferToConnect;\n// For CommonJS default export support\nmodule.exports = deferToConnect;\nmodule.exports.default = deferToConnect;\n", "'use strict';\n// rfc7231 6.1\nconst statusCodeCacheableByDefault = new Set([\n    200,\n    203,\n    204,\n    206,\n    300,\n    301,\n    308,\n    404,\n    405,\n    410,\n    414,\n    501,\n]);\n\n// This implementation does not understand partial responses (206)\nconst understoodStatuses = new Set([\n    200,\n    203,\n    204,\n    300,\n    301,\n    302,\n    303,\n    307,\n    308,\n    404,\n    405,\n    410,\n    414,\n    501,\n]);\n\nconst errorStatusCodes = new Set([\n    500,\n    502,\n    503, \n    504,\n]);\n\nconst hopByHopHeaders = {\n    date: true, // included, because we add Age update Date\n    connection: true,\n    'keep-alive': true,\n    'proxy-authenticate': true,\n    'proxy-authorization': true,\n    te: true,\n    trailer: true,\n    'transfer-encoding': true,\n    upgrade: true,\n};\n\nconst excludedFromRevalidationUpdate = {\n    // Since the old body is reused, it doesn't make sense to change properties of the body\n    'content-length': true,\n    'content-encoding': true,\n    'transfer-encoding': true,\n    'content-range': true,\n};\n\nfunction toNumberOrZero(s) {\n    const n = parseInt(s, 10);\n    return isFinite(n) ? n : 0;\n}\n\n// RFC 5861\nfunction isErrorResponse(response) {\n    // consider undefined response as faulty\n    if(!response) {\n        return true\n    }\n    return errorStatusCodes.has(response.status);\n}\n\nfunction parseCacheControl(header) {\n    const cc = {};\n    if (!header) return cc;\n\n    // TODO: When there is more than one value present for a given directive (e.g., two Expires header fields, multiple Cache-Control: max-age directives),\n    // the directive's value is considered invalid. Caches are encouraged to consider responses that have invalid freshness information to be stale\n    const parts = header.trim().split(/,/);\n    for (const part of parts) {\n        const [k, v] = part.split(/=/, 2);\n        cc[k.trim()] = v === undefined ? true : v.trim().replace(/^\"|\"$/g, '');\n    }\n\n    return cc;\n}\n\nfunction formatCacheControl(cc) {\n    let parts = [];\n    for (const k in cc) {\n        const v = cc[k];\n        parts.push(v === true ? k : k + '=' + v);\n    }\n    if (!parts.length) {\n        return undefined;\n    }\n    return parts.join(', ');\n}\n\nmodule.exports = class CachePolicy {\n    constructor(\n        req,\n        res,\n        {\n            shared,\n            cacheHeuristic,\n            immutableMinTimeToLive,\n            ignoreCargoCult,\n            _fromObject,\n        } = {}\n    ) {\n        if (_fromObject) {\n            this._fromObject(_fromObject);\n            return;\n        }\n\n        if (!res || !res.headers) {\n            throw Error('Response headers missing');\n        }\n        this._assertRequestHasHeaders(req);\n\n        this._responseTime = this.now();\n        this._isShared = shared !== false;\n        this._cacheHeuristic =\n            undefined !== cacheHeuristic ? cacheHeuristic : 0.1; // 10% matches IE\n        this._immutableMinTtl =\n            undefined !== immutableMinTimeToLive\n                ? immutableMinTimeToLive\n                : 24 * 3600 * 1000;\n\n        this._status = 'status' in res ? res.status : 200;\n        this._resHeaders = res.headers;\n        this._rescc = parseCacheControl(res.headers['cache-control']);\n        this._method = 'method' in req ? req.method : 'GET';\n        this._url = req.url;\n        this._host = req.headers.host;\n        this._noAuthorization = !req.headers.authorization;\n        this._reqHeaders = res.headers.vary ? req.headers : null; // Don't keep all request headers if they won't be used\n        this._reqcc = parseCacheControl(req.headers['cache-control']);\n\n        // Assume that if someone uses legacy, non-standard uncecessary options they don't understand caching,\n        // so there's no point stricly adhering to the blindly copy&pasted directives.\n        if (\n            ignoreCargoCult &&\n            'pre-check' in this._rescc &&\n            'post-check' in this._rescc\n        ) {\n            delete this._rescc['pre-check'];\n            delete this._rescc['post-check'];\n            delete this._rescc['no-cache'];\n            delete this._rescc['no-store'];\n            delete this._rescc['must-revalidate'];\n            this._resHeaders = Object.assign({}, this._resHeaders, {\n                'cache-control': formatCacheControl(this._rescc),\n            });\n            delete this._resHeaders.expires;\n            delete this._resHeaders.pragma;\n        }\n\n        // When the Cache-Control header field is not present in a request, caches MUST consider the no-cache request pragma-directive\n        // as having the same effect as if \"Cache-Control: no-cache\" were present (see Section 5.2.1).\n        if (\n            res.headers['cache-control'] == null &&\n            /no-cache/.test(res.headers.pragma)\n        ) {\n            this._rescc['no-cache'] = true;\n        }\n    }\n\n    now() {\n        return Date.now();\n    }\n\n    storable() {\n        // The \"no-store\" request directive indicates that a cache MUST NOT store any part of either this request or any response to it.\n        return !!(\n            !this._reqcc['no-store'] &&\n            // A cache MUST NOT store a response to any request, unless:\n            // The request method is understood by the cache and defined as being cacheable, and\n            ('GET' === this._method ||\n                'HEAD' === this._method ||\n                ('POST' === this._method && this._hasExplicitExpiration())) &&\n            // the response status code is understood by the cache, and\n            understoodStatuses.has(this._status) &&\n            // the \"no-store\" cache directive does not appear in request or response header fields, and\n            !this._rescc['no-store'] &&\n            // the \"private\" response directive does not appear in the response, if the cache is shared, and\n            (!this._isShared || !this._rescc.private) &&\n            // the Authorization header field does not appear in the request, if the cache is shared,\n            (!this._isShared ||\n                this._noAuthorization ||\n                this._allowsStoringAuthenticated()) &&\n            // the response either:\n            // contains an Expires header field, or\n            (this._resHeaders.expires ||\n                // contains a max-age response directive, or\n                // contains a s-maxage response directive and the cache is shared, or\n                // contains a public response directive.\n                this._rescc['max-age'] ||\n                (this._isShared && this._rescc['s-maxage']) ||\n                this._rescc.public ||\n                // has a status code that is defined as cacheable by default\n                statusCodeCacheableByDefault.has(this._status))\n        );\n    }\n\n    _hasExplicitExpiration() {\n        // 4.2.1 Calculating Freshness Lifetime\n        return (\n            (this._isShared && this._rescc['s-maxage']) ||\n            this._rescc['max-age'] ||\n            this._resHeaders.expires\n        );\n    }\n\n    _assertRequestHasHeaders(req) {\n        if (!req || !req.headers) {\n            throw Error('Request headers missing');\n        }\n    }\n\n    satisfiesWithoutRevalidation(req) {\n        this._assertRequestHasHeaders(req);\n\n        // When presented with a request, a cache MUST NOT reuse a stored response, unless:\n        // the presented request does not contain the no-cache pragma (Section 5.4), nor the no-cache cache directive,\n        // unless the stored response is successfully validated (Section 4.3), and\n        const requestCC = parseCacheControl(req.headers['cache-control']);\n        if (requestCC['no-cache'] || /no-cache/.test(req.headers.pragma)) {\n            return false;\n        }\n\n        if (requestCC['max-age'] && this.age() > requestCC['max-age']) {\n            return false;\n        }\n\n        if (\n            requestCC['min-fresh'] &&\n            this.timeToLive() < 1000 * requestCC['min-fresh']\n        ) {\n            return false;\n        }\n\n        // the stored response is either:\n        // fresh, or allowed to be served stale\n        if (this.stale()) {\n            const allowsStale =\n                requestCC['max-stale'] &&\n                !this._rescc['must-revalidate'] &&\n                (true === requestCC['max-stale'] ||\n                    requestCC['max-stale'] > this.age() - this.maxAge());\n            if (!allowsStale) {\n                return false;\n            }\n        }\n\n        return this._requestMatches(req, false);\n    }\n\n    _requestMatches(req, allowHeadMethod) {\n        // The presented effective request URI and that of the stored response match, and\n        return (\n            (!this._url || this._url === req.url) &&\n            this._host === req.headers.host &&\n            // the request method associated with the stored response allows it to be used for the presented request, and\n            (!req.method ||\n                this._method === req.method ||\n                (allowHeadMethod && 'HEAD' === req.method)) &&\n            // selecting header fields nominated by the stored response (if any) match those presented, and\n            this._varyMatches(req)\n        );\n    }\n\n    _allowsStoringAuthenticated() {\n        //  following Cache-Control response directives (Section 5.2.2) have such an effect: must-revalidate, public, and s-maxage.\n        return (\n            this._rescc['must-revalidate'] ||\n            this._rescc.public ||\n            this._rescc['s-maxage']\n        );\n    }\n\n    _varyMatches(req) {\n        if (!this._resHeaders.vary) {\n            return true;\n        }\n\n        // A Vary header field-value of \"*\" always fails to match\n        if (this._resHeaders.vary === '*') {\n            return false;\n        }\n\n        const fields = this._resHeaders.vary\n            .trim()\n            .toLowerCase()\n            .split(/\\s*,\\s*/);\n        for (const name of fields) {\n            if (req.headers[name] !== this._reqHeaders[name]) return false;\n        }\n        return true;\n    }\n\n    _copyWithoutHopByHopHeaders(inHeaders) {\n        const headers = {};\n        for (const name in inHeaders) {\n            if (hopByHopHeaders[name]) continue;\n            headers[name] = inHeaders[name];\n        }\n        // 9.1.  Connection\n        if (inHeaders.connection) {\n            const tokens = inHeaders.connection.trim().split(/\\s*,\\s*/);\n            for (const name of tokens) {\n                delete headers[name];\n            }\n        }\n        if (headers.warning) {\n            const warnings = headers.warning.split(/,/).filter(warning => {\n                return !/^\\s*1[0-9][0-9]/.test(warning);\n            });\n            if (!warnings.length) {\n                delete headers.warning;\n            } else {\n                headers.warning = warnings.join(',').trim();\n            }\n        }\n        return headers;\n    }\n\n    responseHeaders() {\n        const headers = this._copyWithoutHopByHopHeaders(this._resHeaders);\n        const age = this.age();\n\n        // A cache SHOULD generate 113 warning if it heuristically chose a freshness\n        // lifetime greater than 24 hours and the response's age is greater than 24 hours.\n        if (\n            age > 3600 * 24 &&\n            !this._hasExplicitExpiration() &&\n            this.maxAge() > 3600 * 24\n        ) {\n            headers.warning =\n                (headers.warning ? `${headers.warning}, ` : '') +\n                '113 - \"rfc7234 5.5.4\"';\n        }\n        headers.age = `${Math.round(age)}`;\n        headers.date = new Date(this.now()).toUTCString();\n        return headers;\n    }\n\n    /**\n     * Value of the Date response header or current time if Date was invalid\n     * @return timestamp\n     */\n    date() {\n        const serverDate = Date.parse(this._resHeaders.date);\n        if (isFinite(serverDate)) {\n            return serverDate;\n        }\n        return this._responseTime;\n    }\n\n    /**\n     * Value of the Age header, in seconds, updated for the current time.\n     * May be fractional.\n     *\n     * @return Number\n     */\n    age() {\n        let age = this._ageValue();\n\n        const residentTime = (this.now() - this._responseTime) / 1000;\n        return age + residentTime;\n    }\n\n    _ageValue() {\n        return toNumberOrZero(this._resHeaders.age);\n    }\n\n    /**\n     * Value of applicable max-age (or heuristic equivalent) in seconds. This counts since response's `Date`.\n     *\n     * For an up-to-date value, see `timeToLive()`.\n     *\n     * @return Number\n     */\n    maxAge() {\n        if (!this.storable() || this._rescc['no-cache']) {\n            return 0;\n        }\n\n        // Shared responses with cookies are cacheable according to the RFC, but IMHO it'd be unwise to do so by default\n        // so this implementation requires explicit opt-in via public header\n        if (\n            this._isShared &&\n            (this._resHeaders['set-cookie'] &&\n                !this._rescc.public &&\n                !this._rescc.immutable)\n        ) {\n            return 0;\n        }\n\n        if (this._resHeaders.vary === '*') {\n            return 0;\n        }\n\n        if (this._isShared) {\n            if (this._rescc['proxy-revalidate']) {\n                return 0;\n            }\n            // if a response includes the s-maxage directive, a shared cache recipient MUST ignore the Expires field.\n            if (this._rescc['s-maxage']) {\n                return toNumberOrZero(this._rescc['s-maxage']);\n            }\n        }\n\n        // If a response includes a Cache-Control field with the max-age directive, a recipient MUST ignore the Expires field.\n        if (this._rescc['max-age']) {\n            return toNumberOrZero(this._rescc['max-age']);\n        }\n\n        const defaultMinTtl = this._rescc.immutable ? this._immutableMinTtl : 0;\n\n        const serverDate = this.date();\n        if (this._resHeaders.expires) {\n            const expires = Date.parse(this._resHeaders.expires);\n            // A cache recipient MUST interpret invalid date formats, especially the value \"0\", as representing a time in the past (i.e., \"already expired\").\n            if (Number.isNaN(expires) || expires < serverDate) {\n                return 0;\n            }\n            return Math.max(defaultMinTtl, (expires - serverDate) / 1000);\n        }\n\n        if (this._resHeaders['last-modified']) {\n            const lastModified = Date.parse(this._resHeaders['last-modified']);\n            if (isFinite(lastModified) && serverDate > lastModified) {\n                return Math.max(\n                    defaultMinTtl,\n                    ((serverDate - lastModified) / 1000) * this._cacheHeuristic\n                );\n            }\n        }\n\n        return defaultMinTtl;\n    }\n\n    timeToLive() {\n        const age = this.maxAge() - this.age();\n        const staleIfErrorAge = age + toNumberOrZero(this._rescc['stale-if-error']);\n        const staleWhileRevalidateAge = age + toNumberOrZero(this._rescc['stale-while-revalidate']);\n        return Math.max(0, age, staleIfErrorAge, staleWhileRevalidateAge) * 1000;\n    }\n\n    stale() {\n        return this.maxAge() <= this.age();\n    }\n\n    _useStaleIfError() {\n        return this.maxAge() + toNumberOrZero(this._rescc['stale-if-error']) > this.age();\n    }\n\n    useStaleWhileRevalidate() {\n        return this.maxAge() + toNumberOrZero(this._rescc['stale-while-revalidate']) > this.age();\n    }\n\n    static fromObject(obj) {\n        return new this(undefined, undefined, { _fromObject: obj });\n    }\n\n    _fromObject(obj) {\n        if (this._responseTime) throw Error('Reinitialized');\n        if (!obj || obj.v !== 1) throw Error('Invalid serialization');\n\n        this._responseTime = obj.t;\n        this._isShared = obj.sh;\n        this._cacheHeuristic = obj.ch;\n        this._immutableMinTtl =\n            obj.imm !== undefined ? obj.imm : 24 * 3600 * 1000;\n        this._status = obj.st;\n        this._resHeaders = obj.resh;\n        this._rescc = obj.rescc;\n        this._method = obj.m;\n        this._url = obj.u;\n        this._host = obj.h;\n        this._noAuthorization = obj.a;\n        this._reqHeaders = obj.reqh;\n        this._reqcc = obj.reqcc;\n    }\n\n    toObject() {\n        return {\n            v: 1,\n            t: this._responseTime,\n            sh: this._isShared,\n            ch: this._cacheHeuristic,\n            imm: this._immutableMinTtl,\n            st: this._status,\n            resh: this._resHeaders,\n            rescc: this._rescc,\n            m: this._method,\n            u: this._url,\n            h: this._host,\n            a: this._noAuthorization,\n            reqh: this._reqHeaders,\n            reqcc: this._reqcc,\n        };\n    }\n\n    /**\n     * Headers for sending to the origin server to revalidate stale response.\n     * Allows server to return 304 to allow reuse of the previous response.\n     *\n     * Hop by hop headers are always stripped.\n     * Revalidation headers may be added or removed, depending on request.\n     */\n    revalidationHeaders(incomingReq) {\n        this._assertRequestHasHeaders(incomingReq);\n        const headers = this._copyWithoutHopByHopHeaders(incomingReq.headers);\n\n        // This implementation does not understand range requests\n        delete headers['if-range'];\n\n        if (!this._requestMatches(incomingReq, true) || !this.storable()) {\n            // revalidation allowed via HEAD\n            // not for the same resource, or wasn't allowed to be cached anyway\n            delete headers['if-none-match'];\n            delete headers['if-modified-since'];\n            return headers;\n        }\n\n        /* MUST send that entity-tag in any cache validation request (using If-Match or If-None-Match) if an entity-tag has been provided by the origin server. */\n        if (this._resHeaders.etag) {\n            headers['if-none-match'] = headers['if-none-match']\n                ? `${headers['if-none-match']}, ${this._resHeaders.etag}`\n                : this._resHeaders.etag;\n        }\n\n        // Clients MAY issue simple (non-subrange) GET requests with either weak validators or strong validators. Clients MUST NOT use weak validators in other forms of request.\n        const forbidsWeakValidators =\n            headers['accept-ranges'] ||\n            headers['if-match'] ||\n            headers['if-unmodified-since'] ||\n            (this._method && this._method != 'GET');\n\n        /* SHOULD send the Last-Modified value in non-subrange cache validation requests (using If-Modified-Since) if only a Last-Modified value has been provided by the origin server.\n        Note: This implementation does not understand partial responses (206) */\n        if (forbidsWeakValidators) {\n            delete headers['if-modified-since'];\n\n            if (headers['if-none-match']) {\n                const etags = headers['if-none-match']\n                    .split(/,/)\n                    .filter(etag => {\n                        return !/^\\s*W\\//.test(etag);\n                    });\n                if (!etags.length) {\n                    delete headers['if-none-match'];\n                } else {\n                    headers['if-none-match'] = etags.join(',').trim();\n                }\n            }\n        } else if (\n            this._resHeaders['last-modified'] &&\n            !headers['if-modified-since']\n        ) {\n            headers['if-modified-since'] = this._resHeaders['last-modified'];\n        }\n\n        return headers;\n    }\n\n    /**\n     * Creates new CachePolicy with information combined from the previews response,\n     * and the new revalidation response.\n     *\n     * Returns {policy, modified} where modified is a boolean indicating\n     * whether the response body has been modified, and old cached body can't be used.\n     *\n     * @return {Object} {policy: CachePolicy, modified: Boolean}\n     */\n    revalidatedPolicy(request, response) {\n        this._assertRequestHasHeaders(request);\n        if(this._useStaleIfError() && isErrorResponse(response)) {  // I consider the revalidation request unsuccessful\n          return {\n            modified: false,\n            matches: false,\n            policy: this,\n          };\n        }\n        if (!response || !response.headers) {\n            throw Error('Response headers missing');\n        }\n\n        // These aren't going to be supported exactly, since one CachePolicy object\n        // doesn't know about all the other cached objects.\n        let matches = false;\n        if (response.status !== undefined && response.status != 304) {\n            matches = false;\n        } else if (\n            response.headers.etag &&\n            !/^\\s*W\\//.test(response.headers.etag)\n        ) {\n            // \"All of the stored responses with the same strong validator are selected.\n            // If none of the stored responses contain the same strong validator,\n            // then the cache MUST NOT use the new response to update any stored responses.\"\n            matches =\n                this._resHeaders.etag &&\n                this._resHeaders.etag.replace(/^\\s*W\\//, '') ===\n                    response.headers.etag;\n        } else if (this._resHeaders.etag && response.headers.etag) {\n            // \"If the new response contains a weak validator and that validator corresponds\n            // to one of the cache's stored responses,\n            // then the most recent of those matching stored responses is selected for update.\"\n            matches =\n                this._resHeaders.etag.replace(/^\\s*W\\//, '') ===\n                response.headers.etag.replace(/^\\s*W\\//, '');\n        } else if (this._resHeaders['last-modified']) {\n            matches =\n                this._resHeaders['last-modified'] ===\n                response.headers['last-modified'];\n        } else {\n            // If the new response does not include any form of validator (such as in the case where\n            // a client generates an If-Modified-Since request from a source other than the Last-Modified\n            // response header field), and there is only one stored response, and that stored response also\n            // lacks a validator, then that stored response is selected for update.\n            if (\n                !this._resHeaders.etag &&\n                !this._resHeaders['last-modified'] &&\n                !response.headers.etag &&\n                !response.headers['last-modified']\n            ) {\n                matches = true;\n            }\n        }\n\n        if (!matches) {\n            return {\n                policy: new this.constructor(request, response),\n                // Client receiving 304 without body, even if it's invalid/mismatched has no option\n                // but to reuse a cached body. We don't have a good way to tell clients to do\n                // error recovery in such case.\n                modified: response.status != 304,\n                matches: false,\n            };\n        }\n\n        // use other header fields provided in the 304 (Not Modified) response to replace all instances\n        // of the corresponding header fields in the stored response.\n        const headers = {};\n        for (const k in this._resHeaders) {\n            headers[k] =\n                k in response.headers && !excludedFromRevalidationUpdate[k]\n                    ? response.headers[k]\n                    : this._resHeaders[k];\n        }\n\n        const newResponse = Object.assign({}, response, {\n            status: this._status,\n            method: this._method,\n            headers,\n        });\n        return {\n            policy: new this.constructor(request, newResponse, {\n                shared: this._isShared,\n                cacheHeuristic: this._cacheHeuristic,\n                immutableMinTimeToLive: this._immutableMinTtl,\n            }),\n            modified: false,\n            matches: true,\n        };\n    }\n};\n", "//TODO: handle reviver/dehydrate function like normal\n//and handle indentation, like normal.\n//if anyone needs this... please send pull request.\n\nexports.stringify = function stringify (o) {\n  if('undefined' == typeof o) return o\n\n  if(o && Buffer.isBuffer(o))\n    return JSON.stringify(':base64:' + o.toString('base64'))\n\n  if(o && o.toJSON)\n    o =  o.toJSON()\n\n  if(o && 'object' === typeof o) {\n    var s = ''\n    var array = Array.isArray(o)\n    s = array ? '[' : '{'\n    var first = true\n\n    for(var k in o) {\n      var ignore = 'function' == typeof o[k] || (!array && 'undefined' === typeof o[k])\n      if(Object.hasOwnProperty.call(o, k) && !ignore) {\n        if(!first)\n          s += ','\n        first = false\n        if (array) {\n          if(o[k] == undefined)\n            s += 'null'\n          else\n            s += stringify(o[k])\n        } else if (o[k] !== void(0)) {\n          s += stringify(k) + ':' + stringify(o[k])\n        }\n      }\n    }\n\n    s += array ? ']' : '}'\n\n    return s\n  } else if ('string' === typeof o) {\n    return JSON.stringify(/^:/.test(o) ? ':' + o : o)\n  } else if ('undefined' === typeof o) {\n    return 'null';\n  } else\n    return JSON.stringify(o)\n}\n\nexports.parse = function (s) {\n  return JSON.parse(s, function (key, value) {\n    if('string' === typeof value) {\n      if(/^:base64:/.test(value))\n        return Buffer.from(value.substring(8), 'base64')\n      else\n        return /^:/.test(value) ? value.substring(1) : value \n    }\n    return value\n  })\n}\n", "'use strict';\n\nconst EventEmitter = require('events');\nconst JSONB = require('json-buffer');\n\nconst loadStore = options => {\n\tconst adapters = {\n\t\tredis: '@keyv/redis',\n\t\trediss: '@keyv/redis',\n\t\tmongodb: '@keyv/mongo',\n\t\tmongo: '@keyv/mongo',\n\t\tsqlite: '@keyv/sqlite',\n\t\tpostgresql: '@keyv/postgres',\n\t\tpostgres: '@keyv/postgres',\n\t\tmysql: '@keyv/mysql',\n\t\tetcd: '@keyv/etcd',\n\t\toffline: '@keyv/offline',\n\t\ttiered: '@keyv/tiered',\n\t};\n\tif (options.adapter || options.uri) {\n\t\tconst adapter = options.adapter || /^[^:+]*/.exec(options.uri)[0];\n\t\treturn new (require(adapters[adapter]))(options);\n\t}\n\n\treturn new Map();\n};\n\nconst iterableAdapters = [\n\t'sqlite',\n\t'postgres',\n\t'mysql',\n\t'mongo',\n\t'redis',\n\t'tiered',\n];\n\nclass Keyv extends EventEmitter {\n\tconstructor(uri, {emitErrors = true, ...options} = {}) {\n\t\tsuper();\n\t\tthis.opts = {\n\t\t\tnamespace: 'keyv',\n\t\t\tserialize: JSONB.stringify,\n\t\t\tdeserialize: JSONB.parse,\n\t\t\t...((typeof uri === 'string') ? {uri} : uri),\n\t\t\t...options,\n\t\t};\n\n\t\tif (!this.opts.store) {\n\t\t\tconst adapterOptions = {...this.opts};\n\t\t\tthis.opts.store = loadStore(adapterOptions);\n\t\t}\n\n\t\tif (this.opts.compression) {\n\t\t\tconst compression = this.opts.compression;\n\t\t\tthis.opts.serialize = compression.serialize.bind(compression);\n\t\t\tthis.opts.deserialize = compression.deserialize.bind(compression);\n\t\t}\n\n\t\tif (typeof this.opts.store.on === 'function' && emitErrors) {\n\t\t\tthis.opts.store.on('error', error => this.emit('error', error));\n\t\t}\n\n\t\tthis.opts.store.namespace = this.opts.namespace;\n\n\t\tconst generateIterator = iterator => async function * () {\n\t\t\tfor await (const [key, raw] of typeof iterator === 'function'\n\t\t\t\t? iterator(this.opts.store.namespace)\n\t\t\t\t: iterator) {\n\t\t\t\tconst data = await this.opts.deserialize(raw);\n\t\t\t\tif (this.opts.store.namespace && !key.includes(this.opts.store.namespace)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (typeof data.expires === 'number' && Date.now() > data.expires) {\n\t\t\t\t\tthis.delete(key);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tyield [this._getKeyUnprefix(key), data.value];\n\t\t\t}\n\t\t};\n\n\t\t// Attach iterators\n\t\tif (typeof this.opts.store[Symbol.iterator] === 'function' && this.opts.store instanceof Map) {\n\t\t\tthis.iterator = generateIterator(this.opts.store);\n\t\t} else if (typeof this.opts.store.iterator === 'function' && this.opts.store.opts\n\t\t\t&& this._checkIterableAdaptar()) {\n\t\t\tthis.iterator = generateIterator(this.opts.store.iterator.bind(this.opts.store));\n\t\t}\n\t}\n\n\t_checkIterableAdaptar() {\n\t\treturn iterableAdapters.includes(this.opts.store.opts.dialect)\n\t\t\t|| iterableAdapters.findIndex(element => this.opts.store.opts.url.includes(element)) >= 0;\n\t}\n\n\t_getKeyPrefix(key) {\n\t\treturn `${this.opts.namespace}:${key}`;\n\t}\n\n\t_getKeyPrefixArray(keys) {\n\t\treturn keys.map(key => `${this.opts.namespace}:${key}`);\n\t}\n\n\t_getKeyUnprefix(key) {\n\t\treturn key\n\t\t\t.split(':')\n\t\t\t.splice(1)\n\t\t\t.join(':');\n\t}\n\n\tget(key, options) {\n\t\tconst {store} = this.opts;\n\t\tconst isArray = Array.isArray(key);\n\t\tconst keyPrefixed = isArray ? this._getKeyPrefixArray(key) : this._getKeyPrefix(key);\n\t\tif (isArray && store.getMany === undefined) {\n\t\t\tconst promises = [];\n\t\t\tfor (const key of keyPrefixed) {\n\t\t\t\tpromises.push(Promise.resolve()\n\t\t\t\t\t.then(() => store.get(key))\n\t\t\t\t\t.then(data => (typeof data === 'string') ? this.opts.deserialize(data) : (this.opts.compression ? this.opts.deserialize(data) : data))\n\t\t\t\t\t.then(data => {\n\t\t\t\t\t\tif (data === undefined || data === null) {\n\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (typeof data.expires === 'number' && Date.now() > data.expires) {\n\t\t\t\t\t\t\treturn this.delete(key).then(() => undefined);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn (options && options.raw) ? data : data.value;\n\t\t\t\t\t}),\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn Promise.allSettled(promises)\n\t\t\t\t.then(values => {\n\t\t\t\t\tconst data = [];\n\t\t\t\t\tfor (const value of values) {\n\t\t\t\t\t\tdata.push(value.value);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn data;\n\t\t\t\t});\n\t\t}\n\n\t\treturn Promise.resolve()\n\t\t\t.then(() => isArray ? store.getMany(keyPrefixed) : store.get(keyPrefixed))\n\t\t\t.then(data => (typeof data === 'string') ? this.opts.deserialize(data) : (this.opts.compression ? this.opts.deserialize(data) : data))\n\t\t\t.then(data => {\n\t\t\t\tif (data === undefined || data === null) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\n\t\t\t\tif (isArray) {\n\t\t\t\t\treturn data.map((row, index) => {\n\t\t\t\t\t\tif ((typeof row === 'string')) {\n\t\t\t\t\t\t\trow = this.opts.deserialize(row);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (row === undefined || row === null) {\n\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (typeof row.expires === 'number' && Date.now() > row.expires) {\n\t\t\t\t\t\t\tthis.delete(key[index]).then(() => undefined);\n\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn (options && options.raw) ? row : row.value;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (typeof data.expires === 'number' && Date.now() > data.expires) {\n\t\t\t\t\treturn this.delete(key).then(() => undefined);\n\t\t\t\t}\n\n\t\t\t\treturn (options && options.raw) ? data : data.value;\n\t\t\t});\n\t}\n\n\tset(key, value, ttl) {\n\t\tconst keyPrefixed = this._getKeyPrefix(key);\n\t\tif (typeof ttl === 'undefined') {\n\t\t\tttl = this.opts.ttl;\n\t\t}\n\n\t\tif (ttl === 0) {\n\t\t\tttl = undefined;\n\t\t}\n\n\t\tconst {store} = this.opts;\n\n\t\treturn Promise.resolve()\n\t\t\t.then(() => {\n\t\t\t\tconst expires = (typeof ttl === 'number') ? (Date.now() + ttl) : null;\n\t\t\t\tif (typeof value === 'symbol') {\n\t\t\t\t\tthis.emit('error', 'symbol cannot be serialized');\n\t\t\t\t}\n\n\t\t\t\tvalue = {value, expires};\n\t\t\t\treturn this.opts.serialize(value);\n\t\t\t})\n\t\t\t.then(value => store.set(keyPrefixed, value, ttl))\n\t\t\t.then(() => true);\n\t}\n\n\tdelete(key) {\n\t\tconst {store} = this.opts;\n\t\tif (Array.isArray(key)) {\n\t\t\tconst keyPrefixed = this._getKeyPrefixArray(key);\n\t\t\tif (store.deleteMany === undefined) {\n\t\t\t\tconst promises = [];\n\t\t\t\tfor (const key of keyPrefixed) {\n\t\t\t\t\tpromises.push(store.delete(key));\n\t\t\t\t}\n\n\t\t\t\treturn Promise.allSettled(promises)\n\t\t\t\t\t.then(values => values.every(x => x.value === true));\n\t\t\t}\n\n\t\t\treturn Promise.resolve()\n\t\t\t\t.then(() => store.deleteMany(keyPrefixed));\n\t\t}\n\n\t\tconst keyPrefixed = this._getKeyPrefix(key);\n\t\treturn Promise.resolve()\n\t\t\t.then(() => store.delete(keyPrefixed));\n\t}\n\n\tclear() {\n\t\tconst {store} = this.opts;\n\t\treturn Promise.resolve()\n\t\t\t.then(() => store.clear());\n\t}\n\n\thas(key) {\n\t\tconst keyPrefixed = this._getKeyPrefix(key);\n\t\tconst {store} = this.opts;\n\t\treturn Promise.resolve()\n\t\t\t.then(async () => {\n\t\t\t\tif (typeof store.has === 'function') {\n\t\t\t\t\treturn store.has(keyPrefixed);\n\t\t\t\t}\n\n\t\t\t\tconst value = await store.get(keyPrefixed);\n\t\t\t\treturn value !== undefined;\n\t\t\t});\n\t}\n\n\tdisconnect() {\n\t\tconst {store} = this.opts;\n\t\tif (typeof store.disconnect === 'function') {\n\t\t\treturn store.disconnect();\n\t\t}\n\t}\n}\n\nmodule.exports = Keyv;\n", "'use strict';\n\n// We define these manually to ensure they're always copied\n// even if they would move up the prototype chain\n// https://nodejs.org/api/http.html#http_class_http_incomingmessage\nconst knownProperties = [\n\t'aborted',\n\t'complete',\n\t'headers',\n\t'httpVersion',\n\t'httpVersionMinor',\n\t'httpVersionMajor',\n\t'method',\n\t'rawHeaders',\n\t'rawTrailers',\n\t'setTimeout',\n\t'socket',\n\t'statusCode',\n\t'statusMessage',\n\t'trailers',\n\t'url'\n];\n\nmodule.exports = (fromStream, toStream) => {\n\tif (toStream._readableState.autoDestroy) {\n\t\tthrow new Error('The second stream must have the `autoDestroy` option set to `false`');\n\t}\n\n\tconst fromProperties = new Set(Object.keys(fromStream).concat(knownProperties));\n\n\tconst properties = {};\n\n\tfor (const property of fromProperties) {\n\t\t// Don't overwrite existing properties.\n\t\tif (property in toStream) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tproperties[property] = {\n\t\t\tget() {\n\t\t\t\tconst value = fromStream[property];\n\t\t\t\tconst isFunction = typeof value === 'function';\n\n\t\t\t\treturn isFunction ? value.bind(fromStream) : value;\n\t\t\t},\n\t\t\tset(value) {\n\t\t\t\tfromStream[property] = value;\n\t\t\t},\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false\n\t\t};\n\t}\n\n\tObject.defineProperties(toStream, properties);\n\n\tfromStream.once('aborted', () => {\n\t\ttoStream.destroy();\n\n\t\ttoStream.emit('aborted');\n\t});\n\n\tfromStream.once('close', () => {\n\t\tif (fromStream.complete) {\n\t\t\tif (toStream.readable) {\n\t\t\t\ttoStream.once('end', () => {\n\t\t\t\t\ttoStream.emit('close');\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\ttoStream.emit('close');\n\t\t\t}\n\t\t} else {\n\t\t\ttoStream.emit('close');\n\t\t}\n\t});\n\n\treturn toStream;\n};\n", "'use strict';\nconst {Transform, PassThrough} = require('stream');\nconst zlib = require('zlib');\nconst mimicResponse = require('mimic-response');\n\nmodule.exports = response => {\n\tconst contentEncoding = (response.headers['content-encoding'] || '').toLowerCase();\n\n\tif (!['gzip', 'deflate', 'br'].includes(contentEncoding)) {\n\t\treturn response;\n\t}\n\n\t// TODO: Remove this when targeting Node.js 12.\n\tconst isBrotli = contentEncoding === 'br';\n\tif (isBrotli && typeof zlib.createBrotliDecompress !== 'function') {\n\t\tresponse.destroy(new Error('Brotli is not supported on Node.js < 12'));\n\t\treturn response;\n\t}\n\n\tlet isEmpty = true;\n\n\tconst checker = new Transform({\n\t\ttransform(data, _encoding, callback) {\n\t\t\tisEmpty = false;\n\n\t\t\tcallback(null, data);\n\t\t},\n\n\t\tflush(callback) {\n\t\t\tcallback();\n\t\t}\n\t});\n\n\tconst finalStream = new PassThrough({\n\t\tautoDestroy: false,\n\t\tdestroy(error, callback) {\n\t\t\tresponse.destroy();\n\n\t\t\tcallback(error);\n\t\t}\n\t});\n\n\tconst decompressStream = isBrotli ? zlib.createBrotliDecompress() : zlib.createUnzip();\n\n\tdecompressStream.once('error', error => {\n\t\tif (isEmpty && !response.readable) {\n\t\t\tfinalStream.end();\n\t\t\treturn;\n\t\t}\n\n\t\tfinalStream.destroy(error);\n\t});\n\n\tmimicResponse(response, finalStream);\n\tresponse.pipe(checker).pipe(decompressStream).pipe(finalStream);\n\n\treturn finalStream;\n};\n", "'use strict';\n\nclass QuickLRU {\n\tconstructor(options = {}) {\n\t\tif (!(options.maxSize && options.maxSize > 0)) {\n\t\t\tthrow new TypeError('`maxSize` must be a number greater than 0');\n\t\t}\n\n\t\tthis.maxSize = options.maxSize;\n\t\tthis.onEviction = options.onEviction;\n\t\tthis.cache = new Map();\n\t\tthis.oldCache = new Map();\n\t\tthis._size = 0;\n\t}\n\n\t_set(key, value) {\n\t\tthis.cache.set(key, value);\n\t\tthis._size++;\n\n\t\tif (this._size >= this.maxSize) {\n\t\t\tthis._size = 0;\n\n\t\t\tif (typeof this.onEviction === 'function') {\n\t\t\t\tfor (const [key, value] of this.oldCache.entries()) {\n\t\t\t\t\tthis.onEviction(key, value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.oldCache = this.cache;\n\t\t\tthis.cache = new Map();\n\t\t}\n\t}\n\n\tget(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\treturn this.cache.get(key);\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\tconst value = this.oldCache.get(key);\n\t\t\tthis.oldCache.delete(key);\n\t\t\tthis._set(key, value);\n\t\t\treturn value;\n\t\t}\n\t}\n\n\tset(key, value) {\n\t\tif (this.cache.has(key)) {\n\t\t\tthis.cache.set(key, value);\n\t\t} else {\n\t\t\tthis._set(key, value);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\thas(key) {\n\t\treturn this.cache.has(key) || this.oldCache.has(key);\n\t}\n\n\tpeek(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\treturn this.cache.get(key);\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\treturn this.oldCache.get(key);\n\t\t}\n\t}\n\n\tdelete(key) {\n\t\tconst deleted = this.cache.delete(key);\n\t\tif (deleted) {\n\t\t\tthis._size--;\n\t\t}\n\n\t\treturn this.oldCache.delete(key) || deleted;\n\t}\n\n\tclear() {\n\t\tthis.cache.clear();\n\t\tthis.oldCache.clear();\n\t\tthis._size = 0;\n\t}\n\n\t* keys() {\n\t\tfor (const [key] of this) {\n\t\t\tyield key;\n\t\t}\n\t}\n\n\t* values() {\n\t\tfor (const [, value] of this) {\n\t\t\tyield value;\n\t\t}\n\t}\n\n\t* [Symbol.iterator]() {\n\t\tfor (const item of this.cache) {\n\t\t\tyield item;\n\t\t}\n\n\t\tfor (const item of this.oldCache) {\n\t\t\tconst [key] = item;\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\tyield item;\n\t\t\t}\n\t\t}\n\t}\n\n\tget size() {\n\t\tlet oldCacheSize = 0;\n\t\tfor (const key of this.oldCache.keys()) {\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\toldCacheSize++;\n\t\t\t}\n\t\t}\n\n\t\treturn Math.min(this._size + oldCacheSize, this.maxSize);\n\t}\n}\n\nmodule.exports = QuickLRU;\n", "'use strict';\n\nmodule.exports = stream => {\n\tif (stream.listenerCount('error') !== 0) {\n\t\treturn stream;\n\t}\n\n\tstream.__destroy = stream._destroy;\n\tstream._destroy = (...args) => {\n\t\tconst callback = args.pop();\n\n\t\tstream.__destroy(...args, async error => {\n\t\t\tawait Promise.resolve();\n\t\t\tcallback(error);\n\t\t});\n\t};\n\n\tconst onError = error => {\n\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\tPromise.resolve().then(() => {\n\t\t\tstream.emit('error', error);\n\t\t});\n\t};\n\n\tstream.once('error', onError);\n\n\t// eslint-disable-next-line promise/prefer-await-to-then\n\tPromise.resolve().then(() => {\n\t\tstream.off('error', onError);\n\t});\n\n\treturn stream;\n};\n", "'use strict';\n// See https://github.com/facebook/jest/issues/2549\n// eslint-disable-next-line node/prefer-global/url\nconst {URL} = require('url');\nconst EventEmitter = require('events');\nconst tls = require('tls');\nconst http2 = require('http2');\nconst QuickLRU = require('quick-lru');\nconst delayAsyncDestroy = require('./utils/delay-async-destroy.js');\n\nconst kCurrentStreamCount = Symbol('currentStreamCount');\nconst kRequest = Symbol('request');\nconst kOriginSet = Symbol('cachedOriginSet');\nconst kGracefullyClosing = Symbol('gracefullyClosing');\nconst kLength = Symbol('length');\n\nconst nameKeys = [\n\t// Not an Agent option actually\n\t'createConnection',\n\n\t// `http2.connect()` options\n\t'maxDeflateDynamicTableSize',\n\t'maxSettings',\n\t'maxSessionMemory',\n\t'maxHeaderListPairs',\n\t'maxOutstandingPings',\n\t'maxReservedRemoteStreams',\n\t'maxSendHeaderBlockLength',\n\t'paddingStrategy',\n\t'peerMaxConcurrentStreams',\n\t'settings',\n\n\t// `tls.connect()` source options\n\t'family',\n\t'localAddress',\n\t'rejectUnauthorized',\n\n\t// `tls.connect()` secure context options\n\t'pskCallback',\n\t'minDHSize',\n\n\t// `tls.connect()` destination options\n\t// - `servername` is automatically validated, skip it\n\t// - `host` and `port` just describe the destination server,\n\t'path',\n\t'socket',\n\n\t// `tls.createSecureContext()` options\n\t'ca',\n\t'cert',\n\t'sigalgs',\n\t'ciphers',\n\t'clientCertEngine',\n\t'crl',\n\t'dhparam',\n\t'ecdhCurve',\n\t'honorCipherOrder',\n\t'key',\n\t'privateKeyEngine',\n\t'privateKeyIdentifier',\n\t'maxVersion',\n\t'minVersion',\n\t'pfx',\n\t'secureOptions',\n\t'secureProtocol',\n\t'sessionIdContext',\n\t'ticketKeys'\n];\n\nconst getSortedIndex = (array, value, compare) => {\n\tlet low = 0;\n\tlet high = array.length;\n\n\twhile (low < high) {\n\t\tconst mid = (low + high) >>> 1;\n\n\t\tif (compare(array[mid], value)) {\n\t\t\tlow = mid + 1;\n\t\t} else {\n\t\t\thigh = mid;\n\t\t}\n\t}\n\n\treturn low;\n};\n\nconst compareSessions = (a, b) => a.remoteSettings.maxConcurrentStreams > b.remoteSettings.maxConcurrentStreams;\n\n// See https://tools.ietf.org/html/rfc8336\nconst closeCoveredSessions = (where, session) => {\n\t// Clients SHOULD NOT emit new requests on any connection whose Origin\n\t// Set is a proper subset of another connection's Origin Set, and they\n\t// SHOULD close it once all outstanding requests are satisfied.\n\tfor (let index = 0; index < where.length; index++) {\n\t\tconst coveredSession = where[index];\n\n\t\tif (\n\t\t\t// Unfortunately `.every()` returns true for an empty array\n\t\t\tcoveredSession[kOriginSet].length > 0\n\n\t\t\t// The set is a proper subset when its length is less than the other set.\n\t\t\t&& coveredSession[kOriginSet].length < session[kOriginSet].length\n\n\t\t\t// And the other set includes all elements of the subset.\n\t\t\t&& coveredSession[kOriginSet].every(origin => session[kOriginSet].includes(origin))\n\n\t\t\t// Makes sure that the session can handle all requests from the covered session.\n\t\t\t&& (coveredSession[kCurrentStreamCount] + session[kCurrentStreamCount]) <= session.remoteSettings.maxConcurrentStreams\n\t\t) {\n\t\t\t// This allows pending requests to finish and prevents making new requests.\n\t\t\tgracefullyClose(coveredSession);\n\t\t}\n\t}\n};\n\n// This is basically inverted `closeCoveredSessions(...)`.\nconst closeSessionIfCovered = (where, coveredSession) => {\n\tfor (let index = 0; index < where.length; index++) {\n\t\tconst session = where[index];\n\n\t\tif (\n\t\t\tcoveredSession[kOriginSet].length > 0\n\t\t\t&& coveredSession[kOriginSet].length < session[kOriginSet].length\n\t\t\t&& coveredSession[kOriginSet].every(origin => session[kOriginSet].includes(origin))\n\t\t\t&& (coveredSession[kCurrentStreamCount] + session[kCurrentStreamCount]) <= session.remoteSettings.maxConcurrentStreams\n\t\t) {\n\t\t\tgracefullyClose(coveredSession);\n\n\t\t\treturn true;\n\t\t}\n\t}\n\n\treturn false;\n};\n\nconst gracefullyClose = session => {\n\tsession[kGracefullyClosing] = true;\n\n\tif (session[kCurrentStreamCount] === 0) {\n\t\tsession.close();\n\t}\n};\n\nclass Agent extends EventEmitter {\n\tconstructor({timeout = 0, maxSessions = Number.POSITIVE_INFINITY, maxEmptySessions = 10, maxCachedTlsSessions = 100} = {}) {\n\t\tsuper();\n\n\t\t// SESSIONS[NORMALIZED_OPTIONS] = [];\n\t\tthis.sessions = {};\n\n\t\t// The queue for creating new sessions. It looks like this:\n\t\t// QUEUE[NORMALIZED_OPTIONS][NORMALIZED_ORIGIN] = ENTRY_FUNCTION\n\t\t//\n\t\t// It's faster when there are many origins. If there's only one, then QUEUE[`${options}:${origin}`] is faster.\n\t\t// I guess object creation / deletion is causing the slowdown.\n\t\t//\n\t\t// The entry function has `listeners`, `completed` and `destroyed` properties.\n\t\t// `listeners` is an array of objects containing `resolve` and `reject` functions.\n\t\t// `completed` is a boolean. It's set to true after ENTRY_FUNCTION is executed.\n\t\t// `destroyed` is a boolean. If it's set to true, the session will be destroyed if hasn't connected yet.\n\t\tthis.queue = {};\n\n\t\t// Each session will use this timeout value.\n\t\tthis.timeout = timeout;\n\n\t\t// Max sessions in total\n\t\tthis.maxSessions = maxSessions;\n\n\t\t// Max empty sessions in total\n\t\tthis.maxEmptySessions = maxEmptySessions;\n\n\t\tthis._emptySessionCount = 0;\n\t\tthis._sessionCount = 0;\n\n\t\t// We don't support push streams by default.\n\t\tthis.settings = {\n\t\t\tenablePush: false,\n\t\t\tinitialWindowSize: 1024 * 1024 * 32 // 32MB, see https://github.com/nodejs/node/issues/38426\n\t\t};\n\n\t\t// Reusing TLS sessions increases performance.\n\t\tthis.tlsSessionCache = new QuickLRU({maxSize: maxCachedTlsSessions});\n\t}\n\n\tget protocol() {\n\t\treturn 'https:';\n\t}\n\n\tnormalizeOptions(options) {\n\t\tlet normalized = '';\n\n\t\tfor (let index = 0; index < nameKeys.length; index++) {\n\t\t\tconst key = nameKeys[index];\n\n\t\t\tnormalized += ':';\n\n\t\t\tif (options && options[key] !== undefined) {\n\t\t\t\tnormalized += options[key];\n\t\t\t}\n\t\t}\n\n\t\treturn normalized;\n\t}\n\n\t_processQueue() {\n\t\tif (this._sessionCount >= this.maxSessions) {\n\t\t\tthis.closeEmptySessions(this.maxSessions - this._sessionCount + 1);\n\t\t\treturn;\n\t\t}\n\n\t\t// eslint-disable-next-line guard-for-in\n\t\tfor (const normalizedOptions in this.queue) {\n\t\t\t// eslint-disable-next-line guard-for-in\n\t\t\tfor (const normalizedOrigin in this.queue[normalizedOptions]) {\n\t\t\t\tconst item = this.queue[normalizedOptions][normalizedOrigin];\n\n\t\t\t\t// The entry function can be run only once.\n\t\t\t\tif (!item.completed) {\n\t\t\t\t\titem.completed = true;\n\n\t\t\t\t\titem();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t_isBetterSession(thisStreamCount, thatStreamCount) {\n\t\treturn thisStreamCount > thatStreamCount;\n\t}\n\n\t_accept(session, listeners, normalizedOrigin, options) {\n\t\tlet index = 0;\n\n\t\twhile (index < listeners.length && session[kCurrentStreamCount] < session.remoteSettings.maxConcurrentStreams) {\n\t\t\t// We assume `resolve(...)` calls `request(...)` *directly*,\n\t\t\t// otherwise the session will get overloaded.\n\t\t\tlisteners[index].resolve(session);\n\n\t\t\tindex++;\n\t\t}\n\n\t\tlisteners.splice(0, index);\n\n\t\tif (listeners.length > 0) {\n\t\t\tthis.getSession(normalizedOrigin, options, listeners);\n\t\t\tlisteners.length = 0;\n\t\t}\n\t}\n\n\tgetSession(origin, options, listeners) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif (Array.isArray(listeners) && listeners.length > 0) {\n\t\t\t\tlisteners = [...listeners];\n\n\t\t\t\t// Resolve the current promise ASAP, we're just moving the listeners.\n\t\t\t\t// They will be executed at a different time.\n\t\t\t\tresolve();\n\t\t\t} else {\n\t\t\t\tlisteners = [{resolve, reject}];\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\t// Parse origin\n\t\t\t\tif (typeof origin === 'string') {\n\t\t\t\t\torigin = new URL(origin);\n\t\t\t\t} else if (!(origin instanceof URL)) {\n\t\t\t\t\tthrow new TypeError('The `origin` argument needs to be a string or an URL object');\n\t\t\t\t}\n\n\t\t\t\tif (options) {\n\t\t\t\t\t// Validate servername\n\t\t\t\t\tconst {servername} = options;\n\t\t\t\t\tconst {hostname} = origin;\n\t\t\t\t\tif (servername && hostname !== servername) {\n\t\t\t\t\t\tthrow new Error(`Origin ${hostname} differs from servername ${servername}`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tfor (let index = 0; index < listeners.length; index++) {\n\t\t\t\t\tlisteners[index].reject(error);\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst normalizedOptions = this.normalizeOptions(options);\n\t\t\tconst normalizedOrigin = origin.origin;\n\n\t\t\tif (normalizedOptions in this.sessions) {\n\t\t\t\tconst sessions = this.sessions[normalizedOptions];\n\n\t\t\t\tlet maxConcurrentStreams = -1;\n\t\t\t\tlet currentStreamsCount = -1;\n\t\t\t\tlet optimalSession;\n\n\t\t\t\t// We could just do this.sessions[normalizedOptions].find(...) but that isn't optimal.\n\t\t\t\t// Additionally, we are looking for session which has biggest current pending streams count.\n\t\t\t\t//\n\t\t\t\t// |------------| |------------| |------------| |------------|\n\t\t\t\t// | Session: A | | Session: B | | Session: C | | Session: D |\n\t\t\t\t// | Pending: 5 |-| Pending: 8 |-| Pending: 9 |-| Pending: 4 |\n\t\t\t\t// | Max:    10 | | Max:    10 | | Max:     9 | | Max:     5 |\n\t\t\t\t// |------------| |------------| |------------| |------------|\n\t\t\t\t//                     ^\n\t\t\t\t//                     |\n\t\t\t\t//     pick this one  --\n\t\t\t\t//\n\t\t\t\tfor (let index = 0; index < sessions.length; index++) {\n\t\t\t\t\tconst session = sessions[index];\n\n\t\t\t\t\tconst sessionMaxConcurrentStreams = session.remoteSettings.maxConcurrentStreams;\n\n\t\t\t\t\tif (sessionMaxConcurrentStreams < maxConcurrentStreams) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!session[kOriginSet].includes(normalizedOrigin)) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst sessionCurrentStreamsCount = session[kCurrentStreamCount];\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tsessionCurrentStreamsCount >= sessionMaxConcurrentStreams\n\t\t\t\t\t\t|| session[kGracefullyClosing]\n\t\t\t\t\t\t// Unfortunately the `close` event isn't called immediately,\n\t\t\t\t\t\t// so `session.destroyed` is `true`, but `session.closed` is `false`.\n\t\t\t\t\t\t|| session.destroyed\n\t\t\t\t\t) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\t// We only need set this once.\n\t\t\t\t\tif (!optimalSession) {\n\t\t\t\t\t\tmaxConcurrentStreams = sessionMaxConcurrentStreams;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Either get the session which has biggest current stream count or the lowest.\n\t\t\t\t\tif (this._isBetterSession(sessionCurrentStreamsCount, currentStreamsCount)) {\n\t\t\t\t\t\toptimalSession = session;\n\t\t\t\t\t\tcurrentStreamsCount = sessionCurrentStreamsCount;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (optimalSession) {\n\t\t\t\t\tthis._accept(optimalSession, listeners, normalizedOrigin, options);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (normalizedOptions in this.queue) {\n\t\t\t\tif (normalizedOrigin in this.queue[normalizedOptions]) {\n\t\t\t\t\t// There's already an item in the queue, just attach ourselves to it.\n\t\t\t\t\tthis.queue[normalizedOptions][normalizedOrigin].listeners.push(...listeners);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.queue[normalizedOptions] = {\n\t\t\t\t\t[kLength]: 0\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// The entry must be removed from the queue IMMEDIATELY when:\n\t\t\t// 1. the session connects successfully,\n\t\t\t// 2. an error occurs.\n\t\t\tconst removeFromQueue = () => {\n\t\t\t\t// Our entry can be replaced. We cannot remove the new one.\n\t\t\t\tif (normalizedOptions in this.queue && this.queue[normalizedOptions][normalizedOrigin] === entry) {\n\t\t\t\t\tdelete this.queue[normalizedOptions][normalizedOrigin];\n\n\t\t\t\t\tif (--this.queue[normalizedOptions][kLength] === 0) {\n\t\t\t\t\t\tdelete this.queue[normalizedOptions];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// The main logic is here\n\t\t\tconst entry = async () => {\n\t\t\t\tthis._sessionCount++;\n\n\t\t\t\tconst name = `${normalizedOrigin}:${normalizedOptions}`;\n\t\t\t\tlet receivedSettings = false;\n\t\t\t\tlet socket;\n\n\t\t\t\ttry {\n\t\t\t\t\tconst computedOptions = {...options};\n\n\t\t\t\t\tif (computedOptions.settings === undefined) {\n\t\t\t\t\t\tcomputedOptions.settings = this.settings;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (computedOptions.session === undefined) {\n\t\t\t\t\t\tcomputedOptions.session = this.tlsSessionCache.get(name);\n\t\t\t\t\t}\n\n\t\t\t\t\tconst createConnection = computedOptions.createConnection || this.createConnection;\n\n\t\t\t\t\t// A hacky workaround to enable async `createConnection`\n\t\t\t\t\tsocket = await createConnection.call(this, origin, computedOptions);\n\t\t\t\t\tcomputedOptions.createConnection = () => socket;\n\n\t\t\t\t\tconst session = http2.connect(origin, computedOptions);\n\t\t\t\t\tsession[kCurrentStreamCount] = 0;\n\t\t\t\t\tsession[kGracefullyClosing] = false;\n\n\t\t\t\t\t// Node.js return https://false:443 instead of https://1.1.1.1:443\n\t\t\t\t\tconst getOriginSet = () => {\n\t\t\t\t\t\tconst {socket} = session;\n\n\t\t\t\t\t\tlet originSet;\n\t\t\t\t\t\tif (socket.servername === false) {\n\t\t\t\t\t\t\tsocket.servername = socket.remoteAddress;\n\t\t\t\t\t\t\toriginSet = session.originSet;\n\t\t\t\t\t\t\tsocket.servername = false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\toriginSet = session.originSet;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn originSet;\n\t\t\t\t\t};\n\n\t\t\t\t\tconst isFree = () => session[kCurrentStreamCount] < session.remoteSettings.maxConcurrentStreams;\n\n\t\t\t\t\tsession.socket.once('session', tlsSession => {\n\t\t\t\t\t\tthis.tlsSessionCache.set(name, tlsSession);\n\t\t\t\t\t});\n\n\t\t\t\t\tsession.once('error', error => {\n\t\t\t\t\t\t// Listeners are empty when the session successfully connected.\n\t\t\t\t\t\tfor (let index = 0; index < listeners.length; index++) {\n\t\t\t\t\t\t\tlisteners[index].reject(error);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// The connection got broken, purge the cache.\n\t\t\t\t\t\tthis.tlsSessionCache.delete(name);\n\t\t\t\t\t});\n\n\t\t\t\t\tsession.setTimeout(this.timeout, () => {\n\t\t\t\t\t\t// Terminates all streams owned by this session.\n\t\t\t\t\t\tsession.destroy();\n\t\t\t\t\t});\n\n\t\t\t\t\tsession.once('close', () => {\n\t\t\t\t\t\tthis._sessionCount--;\n\n\t\t\t\t\t\tif (receivedSettings) {\n\t\t\t\t\t\t\t// Assumes session `close` is emitted after request `close`\n\t\t\t\t\t\t\tthis._emptySessionCount--;\n\n\t\t\t\t\t\t\t// This cannot be moved to the stream logic,\n\t\t\t\t\t\t\t// because there may be a session that hadn't made a single request.\n\t\t\t\t\t\t\tconst where = this.sessions[normalizedOptions];\n\n\t\t\t\t\t\t\tif (where.length === 1) {\n\t\t\t\t\t\t\t\tdelete this.sessions[normalizedOptions];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twhere.splice(where.indexOf(session), 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Broken connection\n\t\t\t\t\t\t\tremoveFromQueue();\n\n\t\t\t\t\t\t\tconst error = new Error('Session closed without receiving a SETTINGS frame');\n\t\t\t\t\t\t\terror.code = 'HTTP2WRAPPER_NOSETTINGS';\n\n\t\t\t\t\t\t\tfor (let index = 0; index < listeners.length; index++) {\n\t\t\t\t\t\t\t\tlisteners[index].reject(error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// There may be another session awaiting.\n\t\t\t\t\t\tthis._processQueue();\n\t\t\t\t\t});\n\n\t\t\t\t\t// Iterates over the queue and processes listeners.\n\t\t\t\t\tconst processListeners = () => {\n\t\t\t\t\t\tconst queue = this.queue[normalizedOptions];\n\t\t\t\t\t\tif (!queue) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst originSet = session[kOriginSet];\n\n\t\t\t\t\t\tfor (let index = 0; index < originSet.length; index++) {\n\t\t\t\t\t\t\tconst origin = originSet[index];\n\n\t\t\t\t\t\t\tif (origin in queue) {\n\t\t\t\t\t\t\t\tconst {listeners, completed} = queue[origin];\n\n\t\t\t\t\t\t\t\tlet index = 0;\n\n\t\t\t\t\t\t\t\t// Prevents session overloading.\n\t\t\t\t\t\t\t\twhile (index < listeners.length && isFree()) {\n\t\t\t\t\t\t\t\t\t// We assume `resolve(...)` calls `request(...)` *directly*,\n\t\t\t\t\t\t\t\t\t// otherwise the session will get overloaded.\n\t\t\t\t\t\t\t\t\tlisteners[index].resolve(session);\n\n\t\t\t\t\t\t\t\t\tindex++;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tqueue[origin].listeners.splice(0, index);\n\n\t\t\t\t\t\t\t\tif (queue[origin].listeners.length === 0 && !completed) {\n\t\t\t\t\t\t\t\t\tdelete queue[origin];\n\n\t\t\t\t\t\t\t\t\tif (--queue[kLength] === 0) {\n\t\t\t\t\t\t\t\t\t\tdelete this.queue[normalizedOptions];\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// We're no longer free, no point in continuing.\n\t\t\t\t\t\t\t\tif (!isFree()) {\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\t// The Origin Set cannot shrink. No need to check if it suddenly became covered by another one.\n\t\t\t\t\tsession.on('origin', () => {\n\t\t\t\t\t\tsession[kOriginSet] = getOriginSet() || [];\n\t\t\t\t\t\tsession[kGracefullyClosing] = false;\n\t\t\t\t\t\tcloseSessionIfCovered(this.sessions[normalizedOptions], session);\n\n\t\t\t\t\t\tif (session[kGracefullyClosing] || !isFree()) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tprocessListeners();\n\n\t\t\t\t\t\tif (!isFree()) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Close covered sessions (if possible).\n\t\t\t\t\t\tcloseCoveredSessions(this.sessions[normalizedOptions], session);\n\t\t\t\t\t});\n\n\t\t\t\t\tsession.once('remoteSettings', () => {\n\t\t\t\t\t\t// The Agent could have been destroyed already.\n\t\t\t\t\t\tif (entry.destroyed) {\n\t\t\t\t\t\t\tconst error = new Error('Agent has been destroyed');\n\n\t\t\t\t\t\t\tfor (let index = 0; index < listeners.length; index++) {\n\t\t\t\t\t\t\t\tlisteners[index].reject(error);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tsession.destroy();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// See https://github.com/nodejs/node/issues/38426\n\t\t\t\t\t\tif (session.setLocalWindowSize) {\n\t\t\t\t\t\t\tsession.setLocalWindowSize(1024 * 1024 * 4); // 4 MB\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsession[kOriginSet] = getOriginSet() || [];\n\n\t\t\t\t\t\tif (session.socket.encrypted) {\n\t\t\t\t\t\t\tconst mainOrigin = session[kOriginSet][0];\n\t\t\t\t\t\t\tif (mainOrigin !== normalizedOrigin) {\n\t\t\t\t\t\t\t\tconst error = new Error(`Requested origin ${normalizedOrigin} does not match server ${mainOrigin}`);\n\n\t\t\t\t\t\t\t\tfor (let index = 0; index < listeners.length; index++) {\n\t\t\t\t\t\t\t\t\tlisteners[index].reject(error);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tsession.destroy();\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tremoveFromQueue();\n\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst where = this.sessions;\n\n\t\t\t\t\t\t\tif (normalizedOptions in where) {\n\t\t\t\t\t\t\t\tconst sessions = where[normalizedOptions];\n\t\t\t\t\t\t\t\tsessions.splice(getSortedIndex(sessions, session, compareSessions), 0, session);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twhere[normalizedOptions] = [session];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treceivedSettings = true;\n\t\t\t\t\t\tthis._emptySessionCount++;\n\n\t\t\t\t\t\tthis.emit('session', session);\n\t\t\t\t\t\tthis._accept(session, listeners, normalizedOrigin, options);\n\n\t\t\t\t\t\tif (session[kCurrentStreamCount] === 0 && this._emptySessionCount > this.maxEmptySessions) {\n\t\t\t\t\t\t\tthis.closeEmptySessions(this._emptySessionCount - this.maxEmptySessions);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// `session.remoteSettings.maxConcurrentStreams` might get increased\n\t\t\t\t\t\tsession.on('remoteSettings', () => {\n\t\t\t\t\t\t\tif (!isFree()) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tprocessListeners();\n\n\t\t\t\t\t\t\tif (!isFree()) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// In case the Origin Set changes\n\t\t\t\t\t\t\tcloseCoveredSessions(this.sessions[normalizedOptions], session);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\t// Shim `session.request()` in order to catch all streams\n\t\t\t\t\tsession[kRequest] = session.request;\n\t\t\t\t\tsession.request = (headers, streamOptions) => {\n\t\t\t\t\t\tif (session[kGracefullyClosing]) {\n\t\t\t\t\t\t\tthrow new Error('The session is gracefully closing. No new streams are allowed.');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst stream = session[kRequest](headers, streamOptions);\n\n\t\t\t\t\t\t// The process won't exit until the session is closed or all requests are gone.\n\t\t\t\t\t\tsession.ref();\n\n\t\t\t\t\t\tif (session[kCurrentStreamCount]++ === 0) {\n\t\t\t\t\t\t\tthis._emptySessionCount--;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstream.once('close', () => {\n\t\t\t\t\t\t\tif (--session[kCurrentStreamCount] === 0) {\n\t\t\t\t\t\t\t\tthis._emptySessionCount++;\n\t\t\t\t\t\t\t\tsession.unref();\n\n\t\t\t\t\t\t\t\tif (this._emptySessionCount > this.maxEmptySessions || session[kGracefullyClosing]) {\n\t\t\t\t\t\t\t\t\tsession.close();\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (session.destroyed || session.closed) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (isFree() && !closeSessionIfCovered(this.sessions[normalizedOptions], session)) {\n\t\t\t\t\t\t\t\tcloseCoveredSessions(this.sessions[normalizedOptions], session);\n\t\t\t\t\t\t\t\tprocessListeners();\n\n\t\t\t\t\t\t\t\tif (session[kCurrentStreamCount] === 0) {\n\t\t\t\t\t\t\t\t\tthis._processQueue();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn stream;\n\t\t\t\t\t};\n\t\t\t\t} catch (error) {\n\t\t\t\t\tremoveFromQueue();\n\t\t\t\t\tthis._sessionCount--;\n\n\t\t\t\t\tfor (let index = 0; index < listeners.length; index++) {\n\t\t\t\t\t\tlisteners[index].reject(error);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tentry.listeners = listeners;\n\t\t\tentry.completed = false;\n\t\t\tentry.destroyed = false;\n\n\t\t\tthis.queue[normalizedOptions][normalizedOrigin] = entry;\n\t\t\tthis.queue[normalizedOptions][kLength]++;\n\t\t\tthis._processQueue();\n\t\t});\n\t}\n\n\trequest(origin, options, headers, streamOptions) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.getSession(origin, options, [{\n\t\t\t\treject,\n\t\t\t\tresolve: session => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst stream = session.request(headers, streamOptions);\n\n\t\t\t\t\t\t// Do not throw before `request(...)` has been awaited\n\t\t\t\t\t\tdelayAsyncDestroy(stream);\n\n\t\t\t\t\t\tresolve(stream);\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\treject(error);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}]);\n\t\t});\n\t}\n\n\tasync createConnection(origin, options) {\n\t\treturn Agent.connect(origin, options);\n\t}\n\n\tstatic connect(origin, options) {\n\t\toptions.ALPNProtocols = ['h2'];\n\n\t\tconst port = origin.port || 443;\n\t\tconst host = origin.hostname;\n\n\t\tif (typeof options.servername === 'undefined') {\n\t\t\toptions.servername = host;\n\t\t}\n\n\t\tconst socket = tls.connect(port, host, options);\n\n\t\tif (options.socket) {\n\t\t\tsocket._peername = {\n\t\t\t\tfamily: undefined,\n\t\t\t\taddress: undefined,\n\t\t\t\tport\n\t\t\t};\n\t\t}\n\n\t\treturn socket;\n\t}\n\n\tcloseEmptySessions(maxCount = Number.POSITIVE_INFINITY) {\n\t\tlet closedCount = 0;\n\n\t\tconst {sessions} = this;\n\n\t\t// eslint-disable-next-line guard-for-in\n\t\tfor (const key in sessions) {\n\t\t\tconst thisSessions = sessions[key];\n\n\t\t\tfor (let index = 0; index < thisSessions.length; index++) {\n\t\t\t\tconst session = thisSessions[index];\n\n\t\t\t\tif (session[kCurrentStreamCount] === 0) {\n\t\t\t\t\tclosedCount++;\n\t\t\t\t\tsession.close();\n\n\t\t\t\t\tif (closedCount >= maxCount) {\n\t\t\t\t\t\treturn closedCount;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn closedCount;\n\t}\n\n\tdestroy(reason) {\n\t\tconst {sessions, queue} = this;\n\n\t\t// eslint-disable-next-line guard-for-in\n\t\tfor (const key in sessions) {\n\t\t\tconst thisSessions = sessions[key];\n\n\t\t\tfor (let index = 0; index < thisSessions.length; index++) {\n\t\t\t\tthisSessions[index].destroy(reason);\n\t\t\t}\n\t\t}\n\n\t\t// eslint-disable-next-line guard-for-in\n\t\tfor (const normalizedOptions in queue) {\n\t\t\tconst entries = queue[normalizedOptions];\n\n\t\t\t// eslint-disable-next-line guard-for-in\n\t\t\tfor (const normalizedOrigin in entries) {\n\t\t\t\tentries[normalizedOrigin].destroyed = true;\n\t\t\t}\n\t\t}\n\n\t\t// New requests should NOT attach to destroyed sessions\n\t\tthis.queue = {};\n\t\tthis.tlsSessionCache.clear();\n\t}\n\n\tget emptySessionCount() {\n\t\treturn this._emptySessionCount;\n\t}\n\n\tget pendingSessionCount() {\n\t\treturn this._sessionCount - this._emptySessionCount;\n\t}\n\n\tget sessionCount() {\n\t\treturn this._sessionCount;\n\t}\n}\n\nAgent.kCurrentStreamCount = kCurrentStreamCount;\nAgent.kGracefullyClosing = kGracefullyClosing;\n\nmodule.exports = {\n\tAgent,\n\tglobalAgent: new Agent()\n};\n", "'use strict';\nconst {Readable} = require('stream');\n\nclass IncomingMessage extends Readable {\n\tconstructor(socket, highWaterMark) {\n\t\tsuper({\n\t\t\temitClose: false,\n\t\t\tautoDestroy: true,\n\t\t\thighWaterMark\n\t\t});\n\n\t\tthis.statusCode = null;\n\t\tthis.statusMessage = '';\n\t\tthis.httpVersion = '2.0';\n\t\tthis.httpVersionMajor = 2;\n\t\tthis.httpVersionMinor = 0;\n\t\tthis.headers = {};\n\t\tthis.trailers = {};\n\t\tthis.req = null;\n\n\t\tthis.aborted = false;\n\t\tthis.complete = false;\n\t\tthis.upgrade = null;\n\n\t\tthis.rawHeaders = [];\n\t\tthis.rawTrailers = [];\n\n\t\tthis.socket = socket;\n\n\t\tthis._dumped = false;\n\t}\n\n\tget connection() {\n\t\treturn this.socket;\n\t}\n\n\tset connection(value) {\n\t\tthis.socket = value;\n\t}\n\n\t_destroy(error, callback) {\n\t\tif (!this.readableEnded) {\n\t\t\tthis.aborted = true;\n\t\t}\n\n\t\t// See https://github.com/nodejs/node/issues/35303\n\t\tcallback();\n\n\t\tthis.req._request.destroy(error);\n\t}\n\n\tsetTimeout(ms, callback) {\n\t\tthis.req.setTimeout(ms, callback);\n\t\treturn this;\n\t}\n\n\t_dump() {\n\t\tif (!this._dumped) {\n\t\t\tthis._dumped = true;\n\n\t\t\tthis.removeAllListeners('data');\n\t\t\tthis.resume();\n\t\t}\n\t}\n\n\t_read() {\n\t\tif (this.req) {\n\t\t\tthis.req._request.resume();\n\t\t}\n\t}\n}\n\nmodule.exports = IncomingMessage;\n", "'use strict';\n\nmodule.exports = (from, to, events) => {\n\tfor (const event of events) {\n\t\tfrom.on(event, (...args) => to.emit(event, ...args));\n\t}\n};\n", "'use strict';\n/* istanbul ignore file: https://github.com/nodejs/node/blob/master/lib/internal/errors.js */\n\nconst makeError = (Base, key, getMessage) => {\n\tmodule.exports[key] = class NodeError extends Base {\n\t\tconstructor(...args) {\n\t\t\tsuper(typeof getMessage === 'string' ? getMessage : getMessage(args));\n\t\t\tthis.name = `${super.name} [${key}]`;\n\t\t\tthis.code = key;\n\t\t}\n\t};\n};\n\nmakeError(TypeError, 'ERR_INVALID_ARG_TYPE', args => {\n\tconst type = args[0].includes('.') ? 'property' : 'argument';\n\n\tlet valid = args[1];\n\tconst isManyTypes = Array.isArray(valid);\n\n\tif (isManyTypes) {\n\t\tvalid = `${valid.slice(0, -1).join(', ')} or ${valid.slice(-1)}`;\n\t}\n\n\treturn `The \"${args[0]}\" ${type} must be ${isManyTypes ? 'one of' : 'of'} type ${valid}. Received ${typeof args[2]}`;\n});\n\nmakeError(TypeError, 'ERR_INVALID_PROTOCOL', args =>\n\t`Protocol \"${args[0]}\" not supported. Expected \"${args[1]}\"`\n);\n\nmakeError(Error, 'ERR_HTTP_HEADERS_SENT', args =>\n\t`Cannot ${args[0]} headers after they are sent to the client`\n);\n\nmakeError(TypeError, 'ERR_INVALID_HTTP_TOKEN', args =>\n\t`${args[0]} must be a valid HTTP token [${args[1]}]`\n);\n\nmakeError(TypeError, 'ERR_HTTP_INVALID_HEADER_VALUE', args =>\n\t`Invalid value \"${args[0]} for header \"${args[1]}\"`\n);\n\nmakeError(TypeError, 'ERR_INVALID_CHAR', args =>\n\t`Invalid character in ${args[0]} [${args[1]}]`\n);\n\nmakeError(\n\tError,\n\t'ERR_HTTP2_NO_SOCKET_MANIPULATION',\n\t'HTTP/2 sockets should not be directly manipulated (e.g. read and written)'\n);\n", "'use strict';\n\nmodule.exports = header => {\n\tswitch (header) {\n\t\tcase ':method':\n\t\tcase ':scheme':\n\t\tcase ':authority':\n\t\tcase ':path':\n\t\t\treturn true;\n\t\tdefault:\n\t\t\treturn false;\n\t}\n};\n", "'use strict';\nconst {ERR_INVALID_HTTP_TOKEN} = require('./errors.js');\nconst isRequestPseudoHeader = require('./is-request-pseudo-header.js');\n\nconst isValidHttpToken = /^[\\^`\\-\\w!#$%&*+.|~]+$/;\n\nmodule.exports = name => {\n\tif (typeof name !== 'string' || (!isValidHttpToken.test(name) && !isRequestPseudoHeader(name))) {\n\t\tthrow new ERR_INVALID_HTTP_TOKEN('Header name', name);\n\t}\n};\n", "'use strict';\nconst {\n\tERR_HTTP_INVALID_HEADER_VALUE,\n\tERR_INVALID_CHAR\n} = require('./errors.js');\n\nconst isInvalidHeaderValue = /[^\\t\\u0020-\\u007E\\u0080-\\u00FF]/;\n\nmodule.exports = (name, value) => {\n\tif (typeof value === 'undefined') {\n\t\tthrow new ERR_HTTP_INVALID_HEADER_VALUE(value, name);\n\t}\n\n\tif (isInvalidHeaderValue.test(value)) {\n\t\tthrow new ERR_INVALID_CHAR('header content', name);\n\t}\n};\n", "'use strict';\nconst {ERR_HTTP2_NO_SOCKET_MANIPULATION} = require('./errors.js');\n\n/* istanbul ignore file */\n/* https://github.com/nodejs/node/blob/6eec858f34a40ffa489c1ec54bb24da72a28c781/lib/internal/http2/compat.js#L195-L272 */\n\nconst proxySocketHandler = {\n\thas(stream, property) {\n\t\t// Replaced [kSocket] with .socket\n\t\tconst reference = stream.session === undefined ? stream : stream.session.socket;\n\t\treturn (property in stream) || (property in reference);\n\t},\n\n\tget(stream, property) {\n\t\tswitch (property) {\n\t\t\tcase 'on':\n\t\t\tcase 'once':\n\t\t\tcase 'end':\n\t\t\tcase 'emit':\n\t\t\tcase 'destroy':\n\t\t\t\treturn stream[property].bind(stream);\n\t\t\tcase 'writable':\n\t\t\tcase 'destroyed':\n\t\t\t\treturn stream[property];\n\t\t\tcase 'readable':\n\t\t\t\tif (stream.destroyed) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\treturn stream.readable;\n\t\t\tcase 'setTimeout': {\n\t\t\t\tconst {session} = stream;\n\t\t\t\tif (session !== undefined) {\n\t\t\t\t\treturn session.setTimeout.bind(session);\n\t\t\t\t}\n\n\t\t\t\treturn stream.setTimeout.bind(stream);\n\t\t\t}\n\n\t\t\tcase 'write':\n\t\t\tcase 'read':\n\t\t\tcase 'pause':\n\t\t\tcase 'resume':\n\t\t\t\tthrow new ERR_HTTP2_NO_SOCKET_MANIPULATION();\n\t\t\tdefault: {\n\t\t\t\t// Replaced [kSocket] with .socket\n\t\t\t\tconst reference = stream.session === undefined ? stream : stream.session.socket;\n\t\t\t\tconst value = reference[property];\n\n\t\t\t\treturn typeof value === 'function' ? value.bind(reference) : value;\n\t\t\t}\n\t\t}\n\t},\n\n\tgetPrototypeOf(stream) {\n\t\tif (stream.session !== undefined) {\n\t\t\t// Replaced [kSocket] with .socket\n\t\t\treturn Reflect.getPrototypeOf(stream.session.socket);\n\t\t}\n\n\t\treturn Reflect.getPrototypeOf(stream);\n\t},\n\n\tset(stream, property, value) {\n\t\tswitch (property) {\n\t\t\tcase 'writable':\n\t\t\tcase 'readable':\n\t\t\tcase 'destroyed':\n\t\t\tcase 'on':\n\t\t\tcase 'once':\n\t\t\tcase 'end':\n\t\t\tcase 'emit':\n\t\t\tcase 'destroy':\n\t\t\t\tstream[property] = value;\n\t\t\t\treturn true;\n\t\t\tcase 'setTimeout': {\n\t\t\t\tconst {session} = stream;\n\t\t\t\tif (session === undefined) {\n\t\t\t\t\tstream.setTimeout = value;\n\t\t\t\t} else {\n\t\t\t\t\tsession.setTimeout = value;\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tcase 'write':\n\t\t\tcase 'read':\n\t\t\tcase 'pause':\n\t\t\tcase 'resume':\n\t\t\t\tthrow new ERR_HTTP2_NO_SOCKET_MANIPULATION();\n\t\t\tdefault: {\n\t\t\t\t// Replaced [kSocket] with .socket\n\t\t\t\tconst reference = stream.session === undefined ? stream : stream.session.socket;\n\t\t\t\treference[property] = value;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n};\n\nmodule.exports = proxySocketHandler;\n", "'use strict';\n// See https://github.com/facebook/jest/issues/2549\n// eslint-disable-next-line node/prefer-global/url\nconst {URL, urlToHttpOptions} = require('url');\nconst http2 = require('http2');\nconst {Writable} = require('stream');\nconst {Agent, globalAgent} = require('./agent.js');\nconst IncomingMessage = require('./incoming-message.js');\nconst proxyEvents = require('./utils/proxy-events.js');\nconst {\n\tERR_INVALID_ARG_TYPE,\n\tERR_INVALID_PROTOCOL,\n\tERR_HTTP_HEADERS_SENT\n} = require('./utils/errors.js');\nconst validateHeaderName = require('./utils/validate-header-name.js');\nconst validateHeaderValue = require('./utils/validate-header-value.js');\nconst proxySocketHandler = require('./utils/proxy-socket-handler.js');\n\nconst {\n\tHTTP2_HEADER_STATUS,\n\tHTTP2_HEADER_METHOD,\n\tHTTP2_HEADER_PATH,\n\tHTTP2_HEADER_AUTHORITY,\n\tHTTP2_METHOD_CONNECT\n} = http2.constants;\n\nconst kHeaders = Symbol('headers');\nconst kOrigin = Symbol('origin');\nconst kSession = Symbol('session');\nconst kOptions = Symbol('options');\nconst kFlushedHeaders = Symbol('flushedHeaders');\nconst kJobs = Symbol('jobs');\nconst kPendingAgentPromise = Symbol('pendingAgentPromise');\n\nclass ClientRequest extends Writable {\n\tconstructor(input, options, callback) {\n\t\tsuper({\n\t\t\tautoDestroy: false,\n\t\t\temitClose: false\n\t\t});\n\n\t\tif (typeof input === 'string') {\n\t\t\tinput = urlToHttpOptions(new URL(input));\n\t\t} else if (input instanceof URL) {\n\t\t\tinput = urlToHttpOptions(input);\n\t\t} else {\n\t\t\tinput = {...input};\n\t\t}\n\n\t\tif (typeof options === 'function' || options === undefined) {\n\t\t\t// (options, callback)\n\t\t\tcallback = options;\n\t\t\toptions = input;\n\t\t} else {\n\t\t\t// (input, options, callback)\n\t\t\toptions = Object.assign(input, options);\n\t\t}\n\n\t\tif (options.h2session) {\n\t\t\tthis[kSession] = options.h2session;\n\n\t\t\tif (this[kSession].destroyed) {\n\t\t\t\tthrow new Error('The session has been closed already');\n\t\t\t}\n\n\t\t\tthis.protocol = this[kSession].socket.encrypted ? 'https:' : 'http:';\n\t\t} else if (options.agent === false) {\n\t\t\tthis.agent = new Agent({maxEmptySessions: 0});\n\t\t} else if (typeof options.agent === 'undefined' || options.agent === null) {\n\t\t\tthis.agent = globalAgent;\n\t\t} else if (typeof options.agent.request === 'function') {\n\t\t\tthis.agent = options.agent;\n\t\t} else {\n\t\t\tthrow new ERR_INVALID_ARG_TYPE('options.agent', ['http2wrapper.Agent-like Object', 'undefined', 'false'], options.agent);\n\t\t}\n\n\t\tif (this.agent) {\n\t\t\tthis.protocol = this.agent.protocol;\n\t\t}\n\n\t\tif (options.protocol && options.protocol !== this.protocol) {\n\t\t\tthrow new ERR_INVALID_PROTOCOL(options.protocol, this.protocol);\n\t\t}\n\n\t\tif (!options.port) {\n\t\t\toptions.port = options.defaultPort || (this.agent && this.agent.defaultPort) || 443;\n\t\t}\n\n\t\toptions.host = options.hostname || options.host || 'localhost';\n\n\t\t// Unused\n\t\tdelete options.hostname;\n\n\t\tconst {timeout} = options;\n\t\toptions.timeout = undefined;\n\n\t\tthis[kHeaders] = Object.create(null);\n\t\tthis[kJobs] = [];\n\n\t\tthis[kPendingAgentPromise] = undefined;\n\n\t\tthis.socket = null;\n\t\tthis.connection = null;\n\n\t\tthis.method = options.method || 'GET';\n\n\t\tif (!(this.method === 'CONNECT' && (options.path === '/' || options.path === undefined))) {\n\t\t\tthis.path = options.path;\n\t\t}\n\n\t\tthis.res = null;\n\t\tthis.aborted = false;\n\t\tthis.reusedSocket = false;\n\n\t\tconst {headers} = options;\n\t\tif (headers) {\n\t\t\t// eslint-disable-next-line guard-for-in\n\t\t\tfor (const header in headers) {\n\t\t\t\tthis.setHeader(header, headers[header]);\n\t\t\t}\n\t\t}\n\n\t\tif (options.auth && !('authorization' in this[kHeaders])) {\n\t\t\tthis[kHeaders].authorization = 'Basic ' + Buffer.from(options.auth).toString('base64');\n\t\t}\n\n\t\toptions.session = options.tlsSession;\n\t\toptions.path = options.socketPath;\n\n\t\tthis[kOptions] = options;\n\n\t\t// Clients that generate HTTP/2 requests directly SHOULD use the :authority pseudo-header field instead of the Host header field.\n\t\tthis[kOrigin] = new URL(`${this.protocol}//${options.servername || options.host}:${options.port}`);\n\n\t\t// A socket is being reused\n\t\tconst reuseSocket = options._reuseSocket;\n\t\tif (reuseSocket) {\n\t\t\toptions.createConnection = (...args) => {\n\t\t\t\tif (reuseSocket.destroyed) {\n\t\t\t\t\treturn this.agent.createConnection(...args);\n\t\t\t\t}\n\n\t\t\t\treturn reuseSocket;\n\t\t\t};\n\n\t\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\t\tthis.agent.getSession(this[kOrigin], this[kOptions]).catch(() => {});\n\t\t}\n\n\t\tif (timeout) {\n\t\t\tthis.setTimeout(timeout);\n\t\t}\n\n\t\tif (callback) {\n\t\t\tthis.once('response', callback);\n\t\t}\n\n\t\tthis[kFlushedHeaders] = false;\n\t}\n\n\tget method() {\n\t\treturn this[kHeaders][HTTP2_HEADER_METHOD];\n\t}\n\n\tset method(value) {\n\t\tif (value) {\n\t\t\tthis[kHeaders][HTTP2_HEADER_METHOD] = value.toUpperCase();\n\t\t}\n\t}\n\n\tget path() {\n\t\tconst header = this.method === 'CONNECT' ? HTTP2_HEADER_AUTHORITY : HTTP2_HEADER_PATH;\n\n\t\treturn this[kHeaders][header];\n\t}\n\n\tset path(value) {\n\t\tif (value) {\n\t\t\tconst header = this.method === 'CONNECT' ? HTTP2_HEADER_AUTHORITY : HTTP2_HEADER_PATH;\n\n\t\t\tthis[kHeaders][header] = value;\n\t\t}\n\t}\n\n\tget host() {\n\t\treturn this[kOrigin].hostname;\n\t}\n\n\tset host(_value) {\n\t\t// Do nothing as this is read only.\n\t}\n\n\tget _mustNotHaveABody() {\n\t\treturn this.method === 'GET' || this.method === 'HEAD' || this.method === 'DELETE';\n\t}\n\n\t_write(chunk, encoding, callback) {\n\t\t// https://github.com/nodejs/node/blob/654df09ae0c5e17d1b52a900a545f0664d8c7627/lib/internal/http2/util.js#L148-L156\n\t\tif (this._mustNotHaveABody) {\n\t\t\tcallback(new Error('The GET, HEAD and DELETE methods must NOT have a body'));\n\t\t\t/* istanbul ignore next: Node.js 12 throws directly */\n\t\t\treturn;\n\t\t}\n\n\t\tthis.flushHeaders();\n\n\t\tconst callWrite = () => this._request.write(chunk, encoding, callback);\n\t\tif (this._request) {\n\t\t\tcallWrite();\n\t\t} else {\n\t\t\tthis[kJobs].push(callWrite);\n\t\t}\n\t}\n\n\t_final(callback) {\n\t\tthis.flushHeaders();\n\n\t\tconst callEnd = () => {\n\t\t\t// For GET, HEAD and DELETE and CONNECT\n\t\t\tif (this._mustNotHaveABody || this.method === 'CONNECT') {\n\t\t\t\tcallback();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._request.end(callback);\n\t\t};\n\n\t\tif (this._request) {\n\t\t\tcallEnd();\n\t\t} else {\n\t\t\tthis[kJobs].push(callEnd);\n\t\t}\n\t}\n\n\tabort() {\n\t\tif (this.res && this.res.complete) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this.aborted) {\n\t\t\tprocess.nextTick(() => this.emit('abort'));\n\t\t}\n\n\t\tthis.aborted = true;\n\n\t\tthis.destroy();\n\t}\n\n\tasync _destroy(error, callback) {\n\t\tif (this.res) {\n\t\t\tthis.res._dump();\n\t\t}\n\n\t\tif (this._request) {\n\t\t\tthis._request.destroy();\n\t\t} else {\n\t\t\tprocess.nextTick(() => {\n\t\t\t\tthis.emit('close');\n\t\t\t});\n\t\t}\n\n\t\ttry {\n\t\t\tawait this[kPendingAgentPromise];\n\t\t} catch (internalError) {\n\t\t\tif (this.aborted) {\n\t\t\t\terror = internalError;\n\t\t\t}\n\t\t}\n\n\t\tcallback(error);\n\t}\n\n\tasync flushHeaders() {\n\t\tif (this[kFlushedHeaders] || this.destroyed) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis[kFlushedHeaders] = true;\n\n\t\tconst isConnectMethod = this.method === HTTP2_METHOD_CONNECT;\n\n\t\t// The real magic is here\n\t\tconst onStream = stream => {\n\t\t\tthis._request = stream;\n\n\t\t\tif (this.destroyed) {\n\t\t\t\tstream.destroy();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Forwards `timeout`, `continue`, `close` and `error` events to this instance.\n\t\t\tif (!isConnectMethod) {\n\t\t\t\t// TODO: Should we proxy `close` here?\n\t\t\t\tproxyEvents(stream, this, ['timeout', 'continue']);\n\t\t\t}\n\n\t\t\tstream.once('error', error => {\n\t\t\t\tthis.destroy(error);\n\t\t\t});\n\n\t\t\tstream.once('aborted', () => {\n\t\t\t\tconst {res} = this;\n\t\t\t\tif (res) {\n\t\t\t\t\tres.aborted = true;\n\t\t\t\t\tres.emit('aborted');\n\t\t\t\t\tres.destroy();\n\t\t\t\t} else {\n\t\t\t\t\tthis.destroy(new Error('The server aborted the HTTP/2 stream'));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tconst onResponse = (headers, flags, rawHeaders) => {\n\t\t\t\t// If we were to emit raw request stream, it would be as fast as the native approach.\n\t\t\t\t// Note that wrapping the raw stream in a Proxy instance won't improve the performance (already tested it).\n\t\t\t\tconst response = new IncomingMessage(this.socket, stream.readableHighWaterMark);\n\t\t\t\tthis.res = response;\n\n\t\t\t\t// Undocumented, but it is used by `cacheable-request`\n\t\t\t\tresponse.url = `${this[kOrigin].origin}${this.path}`;\n\n\t\t\t\tresponse.req = this;\n\t\t\t\tresponse.statusCode = headers[HTTP2_HEADER_STATUS];\n\t\t\t\tresponse.headers = headers;\n\t\t\t\tresponse.rawHeaders = rawHeaders;\n\n\t\t\t\tresponse.once('end', () => {\n\t\t\t\t\tresponse.complete = true;\n\n\t\t\t\t\t// Has no effect, just be consistent with the Node.js behavior\n\t\t\t\t\tresponse.socket = null;\n\t\t\t\t\tresponse.connection = null;\n\t\t\t\t});\n\n\t\t\t\tif (isConnectMethod) {\n\t\t\t\t\tresponse.upgrade = true;\n\n\t\t\t\t\t// The HTTP1 API says the socket is detached here,\n\t\t\t\t\t// but we can't do that so we pass the original HTTP2 request.\n\t\t\t\t\tif (this.emit('connect', response, stream, Buffer.alloc(0))) {\n\t\t\t\t\t\tthis.emit('close');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// No listeners attached, destroy the original request.\n\t\t\t\t\t\tstream.destroy();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Forwards data\n\t\t\t\t\tstream.on('data', chunk => {\n\t\t\t\t\t\tif (!response._dumped && !response.push(chunk)) {\n\t\t\t\t\t\t\tstream.pause();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tstream.once('end', () => {\n\t\t\t\t\t\tif (!this.aborted) {\n\t\t\t\t\t\t\tresponse.push(null);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tif (!this.emit('response', response)) {\n\t\t\t\t\t\t// No listeners attached, dump the response.\n\t\t\t\t\t\tresponse._dump();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// This event tells we are ready to listen for the data.\n\t\t\tstream.once('response', onResponse);\n\n\t\t\t// Emits `information` event\n\t\t\tstream.once('headers', headers => this.emit('information', {statusCode: headers[HTTP2_HEADER_STATUS]}));\n\n\t\t\tstream.once('trailers', (trailers, flags, rawTrailers) => {\n\t\t\t\tconst {res} = this;\n\n\t\t\t\t// https://github.com/nodejs/node/issues/41251\n\t\t\t\tif (res === null) {\n\t\t\t\t\tonResponse(trailers, flags, rawTrailers);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Assigns trailers to the response object.\n\t\t\t\tres.trailers = trailers;\n\t\t\t\tres.rawTrailers = rawTrailers;\n\t\t\t});\n\n\t\t\tstream.once('close', () => {\n\t\t\t\tconst {aborted, res} = this;\n\t\t\t\tif (res) {\n\t\t\t\t\tif (aborted) {\n\t\t\t\t\t\tres.aborted = true;\n\t\t\t\t\t\tres.emit('aborted');\n\t\t\t\t\t\tres.destroy();\n\t\t\t\t\t}\n\n\t\t\t\t\tconst finish = () => {\n\t\t\t\t\t\tres.emit('close');\n\n\t\t\t\t\t\tthis.destroy();\n\t\t\t\t\t\tthis.emit('close');\n\t\t\t\t\t};\n\n\t\t\t\t\tif (res.readable) {\n\t\t\t\t\t\tres.once('end', finish);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfinish();\n\t\t\t\t\t}\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (!this.destroyed) {\n\t\t\t\t\tthis.destroy(new Error('The HTTP/2 stream has been early terminated'));\n\t\t\t\t\tthis.emit('close');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.destroy();\n\t\t\t\tthis.emit('close');\n\t\t\t});\n\n\t\t\tthis.socket = new Proxy(stream, proxySocketHandler);\n\n\t\t\tfor (const job of this[kJobs]) {\n\t\t\t\tjob();\n\t\t\t}\n\n\t\t\tthis[kJobs].length = 0;\n\n\t\t\tthis.emit('socket', this.socket);\n\t\t};\n\n\t\tif (!(HTTP2_HEADER_AUTHORITY in this[kHeaders]) && !isConnectMethod) {\n\t\t\tthis[kHeaders][HTTP2_HEADER_AUTHORITY] = this[kOrigin].host;\n\t\t}\n\n\t\t// Makes a HTTP2 request\n\t\tif (this[kSession]) {\n\t\t\ttry {\n\t\t\t\tonStream(this[kSession].request(this[kHeaders]));\n\t\t\t} catch (error) {\n\t\t\t\tthis.destroy(error);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.reusedSocket = true;\n\n\t\t\ttry {\n\t\t\t\tconst promise = this.agent.request(this[kOrigin], this[kOptions], this[kHeaders]);\n\t\t\t\tthis[kPendingAgentPromise] = promise;\n\n\t\t\t\tonStream(await promise);\n\n\t\t\t\tthis[kPendingAgentPromise] = false;\n\t\t\t} catch (error) {\n\t\t\t\tthis[kPendingAgentPromise] = false;\n\n\t\t\t\tthis.destroy(error);\n\t\t\t}\n\t\t}\n\t}\n\n\tget connection() {\n\t\treturn this.socket;\n\t}\n\n\tset connection(value) {\n\t\tthis.socket = value;\n\t}\n\n\tgetHeaderNames() {\n\t\treturn Object.keys(this[kHeaders]);\n\t}\n\n\thasHeader(name) {\n\t\tif (typeof name !== 'string') {\n\t\t\tthrow new ERR_INVALID_ARG_TYPE('name', 'string', name);\n\t\t}\n\n\t\treturn Boolean(this[kHeaders][name.toLowerCase()]);\n\t}\n\n\tgetHeader(name) {\n\t\tif (typeof name !== 'string') {\n\t\t\tthrow new ERR_INVALID_ARG_TYPE('name', 'string', name);\n\t\t}\n\n\t\treturn this[kHeaders][name.toLowerCase()];\n\t}\n\n\tget headersSent() {\n\t\treturn this[kFlushedHeaders];\n\t}\n\n\tremoveHeader(name) {\n\t\tif (typeof name !== 'string') {\n\t\t\tthrow new ERR_INVALID_ARG_TYPE('name', 'string', name);\n\t\t}\n\n\t\tif (this.headersSent) {\n\t\t\tthrow new ERR_HTTP_HEADERS_SENT('remove');\n\t\t}\n\n\t\tdelete this[kHeaders][name.toLowerCase()];\n\t}\n\n\tsetHeader(name, value) {\n\t\tif (this.headersSent) {\n\t\t\tthrow new ERR_HTTP_HEADERS_SENT('set');\n\t\t}\n\n\t\tvalidateHeaderName(name);\n\t\tvalidateHeaderValue(name, value);\n\n\t\tconst lowercased = name.toLowerCase();\n\n\t\tif (lowercased === 'connection') {\n\t\t\tif (value.toLowerCase() === 'keep-alive') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthrow new Error(`Invalid 'connection' header: ${value}`);\n\t\t}\n\n\t\tif (lowercased === 'host' && this.method === 'CONNECT') {\n\t\t\tthis[kHeaders][HTTP2_HEADER_AUTHORITY] = value;\n\t\t} else {\n\t\t\tthis[kHeaders][lowercased] = value;\n\t\t}\n\t}\n\n\tsetNoDelay() {\n\t\t// HTTP2 sockets cannot be malformed, do nothing.\n\t}\n\n\tsetSocketKeepAlive() {\n\t\t// HTTP2 sockets cannot be malformed, do nothing.\n\t}\n\n\tsetTimeout(ms, callback) {\n\t\tconst applyTimeout = () => this._request.setTimeout(ms, callback);\n\n\t\tif (this._request) {\n\t\t\tapplyTimeout();\n\t\t} else {\n\t\t\tthis[kJobs].push(applyTimeout);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tget maxHeadersCount() {\n\t\tif (!this.destroyed && this._request) {\n\t\t\treturn this._request.session.localSettings.maxHeaderListSize;\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tset maxHeadersCount(_value) {\n\t\t// Updating HTTP2 settings would affect all requests, do nothing.\n\t}\n}\n\nmodule.exports = ClientRequest;\n", "'use strict';\nconst tls = require('tls');\n\nmodule.exports = (options = {}, connect = tls.connect) => new Promise((resolve, reject) => {\n\tlet timeout = false;\n\n\tlet socket;\n\n\tconst callback = async () => {\n\t\tawait socketPromise;\n\n\t\tsocket.off('timeout', onTimeout);\n\t\tsocket.off('error', reject);\n\n\t\tif (options.resolveSocket) {\n\t\t\tresolve({alpnProtocol: socket.alpnProtocol, socket, timeout});\n\n\t\t\tif (timeout) {\n\t\t\t\tawait Promise.resolve();\n\t\t\t\tsocket.emit('timeout');\n\t\t\t}\n\t\t} else {\n\t\t\tsocket.destroy();\n\t\t\tresolve({alpnProtocol: socket.alpnProtocol, timeout});\n\t\t}\n\t};\n\n\tconst onTimeout = async () => {\n\t\ttimeout = true;\n\t\tcallback();\n\t};\n\n\tconst socketPromise = (async () => {\n\t\ttry {\n\t\t\tsocket = await connect(options, callback);\n\n\t\t\tsocket.on('error', reject);\n\t\t\tsocket.once('timeout', onTimeout);\n\t\t} catch (error) {\n\t\t\treject(error);\n\t\t}\n\t})();\n});\n", "'use strict';\nconst {isIP} = require('net');\nconst assert = require('assert');\n\nconst getHost = host => {\n\tif (host[0] === '[') {\n\t\tconst idx = host.indexOf(']');\n\n\t\tassert(idx !== -1);\n\t\treturn host.slice(1, idx);\n\t}\n\n\tconst idx = host.indexOf(':');\n\tif (idx === -1) {\n\t\treturn host;\n\t}\n\n\treturn host.slice(0, idx);\n};\n\nmodule.exports = host => {\n\tconst servername = getHost(host);\n\n\tif (isIP(servername)) {\n\t\treturn '';\n\t}\n\n\treturn servername;\n};\n", "'use strict';\n// See https://github.com/facebook/jest/issues/2549\n// eslint-disable-next-line node/prefer-global/url\nconst {URL, urlToHttpOptions} = require('url');\nconst http = require('http');\nconst https = require('https');\nconst resolveALPN = require('resolve-alpn');\nconst QuickLRU = require('quick-lru');\nconst {Agent, globalAgent} = require('./agent.js');\nconst Http2ClientRequest = require('./client-request.js');\nconst calculateServerName = require('./utils/calculate-server-name.js');\nconst delayAsyncDestroy = require('./utils/delay-async-destroy.js');\n\nconst cache = new QuickLRU({maxSize: 100});\nconst queue = new Map();\n\nconst installSocket = (agent, socket, options) => {\n\tsocket._httpMessage = {shouldKeepAlive: true};\n\n\tconst onFree = () => {\n\t\tagent.emit('free', socket, options);\n\t};\n\n\tsocket.on('free', onFree);\n\n\tconst onClose = () => {\n\t\tagent.removeSocket(socket, options);\n\t};\n\n\tsocket.on('close', onClose);\n\n\tconst onTimeout = () => {\n\t\tconst {freeSockets} = agent;\n\n\t\tfor (const sockets of Object.values(freeSockets)) {\n\t\t\tif (sockets.includes(socket)) {\n\t\t\t\tsocket.destroy();\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t};\n\n\tsocket.on('timeout', onTimeout);\n\n\tconst onRemove = () => {\n\t\tagent.removeSocket(socket, options);\n\t\tsocket.off('close', onClose);\n\t\tsocket.off('free', onFree);\n\t\tsocket.off('timeout', onTimeout);\n\t\tsocket.off('agentRemove', onRemove);\n\t};\n\n\tsocket.on('agentRemove', onRemove);\n\n\tagent.emit('free', socket, options);\n};\n\nconst createResolveProtocol = (cache, queue = new Map(), connect = undefined) => {\n\treturn async options => {\n\t\tconst name = `${options.host}:${options.port}:${options.ALPNProtocols.sort()}`;\n\n\t\tif (!cache.has(name)) {\n\t\t\tif (queue.has(name)) {\n\t\t\t\tconst result = await queue.get(name);\n\t\t\t\treturn {alpnProtocol: result.alpnProtocol};\n\t\t\t}\n\n\t\t\tconst {path} = options;\n\t\t\toptions.path = options.socketPath;\n\n\t\t\tconst resultPromise = resolveALPN(options, connect);\n\t\t\tqueue.set(name, resultPromise);\n\n\t\t\ttry {\n\t\t\t\tconst result = await resultPromise;\n\n\t\t\t\tcache.set(name, result.alpnProtocol);\n\t\t\t\tqueue.delete(name);\n\n\t\t\t\toptions.path = path;\n\n\t\t\t\treturn result;\n\t\t\t} catch (error) {\n\t\t\t\tqueue.delete(name);\n\n\t\t\t\toptions.path = path;\n\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t}\n\n\t\treturn {alpnProtocol: cache.get(name)};\n\t};\n};\n\nconst defaultResolveProtocol = createResolveProtocol(cache, queue);\n\nmodule.exports = async (input, options, callback) => {\n\tif (typeof input === 'string') {\n\t\tinput = urlToHttpOptions(new URL(input));\n\t} else if (input instanceof URL) {\n\t\tinput = urlToHttpOptions(input);\n\t} else {\n\t\tinput = {...input};\n\t}\n\n\tif (typeof options === 'function' || options === undefined) {\n\t\t// (options, callback)\n\t\tcallback = options;\n\t\toptions = input;\n\t} else {\n\t\t// (input, options, callback)\n\t\toptions = Object.assign(input, options);\n\t}\n\n\toptions.ALPNProtocols = options.ALPNProtocols || ['h2', 'http/1.1'];\n\n\tif (!Array.isArray(options.ALPNProtocols) || options.ALPNProtocols.length === 0) {\n\t\tthrow new Error('The `ALPNProtocols` option must be an Array with at least one entry');\n\t}\n\n\toptions.protocol = options.protocol || 'https:';\n\tconst isHttps = options.protocol === 'https:';\n\n\toptions.host = options.hostname || options.host || 'localhost';\n\toptions.session = options.tlsSession;\n\toptions.servername = options.servername || calculateServerName((options.headers && options.headers.host) || options.host);\n\toptions.port = options.port || (isHttps ? 443 : 80);\n\toptions._defaultAgent = isHttps ? https.globalAgent : http.globalAgent;\n\n\tconst resolveProtocol = options.resolveProtocol || defaultResolveProtocol;\n\n\t// Note: We don't support `h2session` here\n\n\tlet {agent} = options;\n\tif (agent !== undefined && agent !== false && agent.constructor.name !== 'Object') {\n\t\tthrow new Error('The `options.agent` can be only an object `http`, `https` or `http2` properties');\n\t}\n\n\tif (isHttps) {\n\t\toptions.resolveSocket = true;\n\n\t\tlet {socket, alpnProtocol, timeout} = await resolveProtocol(options);\n\n\t\tif (timeout) {\n\t\t\tif (socket) {\n\t\t\t\tsocket.destroy();\n\t\t\t}\n\n\t\t\tconst error = new Error(`Timed out resolving ALPN: ${options.timeout} ms`);\n\t\t\terror.code = 'ETIMEDOUT';\n\t\t\terror.ms = options.timeout;\n\n\t\t\tthrow error;\n\t\t}\n\n\t\t// We can't accept custom `createConnection` because the API is different for HTTP/2\n\t\tif (socket && options.createConnection) {\n\t\t\tsocket.destroy();\n\t\t\tsocket = undefined;\n\t\t}\n\n\t\tdelete options.resolveSocket;\n\n\t\tconst isHttp2 = alpnProtocol === 'h2';\n\n\t\tif (agent) {\n\t\t\tagent = isHttp2 ? agent.http2 : agent.https;\n\t\t\toptions.agent = agent;\n\t\t}\n\n\t\tif (agent === undefined) {\n\t\t\tagent = isHttp2 ? globalAgent : https.globalAgent;\n\t\t}\n\n\t\tif (socket) {\n\t\t\tif (agent === false) {\n\t\t\t\tsocket.destroy();\n\t\t\t} else {\n\t\t\t\tconst defaultCreateConnection = (isHttp2 ? Agent : https.Agent).prototype.createConnection;\n\n\t\t\t\tif (agent.createConnection === defaultCreateConnection) {\n\t\t\t\t\tif (isHttp2) {\n\t\t\t\t\t\toptions._reuseSocket = socket;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tinstallSocket(agent, socket, options);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tsocket.destroy();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (isHttp2) {\n\t\t\treturn delayAsyncDestroy(new Http2ClientRequest(options, callback));\n\t\t}\n\t} else if (agent) {\n\t\toptions.agent = agent.http;\n\t}\n\n\t// If we're sending HTTP/1.1, handle any explicitly set H2 headers in the options:\n\tif (options.headers) {\n\t\toptions.headers = {...options.headers};\n\n\t\t// :authority is equivalent to the HTTP/1.1 host header\n\t\tif (options.headers[':authority']) {\n\t\t\tif (!options.headers.host) {\n\t\t\t\toptions.headers.host = options.headers[':authority'];\n\t\t\t}\n\n\t\t\tdelete options.headers[':authority'];\n\t\t}\n\n\t\t// Remove other HTTP/2 headers as they have their counterparts in the options\n\t\tdelete options.headers[':method'];\n\t\tdelete options.headers[':scheme'];\n\t\tdelete options.headers[':path'];\n\t}\n\n\treturn delayAsyncDestroy(http.request(options, callback));\n};\n\nmodule.exports.protocolCache = cache;\nmodule.exports.resolveProtocol = defaultResolveProtocol;\nmodule.exports.createResolveProtocol = createResolveProtocol;\n", "'use strict';\nconst stream = require('stream');\nconst tls = require('tls');\n\n// Really awesome hack.\nconst JSStreamSocket = (new tls.TLSSocket(new stream.PassThrough()))._handle._parentWrap.constructor;\n\nmodule.exports = JSStreamSocket;\n", "'use strict';\n\nclass UnexpectedStatusCodeError extends Error {\n\tconstructor(statusCode, statusMessage = '') {\n\t\tsuper(`The proxy server rejected the request with status code ${statusCode} (${statusMessage || 'empty status message'})`);\n\t\tthis.statusCode = statusCode;\n\t\tthis.statusMessage = statusMessage;\n\t}\n}\n\nmodule.exports = UnexpectedStatusCodeError;\n", "'use strict';\n\nconst checkType = (name, value, types) => {\n\tconst valid = types.some(type => {\n\t\tconst typeofType = typeof type;\n\t\tif (typeofType === 'string') {\n\t\t\treturn typeof value === type;\n\t\t}\n\n\t\treturn value instanceof type;\n\t});\n\n\tif (!valid) {\n\t\tconst names = types.map(type => typeof type === 'string' ? type : type.name);\n\n\t\tthrow new TypeError(`Expected '${name}' to be a type of ${names.join(' or ')}, got ${typeof value}`);\n\t}\n};\n\nmodule.exports = checkType;\n", "'use strict';\n// See https://github.com/facebook/jest/issues/2549\n// eslint-disable-next-line node/prefer-global/url\nconst {URL} = require('url');\nconst checkType = require('../utils/check-type.js');\n\nmodule.exports = (self, proxyOptions) => {\n\tcheckType('proxyOptions', proxyOptions, ['object']);\n\tcheckType('proxyOptions.headers', proxyOptions.headers, ['object', 'undefined']);\n\tcheckType('proxyOptions.raw', proxyOptions.raw, ['boolean', 'undefined']);\n\tcheckType('proxyOptions.url', proxyOptions.url, [URL, 'string']);\n\n\tconst url = new URL(proxyOptions.url);\n\n\tself.proxyOptions = {\n\t\traw: true,\n\t\t...proxyOptions,\n\t\theaders: {...proxyOptions.headers},\n\t\turl\n\t};\n};\n", "'use strict';\n\nmodule.exports = self => {\n\tconst {username, password} = self.proxyOptions.url;\n\n\tif (username || password) {\n\t\tconst data = `${username}:${password}`;\n\t\tconst authorization = `Basic ${Buffer.from(data).toString('base64')}`;\n\n\t\treturn {\n\t\t\t'proxy-authorization': authorization,\n\t\t\tauthorization\n\t\t};\n\t}\n\n\treturn {};\n};\n", "'use strict';\nconst tls = require('tls');\nconst http = require('http');\nconst https = require('https');\nconst JSStreamSocket = require('../utils/js-stream-socket.js');\nconst {globalAgent} = require('../agent.js');\nconst UnexpectedStatusCodeError = require('./unexpected-status-code-error.js');\nconst initialize = require('./initialize.js');\nconst getAuthorizationHeaders = require('./get-auth-headers.js');\n\nconst createConnection = (self, options, callback) => {\n\t(async () => {\n\t\ttry {\n\t\t\tconst {proxyOptions} = self;\n\t\t\tconst {url, headers, raw} = proxyOptions;\n\n\t\t\tconst stream = await globalAgent.request(url, proxyOptions, {\n\t\t\t\t...getAuthorizationHeaders(self),\n\t\t\t\t...headers,\n\t\t\t\t':method': 'CONNECT',\n\t\t\t\t':authority': `${options.host}:${options.port}`\n\t\t\t});\n\n\t\t\tstream.once('error', callback);\n\t\t\tstream.once('response', headers => {\n\t\t\t\tconst statusCode = headers[':status'];\n\n\t\t\t\tif (statusCode !== 200) {\n\t\t\t\t\tcallback(new UnexpectedStatusCodeError(statusCode, ''));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst encrypted = self instanceof https.Agent;\n\n\t\t\t\tif (raw && encrypted) {\n\t\t\t\t\toptions.socket = stream;\n\t\t\t\t\tconst secureStream = tls.connect(options);\n\n\t\t\t\t\tsecureStream.once('close', () => {\n\t\t\t\t\t\tstream.destroy();\n\t\t\t\t\t});\n\n\t\t\t\t\tcallback(null, secureStream);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst socket = new JSStreamSocket(stream);\n\t\t\t\tsocket.encrypted = false;\n\t\t\t\tsocket._handle.getpeername = out => {\n\t\t\t\t\tout.family = undefined;\n\t\t\t\t\tout.address = undefined;\n\t\t\t\t\tout.port = undefined;\n\t\t\t\t};\n\n\t\t\t\tcallback(null, socket);\n\t\t\t});\n\t\t} catch (error) {\n\t\t\tcallback(error);\n\t\t}\n\t})();\n};\n\nclass HttpOverHttp2 extends http.Agent {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tinitialize(this, options.proxyOptions);\n\t}\n\n\tcreateConnection(options, callback) {\n\t\tcreateConnection(this, options, callback);\n\t}\n}\n\nclass HttpsOverHttp2 extends https.Agent {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tinitialize(this, options.proxyOptions);\n\t}\n\n\tcreateConnection(options, callback) {\n\t\tcreateConnection(this, options, callback);\n\t}\n}\n\nmodule.exports = {\n\tHttpOverHttp2,\n\tHttpsOverHttp2\n};\n", "'use strict';\nconst {Agent} = require('../agent.js');\nconst JSStreamSocket = require('../utils/js-stream-socket.js');\nconst UnexpectedStatusCodeError = require('./unexpected-status-code-error.js');\nconst initialize = require('./initialize.js');\n\nclass Http2OverHttpX extends Agent {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tinitialize(this, options.proxyOptions);\n\t}\n\n\tasync createConnection(origin, options) {\n\t\tconst authority = `${origin.hostname}:${origin.port || 443}`;\n\n\t\tconst [stream, statusCode, statusMessage] = await this._getProxyStream(authority);\n\t\tif (statusCode !== 200) {\n\t\t\tthrow new UnexpectedStatusCodeError(statusCode, statusMessage);\n\t\t}\n\n\t\tif (this.proxyOptions.raw) {\n\t\t\toptions.socket = stream;\n\t\t} else {\n\t\t\tconst socket = new JSStreamSocket(stream);\n\t\t\tsocket.encrypted = false;\n\t\t\tsocket._handle.getpeername = out => {\n\t\t\t\tout.family = undefined;\n\t\t\t\tout.address = undefined;\n\t\t\t\tout.port = undefined;\n\t\t\t};\n\n\t\t\treturn socket;\n\t\t}\n\n\t\treturn super.createConnection(origin, options);\n\t}\n}\n\nmodule.exports = Http2OverHttpX;\n", "'use strict';\nconst {globalAgent} = require('../agent.js');\nconst Http2OverHttpX = require('./h2-over-hx.js');\nconst getAuthorizationHeaders = require('./get-auth-headers.js');\n\nconst getStatusCode = stream => new Promise((resolve, reject) => {\n\tstream.once('error', reject);\n\tstream.once('response', headers => {\n\t\tstream.off('error', reject);\n\t\tresolve(headers[':status']);\n\t});\n});\n\nclass Http2OverHttp2 extends Http2OverHttpX {\n\tasync _getProxyStream(authority) {\n\t\tconst {proxyOptions} = this;\n\n\t\tconst headers = {\n\t\t\t...getAuthorizationHeaders(this),\n\t\t\t...proxyOptions.headers,\n\t\t\t':method': 'CONNECT',\n\t\t\t':authority': authority\n\t\t};\n\n\t\tconst stream = await globalAgent.request(proxyOptions.url, proxyOptions, headers);\n\t\tconst statusCode = await getStatusCode(stream);\n\n\t\treturn [stream, statusCode, ''];\n\t}\n}\n\nmodule.exports = Http2OverHttp2;\n", "'use strict';\nconst http = require('http');\nconst https = require('https');\nconst Http2OverHttpX = require('./h2-over-hx.js');\nconst getAuthorizationHeaders = require('./get-auth-headers.js');\n\nconst getStream = request => new Promise((resolve, reject) => {\n\tconst onConnect = (response, socket, head) => {\n\t\tsocket.unshift(head);\n\n\t\trequest.off('error', reject);\n\t\tresolve([socket, response.statusCode, response.statusMessage]);\n\t};\n\n\trequest.once('error', reject);\n\trequest.once('connect', onConnect);\n});\n\nclass Http2OverHttp extends Http2OverHttpX {\n\tasync _getProxyStream(authority) {\n\t\tconst {proxyOptions} = this;\n\t\tconst {url, headers} = this.proxyOptions;\n\n\t\tconst network = url.protocol === 'https:' ? https : http;\n\n\t\t// `new URL('https://localhost/httpbin.org:443')` results in\n\t\t// a `/httpbin.org:443` path, which has an invalid leading slash.\n\t\tconst request = network.request({\n\t\t\t...proxyOptions,\n\t\t\thostname: url.hostname,\n\t\t\tport: url.port,\n\t\t\tpath: authority,\n\t\t\theaders: {\n\t\t\t\t...getAuthorizationHeaders(this),\n\t\t\t\t...headers,\n\t\t\t\thost: authority\n\t\t\t},\n\t\t\tmethod: 'CONNECT'\n\t\t}).end();\n\n\t\treturn getStream(request);\n\t}\n}\n\nmodule.exports = {\n\tHttp2OverHttp,\n\tHttp2OverHttps: Http2OverHttp\n};\n", "'use strict';\nconst http2 = require('http2');\nconst {\n\tAgent,\n\tglobalAgent\n} = require('./agent.js');\nconst ClientRequest = require('./client-request.js');\nconst IncomingMessage = require('./incoming-message.js');\nconst auto = require('./auto.js');\nconst {\n\tHttpOverHttp2,\n\tHttpsOverHttp2\n} = require('./proxies/h1-over-h2.js');\nconst Http2OverHttp2 = require('./proxies/h2-over-h2.js');\nconst {\n\tHttp2OverHttp,\n\tHttp2OverHttps\n} = require('./proxies/h2-over-h1.js');\nconst validateHeaderName = require('./utils/validate-header-name.js');\nconst validateHeaderValue = require('./utils/validate-header-value.js');\n\nconst request = (url, options, callback) => new ClientRequest(url, options, callback);\n\nconst get = (url, options, callback) => {\n\t// eslint-disable-next-line unicorn/prevent-abbreviations\n\tconst req = new ClientRequest(url, options, callback);\n\treq.end();\n\n\treturn req;\n};\n\nmodule.exports = {\n\t...http2,\n\tClientRequest,\n\tIncomingMessage,\n\tAgent,\n\tglobalAgent,\n\trequest,\n\tget,\n\tauto,\n\tproxies: {\n\t\tHttpOverHttp2,\n\t\tHttpsOverHttp2,\n\t\tHttp2OverHttp2,\n\t\tHttp2OverHttp,\n\t\tHttp2OverHttps\n\t},\n\tvalidateHeaderName,\n\tvalidateHeaderValue\n};\n", "exports.parse = exports.decode = decode\n\nexports.stringify = exports.encode = encode\n\nexports.safe = safe\nexports.unsafe = unsafe\n\nvar eol = typeof process !== 'undefined' &&\n  process.platform === 'win32' ? '\\r\\n' : '\\n'\n\nfunction encode (obj, opt) {\n  var children = []\n  var out = ''\n\n  if (typeof opt === 'string') {\n    opt = {\n      section: opt,\n      whitespace: false,\n    }\n  } else {\n    opt = opt || {}\n    opt.whitespace = opt.whitespace === true\n  }\n\n  var separator = opt.whitespace ? ' = ' : '='\n\n  Object.keys(obj).forEach(function (k, _, __) {\n    var val = obj[k]\n    if (val && Array.isArray(val)) {\n      val.forEach(function (item) {\n        out += safe(k + '[]') + separator + safe(item) + '\\n'\n      })\n    } else if (val && typeof val === 'object')\n      children.push(k)\n    else\n      out += safe(k) + separator + safe(val) + eol\n  })\n\n  if (opt.section && out.length)\n    out = '[' + safe(opt.section) + ']' + eol + out\n\n  children.forEach(function (k, _, __) {\n    var nk = dotSplit(k).join('\\\\.')\n    var section = (opt.section ? opt.section + '.' : '') + nk\n    var child = encode(obj[k], {\n      section: section,\n      whitespace: opt.whitespace,\n    })\n    if (out.length && child.length)\n      out += eol\n\n    out += child\n  })\n\n  return out\n}\n\nfunction dotSplit (str) {\n  return str.replace(/\\1/g, '\\u0002LITERAL\\\\1LITERAL\\u0002')\n    .replace(/\\\\\\./g, '\\u0001')\n    .split(/\\./).map(function (part) {\n      return part.replace(/\\1/g, '\\\\.')\n        .replace(/\\2LITERAL\\\\1LITERAL\\2/g, '\\u0001')\n    })\n}\n\nfunction decode (str) {\n  var out = {}\n  var p = out\n  var section = null\n  //          section     |key      = value\n  var re = /^\\[([^\\]]*)\\]$|^([^=]+)(=(.*))?$/i\n  var lines = str.split(/[\\r\\n]+/g)\n\n  lines.forEach(function (line, _, __) {\n    if (!line || line.match(/^\\s*[;#]/))\n      return\n    var match = line.match(re)\n    if (!match)\n      return\n    if (match[1] !== undefined) {\n      section = unsafe(match[1])\n      if (section === '__proto__') {\n        // not allowed\n        // keep parsing the section, but don't attach it.\n        p = {}\n        return\n      }\n      p = out[section] = out[section] || {}\n      return\n    }\n    var key = unsafe(match[2])\n    if (key === '__proto__')\n      return\n    var value = match[3] ? unsafe(match[4]) : true\n    switch (value) {\n      case 'true':\n      case 'false':\n      case 'null': value = JSON.parse(value)\n    }\n\n    // Convert keys with '[]' suffix to an array\n    if (key.length > 2 && key.slice(-2) === '[]') {\n      key = key.substring(0, key.length - 2)\n      if (key === '__proto__')\n        return\n      if (!p[key])\n        p[key] = []\n      else if (!Array.isArray(p[key]))\n        p[key] = [p[key]]\n    }\n\n    // safeguard against resetting a previously defined\n    // array by accidentally forgetting the brackets\n    if (Array.isArray(p[key]))\n      p[key].push(value)\n    else\n      p[key] = value\n  })\n\n  // {a:{y:1},\"a.b\":{x:2}} --> {a:{y:1,b:{x:2}}}\n  // use a filter to return the keys that have to be deleted.\n  Object.keys(out).filter(function (k, _, __) {\n    if (!out[k] ||\n      typeof out[k] !== 'object' ||\n      Array.isArray(out[k]))\n      return false\n\n    // see if the parent section is also an object.\n    // if so, add it to that, and mark this one for deletion\n    var parts = dotSplit(k)\n    var p = out\n    var l = parts.pop()\n    var nl = l.replace(/\\\\\\./g, '.')\n    parts.forEach(function (part, _, __) {\n      if (part === '__proto__')\n        return\n      if (!p[part] || typeof p[part] !== 'object')\n        p[part] = {}\n      p = p[part]\n    })\n    if (p === out && nl === l)\n      return false\n\n    p[nl] = out[k]\n    return true\n  }).forEach(function (del, _, __) {\n    delete out[del]\n  })\n\n  return out\n}\n\nfunction isQuoted (val) {\n  return (val.charAt(0) === '\"' && val.slice(-1) === '\"') ||\n    (val.charAt(0) === \"'\" && val.slice(-1) === \"'\")\n}\n\nfunction safe (val) {\n  return (typeof val !== 'string' ||\n    val.match(/[=\\r\\n]/) ||\n    val.match(/^\\[/) ||\n    (val.length > 1 &&\n     isQuoted(val)) ||\n    val !== val.trim())\n    ? JSON.stringify(val)\n    : val.replace(/;/g, '\\\\;').replace(/#/g, '\\\\#')\n}\n\nfunction unsafe (val, doUnesc) {\n  val = (val || '').trim()\n  if (isQuoted(val)) {\n    // remove the single quotes before calling JSON.parse\n    if (val.charAt(0) === \"'\")\n      val = val.substr(1, val.length - 2)\n\n    try {\n      val = JSON.parse(val)\n    } catch (_) {}\n  } else {\n    // walk the val to find the first not-escaped ; character\n    var esc = false\n    var unesc = ''\n    for (var i = 0, l = val.length; i < l; i++) {\n      var c = val.charAt(i)\n      if (esc) {\n        if ('\\\\;#'.indexOf(c) !== -1)\n          unesc += c\n        else\n          unesc += '\\\\' + c\n\n        esc = false\n      } else if (';#'.indexOf(c) !== -1)\n        break\n      else if (c === '\\\\')\n        esc = true\n      else\n        unesc += c\n    }\n    if (esc)\n      unesc += '\\\\'\n\n    return unesc.trim()\n  }\n  return val\n}\n", "'use strict';\nvar singleComment = 1;\nvar multiComment = 2;\n\nfunction stripWithoutWhitespace() {\n\treturn '';\n}\n\nfunction stripWithWhitespace(str, start, end) {\n\treturn str.slice(start, end).replace(/\\S/g, ' ');\n}\n\nmodule.exports = function (str, opts) {\n\topts = opts || {};\n\n\tvar currentChar;\n\tvar nextChar;\n\tvar insideString = false;\n\tvar insideComment = false;\n\tvar offset = 0;\n\tvar ret = '';\n\tvar strip = opts.whitespace === false ? stripWithoutWhitespace : stripWithWhitespace;\n\n\tfor (var i = 0; i < str.length; i++) {\n\t\tcurrentChar = str[i];\n\t\tnextChar = str[i + 1];\n\n\t\tif (!insideComment && currentChar === '\"') {\n\t\t\tvar escaped = str[i - 1] === '\\\\' && str[i - 2] !== '\\\\';\n\t\t\tif (!escaped) {\n\t\t\t\tinsideString = !insideString;\n\t\t\t}\n\t\t}\n\n\t\tif (insideString) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (!insideComment && currentChar + nextChar === '//') {\n\t\t\tret += str.slice(offset, i);\n\t\t\toffset = i;\n\t\t\tinsideComment = singleComment;\n\t\t\ti++;\n\t\t} else if (insideComment === singleComment && currentChar + nextChar === '\\r\\n') {\n\t\t\ti++;\n\t\t\tinsideComment = false;\n\t\t\tret += strip(str, offset, i);\n\t\t\toffset = i;\n\t\t\tcontinue;\n\t\t} else if (insideComment === singleComment && currentChar === '\\n') {\n\t\t\tinsideComment = false;\n\t\t\tret += strip(str, offset, i);\n\t\t\toffset = i;\n\t\t} else if (!insideComment && currentChar + nextChar === '/*') {\n\t\t\tret += str.slice(offset, i);\n\t\t\toffset = i;\n\t\t\tinsideComment = multiComment;\n\t\t\ti++;\n\t\t\tcontinue;\n\t\t} else if (insideComment === multiComment && currentChar + nextChar === '*/') {\n\t\t\ti++;\n\t\t\tinsideComment = false;\n\t\t\tret += strip(str, offset, i + 1);\n\t\t\toffset = i + 1;\n\t\t\tcontinue;\n\t\t}\n\t}\n\n\treturn ret + (insideComment ? strip(str.substr(offset)) : str.substr(offset));\n};\n", "'use strict';\nvar fs   = require('fs')\nvar ini  = require('ini')\nvar path = require('path')\nvar stripJsonComments = require('strip-json-comments')\n\nvar parse = exports.parse = function (content) {\n\n  //if it ends in .json or starts with { then it must be json.\n  //must be done this way, because ini accepts everything.\n  //can't just try and parse it and let it throw if it's not ini.\n  //everything is ini. even json with a syntax error.\n\n  if(/^\\s*{/.test(content))\n    return JSON.parse(stripJsonComments(content))\n  return ini.parse(content)\n\n}\n\nvar file = exports.file = function () {\n  var args = [].slice.call(arguments).filter(function (arg) { return arg != null })\n\n  //path.join breaks if it's a not a string, so just skip this.\n  for(var i in args)\n    if('string' !== typeof args[i])\n      return\n\n  var file = path.join.apply(null, args)\n  var content\n  try {\n    return fs.readFileSync(file,'utf-8')\n  } catch (err) {\n    return\n  }\n}\n\nvar json = exports.json = function () {\n  var content = file.apply(null, arguments)\n  return content ? parse(content) : null\n}\n\nvar env = exports.env = function (prefix, env) {\n  env = env || process.env\n  var obj = {}\n  var l = prefix.length\n  for(var k in env) {\n    if(k.toLowerCase().indexOf(prefix.toLowerCase()) === 0) {\n\n      var keypath = k.substring(l).split('__')\n\n      // Trim empty strings from keypath array\n      var _emptyStringIndex\n      while ((_emptyStringIndex=keypath.indexOf('')) > -1) {\n        keypath.splice(_emptyStringIndex, 1)\n      }\n\n      var cursor = obj\n      keypath.forEach(function _buildSubObj(_subkey,i){\n\n        // (check for _subkey first so we ignore empty strings)\n        // (check for cursor to avoid assignment to primitive objects)\n        if (!_subkey || typeof cursor !== 'object')\n          return\n\n        // If this is the last key, just stuff the value in there\n        // Assigns actual value from env variable to final key\n        // (unless it's just an empty string- in that case use the last valid key)\n        if (i === keypath.length-1)\n          cursor[_subkey] = env[k]\n\n\n        // Build sub-object if nothing already exists at the keypath\n        if (cursor[_subkey] === undefined)\n          cursor[_subkey] = {}\n\n        // Increment cursor used to track the object at the current depth\n        cursor = cursor[_subkey]\n\n      })\n\n    }\n\n  }\n\n  return obj\n}\n\nvar find = exports.find = function () {\n  var rel = path.join.apply(null, [].slice.call(arguments))\n\n  function find(start, rel) {\n    var file = path.join(start, rel)\n    try {\n      fs.statSync(file)\n      return file\n    } catch (err) {\n      if(path.dirname(start) !== start) // root\n        return find(path.dirname(start), rel)\n    }\n  }\n  return find(process.cwd(), rel)\n}\n\n\n", "/*!\n * @description Recursive object extending\n * @author Viacheslav Lotsmanov <lotsmanov89@gmail.com>\n * @license MIT\n *\n * The MIT License (MIT)\n *\n * Copyright (c) 2013-2018 Viacheslav Lotsmanov\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of\n * this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to\n * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n * the Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\n * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\n * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\n * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\n'use strict';\n\nfunction isSpecificValue(val) {\n\treturn (\n\t\tval instanceof Buffer\n\t\t|| val instanceof Date\n\t\t|| val instanceof RegExp\n\t) ? true : false;\n}\n\nfunction cloneSpecificValue(val) {\n\tif (val instanceof Buffer) {\n\t\tvar x = Buffer.alloc\n\t\t\t? Buffer.alloc(val.length)\n\t\t\t: new Buffer(val.length);\n\t\tval.copy(x);\n\t\treturn x;\n\t} else if (val instanceof Date) {\n\t\treturn new Date(val.getTime());\n\t} else if (val instanceof RegExp) {\n\t\treturn new RegExp(val);\n\t} else {\n\t\tthrow new Error('Unexpected situation');\n\t}\n}\n\n/**\n * Recursive cloning array.\n */\nfunction deepCloneArray(arr) {\n\tvar clone = [];\n\tarr.forEach(function (item, index) {\n\t\tif (typeof item === 'object' && item !== null) {\n\t\t\tif (Array.isArray(item)) {\n\t\t\t\tclone[index] = deepCloneArray(item);\n\t\t\t} else if (isSpecificValue(item)) {\n\t\t\t\tclone[index] = cloneSpecificValue(item);\n\t\t\t} else {\n\t\t\t\tclone[index] = deepExtend({}, item);\n\t\t\t}\n\t\t} else {\n\t\t\tclone[index] = item;\n\t\t}\n\t});\n\treturn clone;\n}\n\nfunction safeGetProperty(object, property) {\n\treturn property === '__proto__' ? undefined : object[property];\n}\n\n/**\n * Extening object that entered in first argument.\n *\n * Returns extended object or false if have no target object or incorrect type.\n *\n * If you wish to clone source object (without modify it), just use empty new\n * object as first argument, like this:\n *   deepExtend({}, yourObj_1, [yourObj_N]);\n */\nvar deepExtend = module.exports = function (/*obj_1, [obj_2], [obj_N]*/) {\n\tif (arguments.length < 1 || typeof arguments[0] !== 'object') {\n\t\treturn false;\n\t}\n\n\tif (arguments.length < 2) {\n\t\treturn arguments[0];\n\t}\n\n\tvar target = arguments[0];\n\n\t// convert arguments to array and cut off target object\n\tvar args = Array.prototype.slice.call(arguments, 1);\n\n\tvar val, src, clone;\n\n\targs.forEach(function (obj) {\n\t\t// skip argument if isn't an object, is null, or is an array\n\t\tif (typeof obj !== 'object' || obj === null || Array.isArray(obj)) {\n\t\t\treturn;\n\t\t}\n\n\t\tObject.keys(obj).forEach(function (key) {\n\t\t\tsrc = safeGetProperty(target, key); // source value\n\t\t\tval = safeGetProperty(obj, key); // new value\n\n\t\t\t// recursion prevention\n\t\t\tif (val === target) {\n\t\t\t\treturn;\n\n\t\t\t/**\n\t\t\t * if new value isn't object then just overwrite by new value\n\t\t\t * instead of extending.\n\t\t\t */\n\t\t\t} else if (typeof val !== 'object' || val === null) {\n\t\t\t\ttarget[key] = val;\n\t\t\t\treturn;\n\n\t\t\t// just clone arrays (and recursive clone objects inside)\n\t\t\t} else if (Array.isArray(val)) {\n\t\t\t\ttarget[key] = deepCloneArray(val);\n\t\t\t\treturn;\n\n\t\t\t// custom cloning and overwrite for specific objects\n\t\t\t} else if (isSpecificValue(val)) {\n\t\t\t\ttarget[key] = cloneSpecificValue(val);\n\t\t\t\treturn;\n\n\t\t\t// overwrite by new value if source isn't object or array\n\t\t\t} else if (typeof src !== 'object' || src === null || Array.isArray(src)) {\n\t\t\t\ttarget[key] = deepExtend({}, val);\n\t\t\t\treturn;\n\n\t\t\t// source value and new value is objects both, extending...\n\t\t\t} else {\n\t\t\t\ttarget[key] = deepExtend(src, val);\n\t\t\t\treturn;\n\t\t\t}\n\t\t});\n\t});\n\n\treturn target;\n};\n", "'use strict';\n\nfunction hasKey(obj, keys) {\n\tvar o = obj;\n\tkeys.slice(0, -1).forEach(function (key) {\n\t\to = o[key] || {};\n\t});\n\n\tvar key = keys[keys.length - 1];\n\treturn key in o;\n}\n\nfunction isNumber(x) {\n\tif (typeof x === 'number') { return true; }\n\tif ((/^0x[0-9a-f]+$/i).test(x)) { return true; }\n\treturn (/^[-+]?(?:\\d+(?:\\.\\d*)?|\\.\\d+)(e[-+]?\\d+)?$/).test(x);\n}\n\nfunction isConstructorOrProto(obj, key) {\n\treturn (key === 'constructor' && typeof obj[key] === 'function') || key === '__proto__';\n}\n\nmodule.exports = function (args, opts) {\n\tif (!opts) { opts = {}; }\n\n\tvar flags = {\n\t\tbools: {},\n\t\tstrings: {},\n\t\tunknownFn: null,\n\t};\n\n\tif (typeof opts.unknown === 'function') {\n\t\tflags.unknownFn = opts.unknown;\n\t}\n\n\tif (typeof opts.boolean === 'boolean' && opts.boolean) {\n\t\tflags.allBools = true;\n\t} else {\n\t\t[].concat(opts.boolean).filter(Boolean).forEach(function (key) {\n\t\t\tflags.bools[key] = true;\n\t\t});\n\t}\n\n\tvar aliases = {};\n\n\tfunction aliasIsBoolean(key) {\n\t\treturn aliases[key].some(function (x) {\n\t\t\treturn flags.bools[x];\n\t\t});\n\t}\n\n\tObject.keys(opts.alias || {}).forEach(function (key) {\n\t\taliases[key] = [].concat(opts.alias[key]);\n\t\taliases[key].forEach(function (x) {\n\t\t\taliases[x] = [key].concat(aliases[key].filter(function (y) {\n\t\t\t\treturn x !== y;\n\t\t\t}));\n\t\t});\n\t});\n\n\t[].concat(opts.string).filter(Boolean).forEach(function (key) {\n\t\tflags.strings[key] = true;\n\t\tif (aliases[key]) {\n\t\t\t[].concat(aliases[key]).forEach(function (k) {\n\t\t\t\tflags.strings[k] = true;\n\t\t\t});\n\t\t}\n\t});\n\n\tvar defaults = opts.default || {};\n\n\tvar argv = { _: [] };\n\n\tfunction argDefined(key, arg) {\n\t\treturn (flags.allBools && (/^--[^=]+$/).test(arg))\n\t\t\t|| flags.strings[key]\n\t\t\t|| flags.bools[key]\n\t\t\t|| aliases[key];\n\t}\n\n\tfunction setKey(obj, keys, value) {\n\t\tvar o = obj;\n\t\tfor (var i = 0; i < keys.length - 1; i++) {\n\t\t\tvar key = keys[i];\n\t\t\tif (isConstructorOrProto(o, key)) { return; }\n\t\t\tif (o[key] === undefined) { o[key] = {}; }\n\t\t\tif (\n\t\t\t\to[key] === Object.prototype\n\t\t\t\t|| o[key] === Number.prototype\n\t\t\t\t|| o[key] === String.prototype\n\t\t\t) {\n\t\t\t\to[key] = {};\n\t\t\t}\n\t\t\tif (o[key] === Array.prototype) { o[key] = []; }\n\t\t\to = o[key];\n\t\t}\n\n\t\tvar lastKey = keys[keys.length - 1];\n\t\tif (isConstructorOrProto(o, lastKey)) { return; }\n\t\tif (\n\t\t\to === Object.prototype\n\t\t\t|| o === Number.prototype\n\t\t\t|| o === String.prototype\n\t\t) {\n\t\t\to = {};\n\t\t}\n\t\tif (o === Array.prototype) { o = []; }\n\t\tif (o[lastKey] === undefined || flags.bools[lastKey] || typeof o[lastKey] === 'boolean') {\n\t\t\to[lastKey] = value;\n\t\t} else if (Array.isArray(o[lastKey])) {\n\t\t\to[lastKey].push(value);\n\t\t} else {\n\t\t\to[lastKey] = [o[lastKey], value];\n\t\t}\n\t}\n\n\tfunction setArg(key, val, arg) {\n\t\tif (arg && flags.unknownFn && !argDefined(key, arg)) {\n\t\t\tif (flags.unknownFn(arg) === false) { return; }\n\t\t}\n\n\t\tvar value = !flags.strings[key] && isNumber(val)\n\t\t\t? Number(val)\n\t\t\t: val;\n\t\tsetKey(argv, key.split('.'), value);\n\n\t\t(aliases[key] || []).forEach(function (x) {\n\t\t\tsetKey(argv, x.split('.'), value);\n\t\t});\n\t}\n\n\tObject.keys(flags.bools).forEach(function (key) {\n\t\tsetArg(key, defaults[key] === undefined ? false : defaults[key]);\n\t});\n\n\tvar notFlags = [];\n\n\tif (args.indexOf('--') !== -1) {\n\t\tnotFlags = args.slice(args.indexOf('--') + 1);\n\t\targs = args.slice(0, args.indexOf('--'));\n\t}\n\n\tfor (var i = 0; i < args.length; i++) {\n\t\tvar arg = args[i];\n\t\tvar key;\n\t\tvar next;\n\n\t\tif ((/^--.+=/).test(arg)) {\n\t\t\t// Using [\\s\\S] instead of . because js doesn't support the\n\t\t\t// 'dotall' regex modifier. See:\n\t\t\t// http://stackoverflow.com/a/1068308/13216\n\t\t\tvar m = arg.match(/^--([^=]+)=([\\s\\S]*)$/);\n\t\t\tkey = m[1];\n\t\t\tvar value = m[2];\n\t\t\tif (flags.bools[key]) {\n\t\t\t\tvalue = value !== 'false';\n\t\t\t}\n\t\t\tsetArg(key, value, arg);\n\t\t} else if ((/^--no-.+/).test(arg)) {\n\t\t\tkey = arg.match(/^--no-(.+)/)[1];\n\t\t\tsetArg(key, false, arg);\n\t\t} else if ((/^--.+/).test(arg)) {\n\t\t\tkey = arg.match(/^--(.+)/)[1];\n\t\t\tnext = args[i + 1];\n\t\t\tif (\n\t\t\t\tnext !== undefined\n\t\t\t\t&& !(/^(-|--)[^-]/).test(next)\n\t\t\t\t&& !flags.bools[key]\n\t\t\t\t&& !flags.allBools\n\t\t\t\t&& (aliases[key] ? !aliasIsBoolean(key) : true)\n\t\t\t) {\n\t\t\t\tsetArg(key, next, arg);\n\t\t\t\ti += 1;\n\t\t\t} else if ((/^(true|false)$/).test(next)) {\n\t\t\t\tsetArg(key, next === 'true', arg);\n\t\t\t\ti += 1;\n\t\t\t} else {\n\t\t\t\tsetArg(key, flags.strings[key] ? '' : true, arg);\n\t\t\t}\n\t\t} else if ((/^-[^-]+/).test(arg)) {\n\t\t\tvar letters = arg.slice(1, -1).split('');\n\n\t\t\tvar broken = false;\n\t\t\tfor (var j = 0; j < letters.length; j++) {\n\t\t\t\tnext = arg.slice(j + 2);\n\n\t\t\t\tif (next === '-') {\n\t\t\t\t\tsetArg(letters[j], next, arg);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif ((/[A-Za-z]/).test(letters[j]) && next[0] === '=') {\n\t\t\t\t\tsetArg(letters[j], next.slice(1), arg);\n\t\t\t\t\tbroken = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(/[A-Za-z]/).test(letters[j])\n\t\t\t\t\t&& (/-?\\d+(\\.\\d*)?(e-?\\d+)?$/).test(next)\n\t\t\t\t) {\n\t\t\t\t\tsetArg(letters[j], next, arg);\n\t\t\t\t\tbroken = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (letters[j + 1] && letters[j + 1].match(/\\W/)) {\n\t\t\t\t\tsetArg(letters[j], arg.slice(j + 2), arg);\n\t\t\t\t\tbroken = true;\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\tsetArg(letters[j], flags.strings[letters[j]] ? '' : true, arg);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tkey = arg.slice(-1)[0];\n\t\t\tif (!broken && key !== '-') {\n\t\t\t\tif (\n\t\t\t\t\targs[i + 1]\n\t\t\t\t\t&& !(/^(-|--)[^-]/).test(args[i + 1])\n\t\t\t\t\t&& !flags.bools[key]\n\t\t\t\t\t&& (aliases[key] ? !aliasIsBoolean(key) : true)\n\t\t\t\t) {\n\t\t\t\t\tsetArg(key, args[i + 1], arg);\n\t\t\t\t\ti += 1;\n\t\t\t\t} else if (args[i + 1] && (/^(true|false)$/).test(args[i + 1])) {\n\t\t\t\t\tsetArg(key, args[i + 1] === 'true', arg);\n\t\t\t\t\ti += 1;\n\t\t\t\t} else {\n\t\t\t\t\tsetArg(key, flags.strings[key] ? '' : true, arg);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (!flags.unknownFn || flags.unknownFn(arg) !== false) {\n\t\t\t\targv._.push(flags.strings._ || !isNumber(arg) ? arg : Number(arg));\n\t\t\t}\n\t\t\tif (opts.stopEarly) {\n\t\t\t\targv._.push.apply(argv._, args.slice(i + 1));\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tObject.keys(defaults).forEach(function (k) {\n\t\tif (!hasKey(argv, k.split('.'))) {\n\t\t\tsetKey(argv, k.split('.'), defaults[k]);\n\n\t\t\t(aliases[k] || []).forEach(function (x) {\n\t\t\t\tsetKey(argv, x.split('.'), defaults[k]);\n\t\t\t});\n\t\t}\n\t});\n\n\tif (opts['--']) {\n\t\targv['--'] = notFlags.slice();\n\t} else {\n\t\tnotFlags.forEach(function (k) {\n\t\t\targv._.push(k);\n\t\t});\n\t}\n\n\treturn argv;\n};\n", "var cc   = require('./lib/utils')\nvar join = require('path').join\nvar deepExtend = require('deep-extend')\nvar etc = '/etc'\nvar win = process.platform === \"win32\"\nvar home = win\n           ? process.env.USERPROFILE\n           : process.env.HOME\n\nmodule.exports = function (name, defaults, argv, parse) {\n  if('string' !== typeof name)\n    throw new Error('rc(name): name *must* be string')\n  if(!argv)\n    argv = require('minimist')(process.argv.slice(2))\n  defaults = (\n      'string' === typeof defaults\n    ? cc.json(defaults) : defaults\n    ) || {}\n\n  parse = parse || cc.parse\n\n  var env = cc.env(name + '_')\n\n  var configs = [defaults]\n  var configFiles = []\n  function addConfigFile (file) {\n    if (configFiles.indexOf(file) >= 0) return\n    var fileConfig = cc.file(file)\n    if (fileConfig) {\n      configs.push(parse(fileConfig))\n      configFiles.push(file)\n    }\n  }\n\n  // which files do we look at?\n  if (!win)\n   [join(etc, name, 'config'),\n    join(etc, name + 'rc')].forEach(addConfigFile)\n  if (home)\n   [join(home, '.config', name, 'config'),\n    join(home, '.config', name),\n    join(home, '.' + name, 'config'),\n    join(home, '.' + name + 'rc')].forEach(addConfigFile)\n  addConfigFile(cc.find('.'+name+'rc'))\n  if (env.config) addConfigFile(env.config)\n  if (argv.config) addConfigFile(argv.config)\n\n  return deepExtend.apply(null, configs.concat([\n    env,\n    argv,\n    configFiles.length ? {configs: configFiles, config: configFiles[configFiles.length - 1]} : undefined,\n  ]))\n}\n", "var constants = require('constants')\n\nvar origCwd = process.cwd\nvar cwd = null\n\nvar platform = process.env.GRACEFUL_FS_PLATFORM || process.platform\n\nprocess.cwd = function() {\n  if (!cwd)\n    cwd = origCwd.call(process)\n  return cwd\n}\ntry {\n  process.cwd()\n} catch (er) {}\n\n// This check is needed until node.js 12 is required\nif (typeof process.chdir === 'function') {\n  var chdir = process.chdir\n  process.chdir = function (d) {\n    cwd = null\n    chdir.call(process, d)\n  }\n  if (Object.setPrototypeOf) Object.setPrototypeOf(process.chdir, chdir)\n}\n\nmodule.exports = patch\n\nfunction patch (fs) {\n  // (re-)implement some things that are known busted or missing.\n\n  // lchmod, broken prior to 0.6.2\n  // back-port the fix here.\n  if (constants.hasOwnProperty('O_SYMLINK') &&\n      process.version.match(/^v0\\.6\\.[0-2]|^v0\\.5\\./)) {\n    patchLchmod(fs)\n  }\n\n  // lutimes implementation, or no-op\n  if (!fs.lutimes) {\n    patchLutimes(fs)\n  }\n\n  // https://github.com/isaacs/node-graceful-fs/issues/4\n  // Chown should not fail on einval or eperm if non-root.\n  // It should not fail on enosys ever, as this just indicates\n  // that a fs doesn't support the intended operation.\n\n  fs.chown = chownFix(fs.chown)\n  fs.fchown = chownFix(fs.fchown)\n  fs.lchown = chownFix(fs.lchown)\n\n  fs.chmod = chmodFix(fs.chmod)\n  fs.fchmod = chmodFix(fs.fchmod)\n  fs.lchmod = chmodFix(fs.lchmod)\n\n  fs.chownSync = chownFixSync(fs.chownSync)\n  fs.fchownSync = chownFixSync(fs.fchownSync)\n  fs.lchownSync = chownFixSync(fs.lchownSync)\n\n  fs.chmodSync = chmodFixSync(fs.chmodSync)\n  fs.fchmodSync = chmodFixSync(fs.fchmodSync)\n  fs.lchmodSync = chmodFixSync(fs.lchmodSync)\n\n  fs.stat = statFix(fs.stat)\n  fs.fstat = statFix(fs.fstat)\n  fs.lstat = statFix(fs.lstat)\n\n  fs.statSync = statFixSync(fs.statSync)\n  fs.fstatSync = statFixSync(fs.fstatSync)\n  fs.lstatSync = statFixSync(fs.lstatSync)\n\n  // if lchmod/lchown do not exist, then make them no-ops\n  if (fs.chmod && !fs.lchmod) {\n    fs.lchmod = function (path, mode, cb) {\n      if (cb) process.nextTick(cb)\n    }\n    fs.lchmodSync = function () {}\n  }\n  if (fs.chown && !fs.lchown) {\n    fs.lchown = function (path, uid, gid, cb) {\n      if (cb) process.nextTick(cb)\n    }\n    fs.lchownSync = function () {}\n  }\n\n  // on Windows, A/V software can lock the directory, causing this\n  // to fail with an EACCES or EPERM if the directory contains newly\n  // created files.  Try again on failure, for up to 60 seconds.\n\n  // Set the timeout this long because some Windows Anti-Virus, such as Parity\n  // bit9, may lock files for up to a minute, causing npm package install\n  // failures. Also, take care to yield the scheduler. Windows scheduling gives\n  // CPU to a busy looping process, which can cause the program causing the lock\n  // contention to be starved of CPU by node, so the contention doesn't resolve.\n  if (platform === \"win32\") {\n    fs.rename = typeof fs.rename !== 'function' ? fs.rename\n    : (function (fs$rename) {\n      function rename (from, to, cb) {\n        var start = Date.now()\n        var backoff = 0;\n        fs$rename(from, to, function CB (er) {\n          if (er\n              && (er.code === \"EACCES\" || er.code === \"EPERM\")\n              && Date.now() - start < 60000) {\n            setTimeout(function() {\n              fs.stat(to, function (stater, st) {\n                if (stater && stater.code === \"ENOENT\")\n                  fs$rename(from, to, CB);\n                else\n                  cb(er)\n              })\n            }, backoff)\n            if (backoff < 100)\n              backoff += 10;\n            return;\n          }\n          if (cb) cb(er)\n        })\n      }\n      if (Object.setPrototypeOf) Object.setPrototypeOf(rename, fs$rename)\n      return rename\n    })(fs.rename)\n  }\n\n  // if read() returns EAGAIN, then just try it again.\n  fs.read = typeof fs.read !== 'function' ? fs.read\n  : (function (fs$read) {\n    function read (fd, buffer, offset, length, position, callback_) {\n      var callback\n      if (callback_ && typeof callback_ === 'function') {\n        var eagCounter = 0\n        callback = function (er, _, __) {\n          if (er && er.code === 'EAGAIN' && eagCounter < 10) {\n            eagCounter ++\n            return fs$read.call(fs, fd, buffer, offset, length, position, callback)\n          }\n          callback_.apply(this, arguments)\n        }\n      }\n      return fs$read.call(fs, fd, buffer, offset, length, position, callback)\n    }\n\n    // This ensures `util.promisify` works as it does for native `fs.read`.\n    if (Object.setPrototypeOf) Object.setPrototypeOf(read, fs$read)\n    return read\n  })(fs.read)\n\n  fs.readSync = typeof fs.readSync !== 'function' ? fs.readSync\n  : (function (fs$readSync) { return function (fd, buffer, offset, length, position) {\n    var eagCounter = 0\n    while (true) {\n      try {\n        return fs$readSync.call(fs, fd, buffer, offset, length, position)\n      } catch (er) {\n        if (er.code === 'EAGAIN' && eagCounter < 10) {\n          eagCounter ++\n          continue\n        }\n        throw er\n      }\n    }\n  }})(fs.readSync)\n\n  function patchLchmod (fs) {\n    fs.lchmod = function (path, mode, callback) {\n      fs.open( path\n             , constants.O_WRONLY | constants.O_SYMLINK\n             , mode\n             , function (err, fd) {\n        if (err) {\n          if (callback) callback(err)\n          return\n        }\n        // prefer to return the chmod error, if one occurs,\n        // but still try to close, and report closing errors if they occur.\n        fs.fchmod(fd, mode, function (err) {\n          fs.close(fd, function(err2) {\n            if (callback) callback(err || err2)\n          })\n        })\n      })\n    }\n\n    fs.lchmodSync = function (path, mode) {\n      var fd = fs.openSync(path, constants.O_WRONLY | constants.O_SYMLINK, mode)\n\n      // prefer to return the chmod error, if one occurs,\n      // but still try to close, and report closing errors if they occur.\n      var threw = true\n      var ret\n      try {\n        ret = fs.fchmodSync(fd, mode)\n        threw = false\n      } finally {\n        if (threw) {\n          try {\n            fs.closeSync(fd)\n          } catch (er) {}\n        } else {\n          fs.closeSync(fd)\n        }\n      }\n      return ret\n    }\n  }\n\n  function patchLutimes (fs) {\n    if (constants.hasOwnProperty(\"O_SYMLINK\") && fs.futimes) {\n      fs.lutimes = function (path, at, mt, cb) {\n        fs.open(path, constants.O_SYMLINK, function (er, fd) {\n          if (er) {\n            if (cb) cb(er)\n            return\n          }\n          fs.futimes(fd, at, mt, function (er) {\n            fs.close(fd, function (er2) {\n              if (cb) cb(er || er2)\n            })\n          })\n        })\n      }\n\n      fs.lutimesSync = function (path, at, mt) {\n        var fd = fs.openSync(path, constants.O_SYMLINK)\n        var ret\n        var threw = true\n        try {\n          ret = fs.futimesSync(fd, at, mt)\n          threw = false\n        } finally {\n          if (threw) {\n            try {\n              fs.closeSync(fd)\n            } catch (er) {}\n          } else {\n            fs.closeSync(fd)\n          }\n        }\n        return ret\n      }\n\n    } else if (fs.futimes) {\n      fs.lutimes = function (_a, _b, _c, cb) { if (cb) process.nextTick(cb) }\n      fs.lutimesSync = function () {}\n    }\n  }\n\n  function chmodFix (orig) {\n    if (!orig) return orig\n    return function (target, mode, cb) {\n      return orig.call(fs, target, mode, function (er) {\n        if (chownErOk(er)) er = null\n        if (cb) cb.apply(this, arguments)\n      })\n    }\n  }\n\n  function chmodFixSync (orig) {\n    if (!orig) return orig\n    return function (target, mode) {\n      try {\n        return orig.call(fs, target, mode)\n      } catch (er) {\n        if (!chownErOk(er)) throw er\n      }\n    }\n  }\n\n\n  function chownFix (orig) {\n    if (!orig) return orig\n    return function (target, uid, gid, cb) {\n      return orig.call(fs, target, uid, gid, function (er) {\n        if (chownErOk(er)) er = null\n        if (cb) cb.apply(this, arguments)\n      })\n    }\n  }\n\n  function chownFixSync (orig) {\n    if (!orig) return orig\n    return function (target, uid, gid) {\n      try {\n        return orig.call(fs, target, uid, gid)\n      } catch (er) {\n        if (!chownErOk(er)) throw er\n      }\n    }\n  }\n\n  function statFix (orig) {\n    if (!orig) return orig\n    // Older versions of Node erroneously returned signed integers for\n    // uid + gid.\n    return function (target, options, cb) {\n      if (typeof options === 'function') {\n        cb = options\n        options = null\n      }\n      function callback (er, stats) {\n        if (stats) {\n          if (stats.uid < 0) stats.uid += 0x100000000\n          if (stats.gid < 0) stats.gid += 0x100000000\n        }\n        if (cb) cb.apply(this, arguments)\n      }\n      return options ? orig.call(fs, target, options, callback)\n        : orig.call(fs, target, callback)\n    }\n  }\n\n  function statFixSync (orig) {\n    if (!orig) return orig\n    // Older versions of Node erroneously returned signed integers for\n    // uid + gid.\n    return function (target, options) {\n      var stats = options ? orig.call(fs, target, options)\n        : orig.call(fs, target)\n      if (stats) {\n        if (stats.uid < 0) stats.uid += 0x100000000\n        if (stats.gid < 0) stats.gid += 0x100000000\n      }\n      return stats;\n    }\n  }\n\n  // ENOSYS means that the fs doesn't support the op. Just ignore\n  // that, because it doesn't matter.\n  //\n  // if there's no getuid, or if getuid() is something other\n  // than 0, and the error is EINVAL or EPERM, then just ignore\n  // it.\n  //\n  // This specific case is a silent failure in cp, install, tar,\n  // and most other unix tools that manage permissions.\n  //\n  // When running as root, or if other types of errors are\n  // encountered, then it's strict.\n  function chownErOk (er) {\n    if (!er)\n      return true\n\n    if (er.code === \"ENOSYS\")\n      return true\n\n    var nonroot = !process.getuid || process.getuid() !== 0\n    if (nonroot) {\n      if (er.code === \"EINVAL\" || er.code === \"EPERM\")\n        return true\n    }\n\n    return false\n  }\n}\n", "var Stream = require('stream').Stream\n\nmodule.exports = legacy\n\nfunction legacy (fs) {\n  return {\n    ReadStream: ReadStream,\n    WriteStream: WriteStream\n  }\n\n  function ReadStream (path, options) {\n    if (!(this instanceof ReadStream)) return new ReadStream(path, options);\n\n    Stream.call(this);\n\n    var self = this;\n\n    this.path = path;\n    this.fd = null;\n    this.readable = true;\n    this.paused = false;\n\n    this.flags = 'r';\n    this.mode = 438; /*=0666*/\n    this.bufferSize = 64 * 1024;\n\n    options = options || {};\n\n    // Mixin options into this\n    var keys = Object.keys(options);\n    for (var index = 0, length = keys.length; index < length; index++) {\n      var key = keys[index];\n      this[key] = options[key];\n    }\n\n    if (this.encoding) this.setEncoding(this.encoding);\n\n    if (this.start !== undefined) {\n      if ('number' !== typeof this.start) {\n        throw TypeError('start must be a Number');\n      }\n      if (this.end === undefined) {\n        this.end = Infinity;\n      } else if ('number' !== typeof this.end) {\n        throw TypeError('end must be a Number');\n      }\n\n      if (this.start > this.end) {\n        throw new Error('start must be <= end');\n      }\n\n      this.pos = this.start;\n    }\n\n    if (this.fd !== null) {\n      process.nextTick(function() {\n        self._read();\n      });\n      return;\n    }\n\n    fs.open(this.path, this.flags, this.mode, function (err, fd) {\n      if (err) {\n        self.emit('error', err);\n        self.readable = false;\n        return;\n      }\n\n      self.fd = fd;\n      self.emit('open', fd);\n      self._read();\n    })\n  }\n\n  function WriteStream (path, options) {\n    if (!(this instanceof WriteStream)) return new WriteStream(path, options);\n\n    Stream.call(this);\n\n    this.path = path;\n    this.fd = null;\n    this.writable = true;\n\n    this.flags = 'w';\n    this.encoding = 'binary';\n    this.mode = 438; /*=0666*/\n    this.bytesWritten = 0;\n\n    options = options || {};\n\n    // Mixin options into this\n    var keys = Object.keys(options);\n    for (var index = 0, length = keys.length; index < length; index++) {\n      var key = keys[index];\n      this[key] = options[key];\n    }\n\n    if (this.start !== undefined) {\n      if ('number' !== typeof this.start) {\n        throw TypeError('start must be a Number');\n      }\n      if (this.start < 0) {\n        throw new Error('start must be >= zero');\n      }\n\n      this.pos = this.start;\n    }\n\n    this.busy = false;\n    this._queue = [];\n\n    if (this.fd === null) {\n      this._open = fs.open;\n      this._queue.push([this._open, this.path, this.flags, this.mode, undefined]);\n      this.flush();\n    }\n  }\n}\n", "'use strict'\n\nmodule.exports = clone\n\nvar getPrototypeOf = Object.getPrototypeOf || function (obj) {\n  return obj.__proto__\n}\n\nfunction clone (obj) {\n  if (obj === null || typeof obj !== 'object')\n    return obj\n\n  if (obj instanceof Object)\n    var copy = { __proto__: getPrototypeOf(obj) }\n  else\n    var copy = Object.create(null)\n\n  Object.getOwnPropertyNames(obj).forEach(function (key) {\n    Object.defineProperty(copy, key, Object.getOwnPropertyDescriptor(obj, key))\n  })\n\n  return copy\n}\n", "var fs = require('fs')\nvar polyfills = require('./polyfills.js')\nvar legacy = require('./legacy-streams.js')\nvar clone = require('./clone.js')\n\nvar util = require('util')\n\n/* istanbul ignore next - node 0.x polyfill */\nvar gracefulQueue\nvar previousSymbol\n\n/* istanbul ignore else - node 0.x polyfill */\nif (typeof Symbol === 'function' && typeof Symbol.for === 'function') {\n  gracefulQueue = Symbol.for('graceful-fs.queue')\n  // This is used in testing by future versions\n  previousSymbol = Symbol.for('graceful-fs.previous')\n} else {\n  gracefulQueue = '___graceful-fs.queue'\n  previousSymbol = '___graceful-fs.previous'\n}\n\nfunction noop () {}\n\nfunction publishQueue(context, queue) {\n  Object.defineProperty(context, gracefulQueue, {\n    get: function() {\n      return queue\n    }\n  })\n}\n\nvar debug = noop\nif (util.debuglog)\n  debug = util.debuglog('gfs4')\nelse if (/\\bgfs4\\b/i.test(process.env.NODE_DEBUG || ''))\n  debug = function() {\n    var m = util.format.apply(util, arguments)\n    m = 'GFS4: ' + m.split(/\\n/).join('\\nGFS4: ')\n    console.error(m)\n  }\n\n// Once time initialization\nif (!fs[gracefulQueue]) {\n  // This queue can be shared by multiple loaded instances\n  var queue = global[gracefulQueue] || []\n  publishQueue(fs, queue)\n\n  // Patch fs.close/closeSync to shared queue version, because we need\n  // to retry() whenever a close happens *anywhere* in the program.\n  // This is essential when multiple graceful-fs instances are\n  // in play at the same time.\n  fs.close = (function (fs$close) {\n    function close (fd, cb) {\n      return fs$close.call(fs, fd, function (err) {\n        // This function uses the graceful-fs shared queue\n        if (!err) {\n          resetQueue()\n        }\n\n        if (typeof cb === 'function')\n          cb.apply(this, arguments)\n      })\n    }\n\n    Object.defineProperty(close, previousSymbol, {\n      value: fs$close\n    })\n    return close\n  })(fs.close)\n\n  fs.closeSync = (function (fs$closeSync) {\n    function closeSync (fd) {\n      // This function uses the graceful-fs shared queue\n      fs$closeSync.apply(fs, arguments)\n      resetQueue()\n    }\n\n    Object.defineProperty(closeSync, previousSymbol, {\n      value: fs$closeSync\n    })\n    return closeSync\n  })(fs.closeSync)\n\n  if (/\\bgfs4\\b/i.test(process.env.NODE_DEBUG || '')) {\n    process.on('exit', function() {\n      debug(fs[gracefulQueue])\n      require('assert').equal(fs[gracefulQueue].length, 0)\n    })\n  }\n}\n\nif (!global[gracefulQueue]) {\n  publishQueue(global, fs[gracefulQueue]);\n}\n\nmodule.exports = patch(clone(fs))\nif (process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH && !fs.__patched) {\n    module.exports = patch(fs)\n    fs.__patched = true;\n}\n\nfunction patch (fs) {\n  // Everything that references the open() function needs to be in here\n  polyfills(fs)\n  fs.gracefulify = patch\n\n  fs.createReadStream = createReadStream\n  fs.createWriteStream = createWriteStream\n  var fs$readFile = fs.readFile\n  fs.readFile = readFile\n  function readFile (path, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    return go$readFile(path, options, cb)\n\n    function go$readFile (path, options, cb, startTime) {\n      return fs$readFile(path, options, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$readFile, [path, options, cb], err, startTime || Date.now(), Date.now()])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n        }\n      })\n    }\n  }\n\n  var fs$writeFile = fs.writeFile\n  fs.writeFile = writeFile\n  function writeFile (path, data, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    return go$writeFile(path, data, options, cb)\n\n    function go$writeFile (path, data, options, cb, startTime) {\n      return fs$writeFile(path, data, options, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$writeFile, [path, data, options, cb], err, startTime || Date.now(), Date.now()])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n        }\n      })\n    }\n  }\n\n  var fs$appendFile = fs.appendFile\n  if (fs$appendFile)\n    fs.appendFile = appendFile\n  function appendFile (path, data, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    return go$appendFile(path, data, options, cb)\n\n    function go$appendFile (path, data, options, cb, startTime) {\n      return fs$appendFile(path, data, options, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$appendFile, [path, data, options, cb], err, startTime || Date.now(), Date.now()])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n        }\n      })\n    }\n  }\n\n  var fs$copyFile = fs.copyFile\n  if (fs$copyFile)\n    fs.copyFile = copyFile\n  function copyFile (src, dest, flags, cb) {\n    if (typeof flags === 'function') {\n      cb = flags\n      flags = 0\n    }\n    return go$copyFile(src, dest, flags, cb)\n\n    function go$copyFile (src, dest, flags, cb, startTime) {\n      return fs$copyFile(src, dest, flags, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$copyFile, [src, dest, flags, cb], err, startTime || Date.now(), Date.now()])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n        }\n      })\n    }\n  }\n\n  var fs$readdir = fs.readdir\n  fs.readdir = readdir\n  var noReaddirOptionVersions = /^v[0-5]\\./\n  function readdir (path, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    var go$readdir = noReaddirOptionVersions.test(process.version)\n      ? function go$readdir (path, options, cb, startTime) {\n        return fs$readdir(path, fs$readdirCallback(\n          path, options, cb, startTime\n        ))\n      }\n      : function go$readdir (path, options, cb, startTime) {\n        return fs$readdir(path, options, fs$readdirCallback(\n          path, options, cb, startTime\n        ))\n      }\n\n    return go$readdir(path, options, cb)\n\n    function fs$readdirCallback (path, options, cb, startTime) {\n      return function (err, files) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([\n            go$readdir,\n            [path, options, cb],\n            err,\n            startTime || Date.now(),\n            Date.now()\n          ])\n        else {\n          if (files && files.sort)\n            files.sort()\n\n          if (typeof cb === 'function')\n            cb.call(this, err, files)\n        }\n      }\n    }\n  }\n\n  if (process.version.substr(0, 4) === 'v0.8') {\n    var legStreams = legacy(fs)\n    ReadStream = legStreams.ReadStream\n    WriteStream = legStreams.WriteStream\n  }\n\n  var fs$ReadStream = fs.ReadStream\n  if (fs$ReadStream) {\n    ReadStream.prototype = Object.create(fs$ReadStream.prototype)\n    ReadStream.prototype.open = ReadStream$open\n  }\n\n  var fs$WriteStream = fs.WriteStream\n  if (fs$WriteStream) {\n    WriteStream.prototype = Object.create(fs$WriteStream.prototype)\n    WriteStream.prototype.open = WriteStream$open\n  }\n\n  Object.defineProperty(fs, 'ReadStream', {\n    get: function () {\n      return ReadStream\n    },\n    set: function (val) {\n      ReadStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n  Object.defineProperty(fs, 'WriteStream', {\n    get: function () {\n      return WriteStream\n    },\n    set: function (val) {\n      WriteStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n\n  // legacy names\n  var FileReadStream = ReadStream\n  Object.defineProperty(fs, 'FileReadStream', {\n    get: function () {\n      return FileReadStream\n    },\n    set: function (val) {\n      FileReadStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n  var FileWriteStream = WriteStream\n  Object.defineProperty(fs, 'FileWriteStream', {\n    get: function () {\n      return FileWriteStream\n    },\n    set: function (val) {\n      FileWriteStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n\n  function ReadStream (path, options) {\n    if (this instanceof ReadStream)\n      return fs$ReadStream.apply(this, arguments), this\n    else\n      return ReadStream.apply(Object.create(ReadStream.prototype), arguments)\n  }\n\n  function ReadStream$open () {\n    var that = this\n    open(that.path, that.flags, that.mode, function (err, fd) {\n      if (err) {\n        if (that.autoClose)\n          that.destroy()\n\n        that.emit('error', err)\n      } else {\n        that.fd = fd\n        that.emit('open', fd)\n        that.read()\n      }\n    })\n  }\n\n  function WriteStream (path, options) {\n    if (this instanceof WriteStream)\n      return fs$WriteStream.apply(this, arguments), this\n    else\n      return WriteStream.apply(Object.create(WriteStream.prototype), arguments)\n  }\n\n  function WriteStream$open () {\n    var that = this\n    open(that.path, that.flags, that.mode, function (err, fd) {\n      if (err) {\n        that.destroy()\n        that.emit('error', err)\n      } else {\n        that.fd = fd\n        that.emit('open', fd)\n      }\n    })\n  }\n\n  function createReadStream (path, options) {\n    return new fs.ReadStream(path, options)\n  }\n\n  function createWriteStream (path, options) {\n    return new fs.WriteStream(path, options)\n  }\n\n  var fs$open = fs.open\n  fs.open = open\n  function open (path, flags, mode, cb) {\n    if (typeof mode === 'function')\n      cb = mode, mode = null\n\n    return go$open(path, flags, mode, cb)\n\n    function go$open (path, flags, mode, cb, startTime) {\n      return fs$open(path, flags, mode, function (err, fd) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$open, [path, flags, mode, cb], err, startTime || Date.now(), Date.now()])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n        }\n      })\n    }\n  }\n\n  return fs\n}\n\nfunction enqueue (elem) {\n  debug('ENQUEUE', elem[0].name, elem[1])\n  fs[gracefulQueue].push(elem)\n  retry()\n}\n\n// keep track of the timeout between retry() calls\nvar retryTimer\n\n// reset the startTime and lastTime to now\n// this resets the start of the 60 second overall timeout as well as the\n// delay between attempts so that we'll retry these jobs sooner\nfunction resetQueue () {\n  var now = Date.now()\n  for (var i = 0; i < fs[gracefulQueue].length; ++i) {\n    // entries that are only a length of 2 are from an older version, don't\n    // bother modifying those since they'll be retried anyway.\n    if (fs[gracefulQueue][i].length > 2) {\n      fs[gracefulQueue][i][3] = now // startTime\n      fs[gracefulQueue][i][4] = now // lastTime\n    }\n  }\n  // call retry to make sure we're actively processing the queue\n  retry()\n}\n\nfunction retry () {\n  // clear the timer and remove it to help prevent unintended concurrency\n  clearTimeout(retryTimer)\n  retryTimer = undefined\n\n  if (fs[gracefulQueue].length === 0)\n    return\n\n  var elem = fs[gracefulQueue].shift()\n  var fn = elem[0]\n  var args = elem[1]\n  // these items may be unset if they were added by an older graceful-fs\n  var err = elem[2]\n  var startTime = elem[3]\n  var lastTime = elem[4]\n\n  // if we don't have a startTime we have no way of knowing if we've waited\n  // long enough, so go ahead and retry this item now\n  if (startTime === undefined) {\n    debug('RETRY', fn.name, args)\n    fn.apply(null, args)\n  } else if (Date.now() - startTime >= 60000) {\n    // it's been more than 60 seconds total, bail now\n    debug('TIMEOUT', fn.name, args)\n    var cb = args.pop()\n    if (typeof cb === 'function')\n      cb.call(null, err)\n  } else {\n    // the amount of time between the last attempt and right now\n    var sinceAttempt = Date.now() - lastTime\n    // the amount of time between when we first tried, and when we last tried\n    // rounded up to at least 1\n    var sinceStart = Math.max(lastTime - startTime, 1)\n    // backoff. wait longer than the total time we've been retrying, but only\n    // up to a maximum of 100ms\n    var desiredDelay = Math.min(sinceStart * 1.2, 100)\n    // it's been long enough since the last retry, do it again\n    if (sinceAttempt >= desiredDelay) {\n      debug('RETRY', fn.name, args)\n      fn.apply(null, args.concat([startTime]))\n    } else {\n      // if we can't do this job yet, push it to the end of the queue\n      // and let the next iteration check again\n      fs[gracefulQueue].push(elem)\n    }\n  }\n\n  // schedule our next run if one isn't already scheduled\n  if (retryTimer === undefined) {\n    retryTimer = setTimeout(retry, 0)\n  }\n}\n", "import fs from 'graceful-fs'\n\nexport function readCAFileSync (filePath: string): string[] | undefined {\n  try {\n    const contents = fs.readFileSync(filePath, 'utf8')\n    const delim = '-----END CERTIFICATE-----'\n    const output = contents\n      .split(delim)\n      .filter((ca) => Boolean(ca.trim()))\n      .map((ca) => `${ca.trimLeft()}${delim}`)\n    return output\n  } catch (err) {\n    if (err.code === 'ENOENT') return undefined\n    throw err\n  }\n}\n", "export * from './ca-file'\n", "\nmodule.exports = ProtoList\n\nfunction setProto(obj, proto) {\n  if (typeof Object.setPrototypeOf === \"function\")\n    return Object.setPrototypeOf(obj, proto)\n  else\n    obj.__proto__ = proto\n}\n\nfunction ProtoList () {\n  this.list = []\n  var root = null\n  Object.defineProperty(this, 'root', {\n    get: function () { return root },\n    set: function (r) {\n      root = r\n      if (this.list.length) {\n        setProto(this.list[this.list.length - 1], r)\n      }\n    },\n    enumerable: true,\n    configurable: true\n  })\n}\n\nProtoList.prototype =\n  { get length () { return this.list.length }\n  , get keys () {\n      var k = []\n      for (var i in this.list[0]) k.push(i)\n      return k\n    }\n  , get snapshot () {\n      var o = {}\n      this.keys.forEach(function (k) { o[k] = this.get(k) }, this)\n      return o\n    }\n  , get store () {\n      return this.list[0]\n    }\n  , push : function (obj) {\n      if (typeof obj !== \"object\") obj = {valueOf:obj}\n      if (this.list.length >= 1) {\n        setProto(this.list[this.list.length - 1], obj)\n      }\n      setProto(obj, this.root)\n      return this.list.push(obj)\n    }\n  , pop : function () {\n      if (this.list.length >= 2) {\n        setProto(this.list[this.list.length - 2], this.root)\n      }\n      return this.list.pop()\n    }\n  , unshift : function (obj) {\n      setProto(obj, this.list[0] || this.root)\n      return this.list.unshift(obj)\n    }\n  , shift : function () {\n      if (this.list.length === 1) {\n        setProto(this.list[0], this.root)\n      }\n      return this.list.shift()\n    }\n  , get : function (key) {\n      return this.list[0][key]\n    }\n  , set : function (key, val, save) {\n      if (!this.length) this.push({})\n      if (save && this.list[0].hasOwnProperty(key)) this.push({})\n      return this.list[0][key] = val\n    }\n  , forEach : function (fn, thisp) {\n      for (var key in this.list[0]) fn.call(thisp, key, this.list[0][key])\n    }\n  , slice : function () {\n      return this.list.slice.apply(this.list, arguments)\n    }\n  , splice : function () {\n      // handle injections\n      var ret = this.list.splice.apply(this.list, arguments)\n      for (var i = 0, l = this.list.length; i < l; i++) {\n        setProto(this.list[i], this.list[i + 1] || this.root)\n      }\n      return ret\n    }\n  }\n", "var ProtoList = require('proto-list')\n  , path = require('path')\n  , fs = require('fs')\n  , ini = require('ini')\n  , EE = require('events').EventEmitter\n  , url = require('url')\n  , http = require('http')\n\nvar exports = module.exports = function () {\n  var args = [].slice.call(arguments)\n    , conf = new ConfigChain()\n\n  while(args.length) {\n    var a = args.shift()\n    if(a) conf.push\n          ( 'string' === typeof a\n            ? json(a)\n            : a )\n  }\n\n  return conf\n}\n\n//recursively find a file...\n\nvar find = exports.find = function () {\n  var rel = path.join.apply(null, [].slice.call(arguments))\n\n  function find(start, rel) {\n    var file = path.join(start, rel)\n    try {\n      fs.statSync(file)\n      return file\n    } catch (err) {\n      if(path.dirname(start) !== start) // root\n        return find(path.dirname(start), rel)\n    }\n  }\n  return find(__dirname, rel)\n}\n\nvar parse = exports.parse = function (content, file, type) {\n  content = '' + content\n  // if we don't know what it is, try json and fall back to ini\n  // if we know what it is, then it must be that.\n  if (!type) {\n    try { return JSON.parse(content) }\n    catch (er) { return ini.parse(content) }\n  } else if (type === 'json') {\n    if (this.emit) {\n      try { return JSON.parse(content) }\n      catch (er) { this.emit('error', er) }\n    } else {\n      return JSON.parse(content)\n    }\n  } else {\n    return ini.parse(content)\n  }\n}\n\nvar json = exports.json = function () {\n  var args = [].slice.call(arguments).filter(function (arg) { return arg != null })\n  var file = path.join.apply(null, args)\n  var content\n  try {\n    content = fs.readFileSync(file,'utf-8')\n  } catch (err) {\n    return\n  }\n  return parse(content, file, 'json')\n}\n\nvar env = exports.env = function (prefix, env) {\n  env = env || process.env\n  var obj = {}\n  var l = prefix.length\n  for(var k in env) {\n    if(k.indexOf(prefix) === 0)\n      obj[k.substring(l)] = env[k]\n  }\n\n  return obj\n}\n\nexports.ConfigChain = ConfigChain\nfunction ConfigChain () {\n  EE.apply(this)\n  ProtoList.apply(this, arguments)\n  this._awaiting = 0\n  this._saving = 0\n  this.sources = {}\n}\n\n// multi-inheritance-ish\nvar extras = {\n  constructor: { value: ConfigChain }\n}\nObject.keys(EE.prototype).forEach(function (k) {\n  extras[k] = Object.getOwnPropertyDescriptor(EE.prototype, k)\n})\nConfigChain.prototype = Object.create(ProtoList.prototype, extras)\n\nConfigChain.prototype.del = function (key, where) {\n  // if not specified where, then delete from the whole chain, scorched\n  // earth style\n  if (where) {\n    var target = this.sources[where]\n    target = target && target.data\n    if (!target) {\n      return this.emit('error', new Error('not found '+where))\n    }\n    delete target[key]\n  } else {\n    for (var i = 0, l = this.list.length; i < l; i ++) {\n      delete this.list[i][key]\n    }\n  }\n  return this\n}\n\nConfigChain.prototype.set = function (key, value, where) {\n  var target\n\n  if (where) {\n    target = this.sources[where]\n    target = target && target.data\n    if (!target) {\n      return this.emit('error', new Error('not found '+where))\n    }\n  } else {\n    target = this.list[0]\n    if (!target) {\n      return this.emit('error', new Error('cannot set, no confs!'))\n    }\n  }\n  target[key] = value\n  return this\n}\n\nConfigChain.prototype.get = function (key, where) {\n  if (where) {\n    where = this.sources[where]\n    if (where) where = where.data\n    if (where && Object.hasOwnProperty.call(where, key)) return where[key]\n    return undefined\n  }\n  return this.list[0][key]\n}\n\nConfigChain.prototype.save = function (where, type, cb) {\n  if (typeof type === 'function') cb = type, type = null\n  var target = this.sources[where]\n  if (!target || !(target.path || target.source) || !target.data) {\n    // TODO: maybe save() to a url target could be a PUT or something?\n    // would be easy to swap out with a reddis type thing, too\n    return this.emit('error', new Error('bad save target: '+where))\n  }\n\n  if (target.source) {\n    var pref = target.prefix || ''\n    Object.keys(target.data).forEach(function (k) {\n      target.source[pref + k] = target.data[k]\n    })\n    return this\n  }\n\n  var type = type || target.type\n  var data = target.data\n  if (target.type === 'json') {\n    data = JSON.stringify(data)\n  } else {\n    data = ini.stringify(data)\n  }\n\n  this._saving ++\n  fs.writeFile(target.path, data, 'utf8', function (er) {\n    this._saving --\n    if (er) {\n      if (cb) return cb(er)\n      else return this.emit('error', er)\n    }\n    if (this._saving === 0) {\n      if (cb) cb()\n      this.emit('save')\n    }\n  }.bind(this))\n  return this\n}\n\nConfigChain.prototype.addFile = function (file, type, name) {\n  name = name || file\n  var marker = {__source__:name}\n  this.sources[name] = { path: file, type: type }\n  this.push(marker)\n  this._await()\n  fs.readFile(file, 'utf8', function (er, data) {\n    if (er) this.emit('error', er)\n    this.addString(data, file, type, marker)\n  }.bind(this))\n  return this\n}\n\nConfigChain.prototype.addEnv = function (prefix, env, name) {\n  name = name || 'env'\n  var data = exports.env(prefix, env)\n  this.sources[name] = { data: data, source: env, prefix: prefix }\n  return this.add(data, name)\n}\n\nConfigChain.prototype.addUrl = function (req, type, name) {\n  this._await()\n  var href = url.format(req)\n  name = name || href\n  var marker = {__source__:name}\n  this.sources[name] = { href: href, type: type }\n  this.push(marker)\n  http.request(req, function (res) {\n    var c = []\n    var ct = res.headers['content-type']\n    if (!type) {\n      type = ct.indexOf('json') !== -1 ? 'json'\n           : ct.indexOf('ini') !== -1 ? 'ini'\n           : href.match(/\\.json$/) ? 'json'\n           : href.match(/\\.ini$/) ? 'ini'\n           : null\n      marker.type = type\n    }\n\n    res.on('data', c.push.bind(c))\n    .on('end', function () {\n      this.addString(Buffer.concat(c), href, type, marker)\n    }.bind(this))\n    .on('error', this.emit.bind(this, 'error'))\n\n  }.bind(this))\n  .on('error', this.emit.bind(this, 'error'))\n  .end()\n\n  return this\n}\n\nConfigChain.prototype.addString = function (data, file, type, marker) {\n  data = this.parse(data, file, type)\n  this.add(data, marker)\n  return this\n}\n\nConfigChain.prototype.add = function (data, marker) {\n  if (marker && typeof marker === 'object') {\n    var i = this.list.indexOf(marker)\n    if (i === -1) {\n      return this.emit('error', new Error('bad marker'))\n    }\n    this.splice(i, 1, data)\n    marker = marker.__source__\n    this.sources[marker] = this.sources[marker] || {}\n    this.sources[marker].data = data\n    // we were waiting for this.  maybe emit 'load'\n    this._resolve()\n  } else {\n    if (typeof marker === 'string') {\n      this.sources[marker] = this.sources[marker] || {}\n      this.sources[marker].data = data\n    }\n    // trigger the load event if nothing was already going to do so.\n    this._await()\n    this.push(data)\n    process.nextTick(this._resolve.bind(this))\n  }\n  return this\n}\n\nConfigChain.prototype.parse = exports.parse\n\nConfigChain.prototype._await = function () {\n  this._awaiting++\n}\n\nConfigChain.prototype._resolve = function () {\n  this._awaiting--\n  if (this._awaiting === 0) this.emit('load', this)\n}\n", "module.exports = function (x) {\n\tconst colonIndex = x.indexOf(':');\n\tif (colonIndex === -1) {\n\t\treturn normalize(x);\n\t}\n\tconst firstPart = x.substr(0, colonIndex);\n\tconst secondPart = x.substr(colonIndex + 1);\n\treturn `${normalize(firstPart)}:${normalize(secondPart)}`;\n}\n\nfunction normalize (s) {\n\ts = s.toLowerCase();\n\tif (s === '_authtoken') return '_authToken';\n\tlet r = s[0];\n\tfor (let i = 1; i < s.length; i++) {\n\t\tr += s[i] === '_' ? '-' : s[i];\n\t}\n\treturn r;\n}\n", "const ENV_EXPR = /(?<!\\\\)(\\\\*)\\$\\{([^${}]+)\\}/g\n\nexport function envReplace(settingValue: string, env: NodeJS.ProcessEnv): string {\n  return settingValue.replace(ENV_EXPR, replaceEnvMatch.bind(null, env))\n}\n\nfunction replaceEnvMatch (env: NodeJS.ProcessEnv, orig: string, escape: string, name: string): string {\n  if (escape.length % 2) {\n    return orig.slice((escape.length + 1) / 2)\n  }\n  const envValue = getEnvValue(env, name)\n  if (envValue === undefined) {\n    throw new Error(`Failed to replace env in config: ${orig}`)\n  }\n  return `${(escape.slice(escape.length / 2))}${envValue}`\n}\n\nconst ENV_VALUE = /([^:-]+)(:?)-(.+)/\n\nfunction getEnvValue (env: NodeJS.ProcessEnv, name: string): string {\n  const matched = name.match(ENV_VALUE)\n  if (!matched) return env[name]\n  const [, variableName, colon, fallback] = matched\n  if (Object.prototype.hasOwnProperty.call(env, variableName)) {\n    return !env[variableName] && colon ? fallback : env[variableName]\n  }\n  return fallback\n}\n", "export { envReplace } from './env-replace';\n", "'use strict';\nconst fs = require('fs');\nconst path = require('path');\nconst { envReplace } = require('@pnpm/config.env-replace');\n\n// https://github.com/npm/cli/blob/latest/lib/config/core.js#L359-L404\nconst parseField = (types, field, key) => {\n\tif (typeof field !== 'string') {\n\t\treturn field;\n\t}\n\n\tconst typeList = [].concat(types[key]);\n\tconst isPath = typeList.indexOf(path) !== -1;\n\tconst isBool = typeList.indexOf(Boolean) !== -1;\n\tconst isString = typeList.indexOf(String) !== -1;\n\tconst isNumber = typeList.indexOf(Number) !== -1;\n\n\tfield = `${field}`.trim();\n\n\tif (/^\".*\"$/.test(field)) {\n\t\ttry {\n\t\t\tfield = JSON.parse(field);\n\t\t} catch (error) {\n\t\t\tthrow new Error(`Failed parsing JSON config key ${key}: ${field}`);\n\t\t}\n\t}\n\n\tif (isBool && !isString && field === '') {\n\t\treturn true;\n\t}\n\n\tswitch (field) { // eslint-disable-line default-case\n\t\tcase 'true': {\n\t\t\treturn true;\n\t\t}\n\n\t\tcase 'false': {\n\t\t\treturn false;\n\t\t}\n\n\t\tcase 'null': {\n\t\t\treturn null;\n\t\t}\n\n\t\tcase 'undefined': {\n\t\t\treturn undefined;\n\t\t}\n\t}\n\n\tfield = envReplace(field, process.env);\n\n\tif (isPath) {\n\t\tconst regex = process.platform === 'win32' ? /^~(\\/|\\\\)/ : /^~\\//;\n\n\t\tif (regex.test(field) && process.env.HOME) {\n\t\t\tfield = path.resolve(process.env.HOME, field.substr(2));\n\t\t}\n\n\t\tfield = path.resolve(field);\n\t}\n\n\tif (isNumber && !isNaN(field)) {\n\t\tfield = Number(field);\n\t}\n\n\treturn field;\n};\n\n// https://github.com/npm/cli/blob/latest/lib/config/find-prefix.js\nconst findPrefix = name => {\n\tname = path.resolve(name);\n\n\tlet walkedUp = false;\n\n\twhile (path.basename(name) === 'node_modules') {\n\t\tname = path.dirname(name);\n\t\twalkedUp = true;\n\t}\n\n\tif (walkedUp) {\n\t\treturn name;\n\t}\n\n\tconst find = (name, original) => {\n\t\tconst regex = /^[a-zA-Z]:(\\\\|\\/)?$/;\n\n\t\tif (name === '/' || (process.platform === 'win32' && regex.test(name))) {\n\t\t\treturn original;\n\t\t}\n\n\t\ttry {\n\t\t\tconst files = fs.readdirSync(name);\n\n\t\t\tif (\n\t\t\t\tfiles.includes('node_modules') ||\n\t\t\t\tfiles.includes('package.json') ||\n\t\t\t\tfiles.includes('package.json5') ||\n\t\t\t\tfiles.includes('package.yaml') ||\n\t\t\t\tfiles.includes('pnpm-workspace.yaml')\n\t\t\t) {\n\t\t\t\treturn name;\n\t\t\t}\n\n\t\t\tconst dirname = path.dirname(name);\n\n\t\t\tif (dirname === name) {\n\t\t\t\treturn original;\n\t\t\t}\n\n\t\t\treturn find(dirname, original);\n\t\t} catch (error) {\n\t\t\tif (name === original) {\n\t\t\t\tif (error.code === 'ENOENT') {\n\t\t\t\t\treturn original;\n\t\t\t\t}\n\n\t\t\t\tthrow error;\n\t\t\t}\n\n\t\t\treturn original;\n\t\t}\n\t};\n\n\treturn find(name, name);\n};\n\nexports.envReplace = envReplace;\nexports.findPrefix = findPrefix;\nexports.parseField = parseField;\n", "// Generated with `lib/make.js`\n'use strict';\nconst path = require('path');\nconst Stream = require('stream').Stream;\nconst url = require('url');\n\nconst Umask = () => {};\nconst getLocalAddresses = () => [];\nconst semver = () => {};\n\nexports.types = {\n\taccess: [null, 'restricted', 'public'],\n\t'allow-same-version': Boolean,\n\t'always-auth': Boolean,\n\talso: [null, 'dev', 'development'],\n\taudit: Boolean,\n\t'auth-type': ['legacy', 'sso', 'saml', 'oauth'],\n\t'bin-links': Boolean,\n\tbrowser: [null, String],\n\tca: [null, String, Array],\n\tcafile: path,\n\tcache: path,\n\t'cache-lock-stale': Number,\n\t'cache-lock-retries': Number,\n\t'cache-lock-wait': Number,\n\t'cache-max': Number,\n\t'cache-min': Number,\n\tcert: [null, String],\n\tcidr: [null, String, Array],\n\tcolor: ['always', Boolean],\n\tdepth: Number,\n\tdescription: Boolean,\n\tdev: Boolean,\n\t'dry-run': Boolean,\n\teditor: String,\n\t'engine-strict': Boolean,\n\tforce: Boolean,\n\t'fetch-retries': Number,\n\t'fetch-retry-factor': Number,\n\t'fetch-retry-mintimeout': Number,\n\t'fetch-retry-maxtimeout': Number,\n\tgit: String,\n\t'git-tag-version': Boolean,\n\t'commit-hooks': Boolean,\n\tglobal: Boolean,\n\tglobalconfig: path,\n\t'global-style': Boolean,\n\tgroup: [Number, String],\n\t'https-proxy': [null, url],\n\t'user-agent': String,\n\t'ham-it-up': Boolean,\n\t'heading': String,\n\t'if-present': Boolean,\n\t'ignore-prepublish': Boolean,\n\t'ignore-scripts': Boolean,\n\t'init-module': path,\n\t'init-author-name': String,\n\t'init-author-email': String,\n\t'init-author-url': ['', url],\n\t'init-license': String,\n\t'init-version': semver,\n\tjson: Boolean,\n\tkey: [null, String],\n\t'legacy-bundling': Boolean,\n\tlink: Boolean,\n\t// local-address must be listed as an IP for a local network interface\n\t// must be IPv4 due to node bug\n\t'local-address': getLocalAddresses(),\n\tloglevel: ['silent', 'error', 'warn', 'notice', 'http', 'timing', 'info', 'verbose', 'silly'],\n\tlogstream: Stream,\n\t'logs-max': Number,\n\tlong: Boolean,\n\tmaxsockets: Number,\n\tmessage: String,\n\t'metrics-registry': [null, String],\n\t'node-options': [null, String],\n\t'node-version': [null, semver],\n\t'no-proxy': [null, String, Array],\n\toffline: Boolean,\n\t'onload-script': [null, String],\n\tonly: [null, 'dev', 'development', 'prod', 'production'],\n\toptional: Boolean,\n\t'package-lock': Boolean,\n\totp: [null, String],\n\t'package-lock-only': Boolean,\n\tparseable: Boolean,\n\t'prefer-offline': Boolean,\n\t'prefer-online': Boolean,\n\tprefix: path,\n\tproduction: Boolean,\n\tprogress: Boolean,\n\tproxy: [null, false, url],\n\tprovenance: Boolean,\n\t// allow proxy to be disabled explicitly\n\t'read-only': Boolean,\n\t'rebuild-bundle': Boolean,\n\tregistry: [null, url],\n\trollback: Boolean,\n\tsave: Boolean,\n\t'save-bundle': Boolean,\n\t'save-dev': Boolean,\n\t'save-exact': Boolean,\n\t'save-optional': Boolean,\n\t'save-prefix': String,\n\t'save-prod': Boolean,\n\tscope: String,\n\t'script-shell': [null, String],\n\t'scripts-prepend-node-path': [false, true, 'auto', 'warn-only'],\n\tsearchopts: String,\n\tsearchexclude: [null, String],\n\tsearchlimit: Number,\n\tsearchstaleness: Number,\n\t'send-metrics': Boolean,\n\tshell: String,\n\tshrinkwrap: Boolean,\n\t'sign-git-tag': Boolean,\n\t'sso-poll-frequency': Number,\n\t'sso-type': [null, 'oauth', 'saml'],\n\t'strict-ssl': Boolean,\n\ttag: String,\n\ttiming: Boolean,\n\ttmp: path,\n\tunicode: Boolean,\n\t'unsafe-perm': Boolean,\n\tusage: Boolean,\n\tuser: [Number, String],\n\tuserconfig: path,\n\tumask: Umask,\n\tversion: Boolean,\n\t'tag-version-prefix': String,\n\tversions: Boolean,\n\tviewer: String,\n\t_exit: Boolean\n};\n", "'use strict';\nconst { readCAFileSync } = require('@pnpm/network.ca-file');\nconst fs = require('fs');\nconst path = require('path');\nconst {ConfigChain} = require('config-chain');\nconst envKeyToSetting = require('./envKeyToSetting');\nconst util = require('./util');\n\nclass Conf extends ConfigChain {\n\t// https://github.com/npm/cli/blob/latest/lib/config/core.js#L203-L217\n\tconstructor(base, types) {\n\t\tsuper(base);\n\t\tthis.root = base;\n\t\tthis._parseField = util.parseField.bind(null, types || require('./types'));\n\t}\n\n\t// https://github.com/npm/cli/blob/latest/lib/config/core.js#L326-L338\n\tadd(data, marker) {\n\t\ttry {\n\t\t\tfor (const x of Object.keys(data)) {\n\t\t\t\tdata[x] = this._parseField(data[x], x);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tthrow error;\n\t\t}\n\n\t\treturn super.add(data, marker);\n\t}\n\n\t// https://github.com/npm/cli/blob/latest/lib/config/core.js#L306-L319\n\taddFile(file, name) {\n\t\tname = name || file;\n\n\t\tconst marker = {__source__: name};\n\n\t\tthis.sources[name] = {path: file, type: 'ini'};\n\t\tthis.push(marker);\n\t\tthis._await();\n\n\t\ttry {\n\t\t\tconst contents = fs.readFileSync(file, 'utf8');\n\t\t\tthis.addString(contents, file, 'ini', marker);\n\t\t} catch (error) {\n\t\t\tif (error.code === 'ENOENT') {\n\t\t\t\tthis.add({}, marker);\n\t\t\t} else {\n\t\t\t\treturn `Issue while reading \"${file}\". ${error.message}`\n\t\t\t}\n\t\t}\n\t}\n\n\t// https://github.com/npm/cli/blob/latest/lib/config/core.js#L341-L357\n\taddEnv(env) {\n\t\tenv = env || process.env;\n\n\t\tconst conf = {};\n\n\t\tObject.keys(env)\n\t\t\t.filter(x => /^npm_config_/i.test(x))\n\t\t\t.forEach(x => {\n\t\t\t\tif (!env[x]) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconf[envKeyToSetting(x.substr(11))] = env[x];\n\t\t\t});\n\n\t\treturn super.addEnv('', conf, 'env');\n\t}\n\n\t// https://github.com/npm/cli/blob/latest/lib/config/load-prefix.js\n\tloadPrefix() {\n\t\tconst cli = this.list[0];\n\n\t\tObject.defineProperty(this, 'prefix', {\n\t\t\tenumerable: true,\n\t\t\tset: prefix => {\n\t\t\t\tconst g = this.get('global');\n\t\t\t\tthis[g ? 'globalPrefix' : 'localPrefix'] = prefix;\n\t\t\t},\n\t\t\tget: () => {\n\t\t\t\tconst g = this.get('global');\n\t\t\t\treturn g ? this.globalPrefix : this.localPrefix;\n\t\t\t}\n\t\t});\n\n\t\tObject.defineProperty(this, 'globalPrefix', {\n\t\t\tenumerable: true,\n\t\t\tset: prefix => {\n\t\t\t\tthis.set('prefix', prefix);\n\t\t\t},\n\t\t\tget: () => {\n\t\t\t\treturn path.resolve(this.get('prefix'));\n\t\t\t}\n\t\t});\n\n\t\tlet p;\n\n\t\tObject.defineProperty(this, 'localPrefix', {\n\t\t\tenumerable: true,\n\t\t\tset: prefix => {\n\t\t\t\tp = prefix;\n\t\t\t},\n\t\t\tget: () => {\n\t\t\t\treturn p;\n\t\t\t}\n\t\t});\n\n\t\tif (Object.prototype.hasOwnProperty.call(cli, 'prefix')) {\n\t\t\tp = path.resolve(cli.prefix);\n\t\t} else {\n\t\t\ttry {\n\t\t\t\tconst prefix = util.findPrefix(process.cwd());\n\t\t\t\tp = prefix;\n\t\t\t} catch (error) {\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t}\n\n\t\treturn p;\n\t}\n\n\t// https://github.com/npm/cli/blob/latest/lib/config/load-cafile.js\n\tloadCAFile(file) {\n\t\tif (!file) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst ca = readCAFileSync(file);\n\t\tif (ca) {\n\t\t\tthis.set('ca', ca);\n\t\t}\n\t}\n\n\t// https://github.com/npm/cli/blob/latest/lib/config/set-user.js\n\tloadUser() {\n\t\tconst defConf = this.root;\n\n\t\tif (this.get('global')) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (process.env.SUDO_UID) {\n\t\t\tdefConf.user = Number(process.env.SUDO_UID);\n\t\t\treturn;\n\t\t}\n\n\t\tconst prefix = path.resolve(this.get('prefix'));\n\n\t\ttry {\n\t\t\tconst stats = fs.statSync(prefix);\n\t\t\tdefConf.user = stats.uid;\n\t\t} catch (error) {\n\t\t\tif (error.code === 'ENOENT') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthrow error;\n\t\t}\n\t}\n}\n\nmodule.exports = Conf;\n", "// Generated with `lib/make.js`\n'use strict';\nconst os = require('os');\nconst path = require('path');\n\nconst temp = os.tmpdir();\nconst uidOrPid = process.getuid ? process.getuid() : process.pid;\nconst hasUnicode = () => true;\nconst isWindows = process.platform === 'win32';\n\nconst osenv = {\n\teditor: () => process.env.EDITOR || process.env.VISUAL || (isWindows ? 'notepad.exe' : 'vi'),\n\tshell: () => isWindows ? (process.env.COMSPEC || 'cmd.exe') : (process.env.SHELL || '/bin/bash')\n};\n\nconst umask = {\n\tfromString: () => process.umask()\n};\n\nlet home = os.homedir();\n\nif (home) {\n\tprocess.env.HOME = home;\n} else {\n\thome = path.resolve(temp, 'npm-' + uidOrPid);\n}\n\nconst cacheExtra = process.platform === 'win32' ? 'npm-cache' : '.npm';\nconst cacheRoot = process.platform === 'win32' && process.env.APPDATA || home;\nconst cache = path.resolve(cacheRoot, cacheExtra);\n\nlet defaults;\nlet globalPrefix;\n\nObject.defineProperty(exports, 'defaults', {\n\tget: function () {\n\t\tif (defaults) return defaults;\n\n\t\tif (process.env.PREFIX) {\n\t\t\tglobalPrefix = process.env.PREFIX;\n\t\t} else if (process.platform === 'win32') {\n\t\t\t// c:\\node\\node.exe --> prefix=c:\\node\\\n\t\t\tglobalPrefix = path.dirname(process.execPath);\n\t\t} else {\n\t\t\t// /usr/local/bin/node --> prefix=/usr/local\n\t\t\tglobalPrefix = path.dirname(path.dirname(process.execPath)); // destdir only is respected on Unix\n\n\t\t\tif (process.env.DESTDIR) {\n\t\t\t\tglobalPrefix = path.join(process.env.DESTDIR, globalPrefix);\n\t\t\t}\n\t\t}\n\n\t\tdefaults = {\n\t\t\taccess: null,\n\t\t\t'allow-same-version': false,\n\t\t\t'always-auth': false,\n\t\t\talso: null,\n\t\t\taudit: true,\n\t\t\t'auth-type': 'legacy',\n\t\t\t'bin-links': true,\n\t\t\tbrowser: null,\n\t\t\tca: null,\n\t\t\tcafile: null,\n\t\t\tcache: cache,\n\t\t\t'cache-lock-stale': 60000,\n\t\t\t'cache-lock-retries': 10,\n\t\t\t'cache-lock-wait': 10000,\n\t\t\t'cache-max': Infinity,\n\t\t\t'cache-min': 10,\n\t\t\tcert: null,\n\t\t\tcidr: null,\n\t\t\tcolor: process.env.NO_COLOR == null,\n\t\t\tdepth: Infinity,\n\t\t\tdescription: true,\n\t\t\tdev: false,\n\t\t\t'dry-run': false,\n\t\t\teditor: osenv.editor(),\n\t\t\t'engine-strict': false,\n\t\t\tforce: false,\n\t\t\t'fetch-retries': 2,\n\t\t\t'fetch-retry-factor': 10,\n\t\t\t'fetch-retry-mintimeout': 10000,\n\t\t\t'fetch-retry-maxtimeout': 60000,\n\t\t\tgit: 'git',\n\t\t\t'git-tag-version': true,\n\t\t\t'commit-hooks': true,\n\t\t\tglobal: false,\n\t\t\tglobalconfig: path.resolve(globalPrefix, 'etc', 'npmrc'),\n\t\t\t'global-style': false,\n\t\t\tgroup: process.platform === 'win32' ? 0 : process.env.SUDO_GID || process.getgid && process.getgid(),\n\t\t\t'ham-it-up': false,\n\t\t\theading: 'npm',\n\t\t\t'if-present': false,\n\t\t\t'ignore-prepublish': false,\n\t\t\t'ignore-scripts': false,\n\t\t\t'init-module': path.resolve(home, '.npm-init.js'),\n\t\t\t'init-author-name': '',\n\t\t\t'init-author-email': '',\n\t\t\t'init-author-url': '',\n\t\t\t'init-version': '1.0.0',\n\t\t\t'init-license': 'ISC',\n\t\t\tjson: false,\n\t\t\tkey: null,\n\t\t\t'legacy-bundling': false,\n\t\t\tlink: false,\n\t\t\t'local-address': undefined,\n\t\t\tloglevel: 'notice',\n\t\t\tlogstream: process.stderr,\n\t\t\t'logs-max': 10,\n\t\t\tlong: false,\n\t\t\tmaxsockets: 50,\n\t\t\tmessage: '%s',\n\t\t\t'metrics-registry': null,\n\t\t\t'node-options': null,\n\t\t\t// We remove node-version to fix the issue described here: https://github.com/pnpm/pnpm/issues/4203#issuecomment-1133872769\n\t\t\t'offline': false,\n\t\t\t'onload-script': false,\n\t\t\tonly: null,\n\t\t\toptional: true,\n\t\t\totp: null,\n\t\t\t'package-lock': true,\n\t\t\t'package-lock-only': false,\n\t\t\tparseable: false,\n\t\t\t'prefer-offline': false,\n\t\t\t'prefer-online': false,\n\t\t\tprefix: globalPrefix,\n\t\t\tproduction: process.env.NODE_ENV === 'production',\n\t\t\t'progress': !process.env.TRAVIS && !process.env.CI,\n\t\t\tprovenance: false,\n\t\t\tproxy: null,\n\t\t\t'https-proxy': null,\n\t\t\t'no-proxy': null,\n\t\t\t'user-agent': 'npm/{npm-version} ' + 'node/{node-version} ' + '{platform} ' + '{arch}',\n\t\t\t'read-only': false,\n\t\t\t'rebuild-bundle': true,\n\t\t\tregistry: 'https://registry.npmjs.org/',\n\t\t\trollback: true,\n\t\t\tsave: true,\n\t\t\t'save-bundle': false,\n\t\t\t'save-dev': false,\n\t\t\t'save-exact': false,\n\t\t\t'save-optional': false,\n\t\t\t'save-prefix': '^',\n\t\t\t'save-prod': false,\n\t\t\tscope: '',\n\t\t\t'script-shell': null,\n\t\t\t'scripts-prepend-node-path': 'warn-only',\n\t\t\tsearchopts: '',\n\t\t\tsearchexclude: null,\n\t\t\tsearchlimit: 20,\n\t\t\tsearchstaleness: 15 * 60,\n\t\t\t'send-metrics': false,\n\t\t\tshell: osenv.shell(),\n\t\t\tshrinkwrap: true,\n\t\t\t'sign-git-tag': false,\n\t\t\t'sso-poll-frequency': 500,\n\t\t\t'sso-type': 'oauth',\n\t\t\t'strict-ssl': true,\n\t\t\ttag: 'latest',\n\t\t\t'tag-version-prefix': 'v',\n\t\t\ttiming: false,\n\t\t\ttmp: temp,\n\t\t\tunicode: hasUnicode(),\n\t\t\t'unsafe-perm': process.platform === 'win32' || process.platform === 'cygwin' || !(process.getuid && process.setuid && process.getgid && process.setgid) || process.getuid() !== 0,\n\t\t\tusage: false,\n\t\t\tuser: process.platform === 'win32' ? 0 : 'nobody',\n\t\t\tuserconfig: path.resolve(home, '.npmrc'),\n\t\t\tumask: process.umask ? process.umask() : umask.fromString('022'),\n\t\t\tversion: false,\n\t\t\tversions: false,\n\t\t\tviewer: process.platform === 'win32' ? 'browser' : 'man',\n\t\t\t_exit: true\n\t\t};\n\t\treturn defaults;\n\t}\n});\n", "'use strict';\nconst path = require('path');\nconst Conf = require('./lib/conf');\nconst _defaults = require('./lib/defaults');\n\n// https://github.com/npm/cli/blob/latest/lib/config/core.js#L101-L200\nmodule.exports = (opts, types, defaults) => {\n\tconst conf = new Conf(Object.assign({}, _defaults.defaults, defaults), types);\n\n\tconf.add(Object.assign({}, opts), 'cli');\n\tconst warnings = [];\n\tlet failedToLoadBuiltInConfig = false;\n\n\tif (require.resolve.paths) {\n\t\tconst paths = require.resolve.paths('npm');\n\t\t// Assume that last path in resolve paths is builtin modules directory\n\t\tlet npmPath;\n\t\ttry {\n\t\t\tnpmPath = require.resolve('npm', {paths: paths.slice(-1)});\n\t\t} catch (error) {\n\t\t\t// Error will be thrown if module cannot be found.\n\t\t\t// Update the flag while loading builtin config failed.\n\t\t\tfailedToLoadBuiltInConfig = true;\n\t\t}\n\n\t\tif (npmPath) {\n\t\t\t/**\n\t\t\t *  According to https://github.com/npm/cli/blob/86f5bdb91f7a5971953a5171d32d6eeda6a2e972/lib/npm.js#L258\n\t\t\t *  and https://github.com/npm/cli/blob/86f5bdb91f7a5971953a5171d32d6eeda6a2e972/lib/config/core.js#L92\n\t\t\t */\n\t\t\twarnings.push(conf.addFile(path.resolve(path.dirname(npmPath), '..', 'npmrc'), 'builtin'));\n\t\t}\n\t}\n\n\tconf.addEnv();\n\tconf.loadPrefix();\n\n\tconst projectConf = path.resolve(conf.localPrefix, '.npmrc');\n\tconst userConf = conf.get('userconfig');\n\n\tif (!conf.get('global') && projectConf !== userConf) {\n\t\twarnings.push(conf.addFile(projectConf, 'project'));\n\t} else {\n\t\tconf.add({}, 'project');\n\t}\n\n\t// TODO: cover with tests that configs from workspace .npmrc have bigger priority\n\t// than the ones in userconfig\n\tif (conf.get('workspace-prefix') && conf.get('workspace-prefix') !== projectConf) {\n\t\tconst workspaceConf = path.resolve(conf.get('workspace-prefix'), '.npmrc');\n\t\twarnings.push(conf.addFile(workspaceConf, 'workspace'));\n\t}\n\n\twarnings.push(conf.addFile(conf.get('userconfig'), 'user'));\n\n\tif (conf.get('prefix')) {\n\t\tconst etc = path.resolve(conf.get('prefix'), 'etc');\n\t\tconf.root.globalconfig = path.resolve(etc, 'npmrc');\n\t\tconf.root.globalignorefile = path.resolve(etc, 'npmignore');\n\t}\n\n\twarnings.push(conf.addFile(conf.get('globalconfig'), 'global'));\n\tconf.loadUser();\n\n\tconst caFile = conf.get('cafile');\n\n\tif (caFile) {\n\t\tconf.loadCAFile(caFile);\n\t}\n\n\treturn {\n\t\tconfig: conf,\n\t\twarnings: warnings.filter(Boolean),\n\t\tfailedToLoadBuiltInConfig,\n\t};\n};\n\nObject.defineProperty(module.exports, 'defaults', {\n\tget() {\n\t\treturn _defaults.defaults;\n\t},\n\tenumerable: true\n})\n", "const url = require('url')\nconst npmConf = require('@pnpm/npm-conf')\n\nconst tokenKey = ':_authToken'\nconst legacyTokenKey = ':_auth'\nconst userKey = ':username'\nconst passwordKey = ':_password'\n\nmodule.exports = function getRegistryAuthToken () {\n  let checkUrl\n  let options\n  if (arguments.length >= 2) {\n    checkUrl = arguments[0]\n    options = Object.assign({}, arguments[1])\n  } else if (typeof arguments[0] === 'string') {\n    checkUrl = arguments[0]\n  } else {\n    options = Object.assign({}, arguments[0])\n  }\n  options = options || {}\n\n  const providedNpmrc = options.npmrc\n  options.npmrc = (options.npmrc ? {\n    config: {\n      get: (key) => providedNpmrc[key]\n    }\n  } : npmConf()).config\n\n  checkUrl = checkUrl || options.npmrc.get('registry') || npmConf.defaults.registry\n  return getRegistryAuthInfo(checkUrl, options) || getLegacyAuthInfo(options.npmrc)\n}\n\nfunction getRegistryAuthInfo (checkUrl, options) {\n  const parsed = url.parse(checkUrl, false, true)\n  let pathname\n\n  while (pathname !== '/' && parsed.pathname !== pathname) {\n    pathname = parsed.pathname || '/'\n\n    const regUrl = '//' + parsed.host + pathname.replace(/\\/$/, '')\n    const authInfo = getAuthInfoForUrl(regUrl, options.npmrc)\n    if (authInfo) {\n      return authInfo\n    }\n\n    // break if not recursive\n    if (!options.recursive) {\n      return /\\/$/.test(checkUrl)\n        ? undefined\n        : getRegistryAuthInfo(url.resolve(checkUrl, '.'), options)\n    }\n\n    parsed.pathname = url.resolve(normalizePath(pathname), '..') || '/'\n  }\n\n  return undefined\n}\n\nfunction getLegacyAuthInfo (npmrc) {\n  if (!npmrc.get('_auth')) {\n    return undefined\n  }\n\n  const token = replaceEnvironmentVariable(npmrc.get('_auth'))\n\n  return { token: token, type: 'Basic' }\n}\n\nfunction normalizePath (path) {\n  return path[path.length - 1] === '/' ? path : path + '/'\n}\n\nfunction getAuthInfoForUrl (regUrl, npmrc) {\n  // try to get bearer token\n  const bearerAuth = getBearerToken(npmrc.get(regUrl + tokenKey) || npmrc.get(regUrl + '/' + tokenKey))\n  if (bearerAuth) {\n    return bearerAuth\n  }\n\n  // try to get basic token\n  const username = npmrc.get(regUrl + userKey) || npmrc.get(regUrl + '/' + userKey)\n  const password = npmrc.get(regUrl + passwordKey) || npmrc.get(regUrl + '/' + passwordKey)\n  const basicAuth = getTokenForUsernameAndPassword(username, password)\n  if (basicAuth) {\n    return basicAuth\n  }\n\n  const basicAuthWithToken = getLegacyAuthToken(npmrc.get(regUrl + legacyTokenKey) || npmrc.get(regUrl + '/' + legacyTokenKey))\n  if (basicAuthWithToken) {\n    return basicAuthWithToken\n  }\n\n  return undefined\n}\n\nfunction replaceEnvironmentVariable (token) {\n  return token.replace(/^\\$\\{?([^}]*)\\}?$/, function (fullMatch, envVar) {\n    return process.env[envVar]\n  })\n}\n\nfunction getBearerToken (tok) {\n  if (!tok) {\n    return undefined\n  }\n\n  // check if bearer token is set as environment variable\n  const token = replaceEnvironmentVariable(tok)\n\n  return { token: token, type: 'Bearer' }\n}\n\nfunction getTokenForUsernameAndPassword (username, password) {\n  if (!username || !password) {\n    return undefined\n  }\n\n  // passwords are base64 encoded, so we need to decode it\n  // See https://github.com/npm/npm/blob/v3.10.6/lib/config/set-credentials-by-uri.js#L26\n  const pass = Buffer.from(replaceEnvironmentVariable(password), 'base64').toString('utf8')\n\n  // a basic auth token is base64 encoded 'username:password'\n  // See https://github.com/npm/npm/blob/v3.10.6/lib/config/get-credentials-by-uri.js#L70\n  const token = Buffer.from(username + ':' + pass, 'utf8').toString('base64')\n\n  // we found a basicToken token so let's exit the loop\n  return {\n    token: token,\n    type: 'Basic',\n    password: pass,\n    username: username\n  }\n}\n\nfunction getLegacyAuthToken (tok) {\n  if (!tok) {\n    return undefined\n  }\n\n  // check if legacy auth token is set as environment variable\n  const token = replaceEnvironmentVariable(tok)\n\n  return { token: token, type: 'Basic' }\n}\n", "import {AbortError, BugError} from './error.js'\nimport {AbortController, AbortSignal} from './abort.js'\nimport {captureOutput, exec} from './system.js'\nimport {fileExists, readFile, writeFile, findPathUp, glob} from './fs.js'\nimport {dirname, joinPath} from './path.js'\nimport {runWithTimer} from './metadata.js'\nimport {inferPackageManagerForGlobalCLI} from './is-global.js'\nimport {outputToken, outputContent, outputDebug} from '../../public/node/output.js'\nimport {PackageVersionKey, cacheRetrieve, cacheRetrieveOrRepopulate} from '../../private/node/conf-store.js'\nimport latestVersion from 'latest-version'\nimport {SemVer, satisfies as semverSatisfies} from 'semver'\nimport type {Writable} from 'stream'\nimport type {ExecOptions} from './system.js'\n\n/** The name of the Yarn lock file */\nexport const yarnLockfile = 'yarn.lock'\n\n/** The name of the npm lock file */\nexport const npmLockfile = 'package-lock.json'\n\n/** The name of the pnpm lock file */\nexport const pnpmLockfile = 'pnpm-lock.yaml'\n\n/** The name of the bun lock file */\nexport const bunLockfile = 'bun.lockb'\n\n/** The name of the pnpm workspace file */\nexport const pnpmWorkspaceFile = 'pnpm-workspace.yaml'\n\n/** An array containing the lockfiles from all the package managers */\nexport const lockfiles: Lockfile[] = [yarnLockfile, pnpmLockfile, npmLockfile, bunLockfile]\nexport const lockfilesByManager: {[key in PackageManager]: Lockfile | undefined} = {\n  yarn: yarnLockfile,\n  npm: npmLockfile,\n  pnpm: pnpmLockfile,\n  bun: bunLockfile,\n  unknown: undefined,\n}\nexport type Lockfile = 'yarn.lock' | 'package-lock.json' | 'pnpm-lock.yaml' | 'bun.lockb'\n\n/**\n * A union type that represents the type of dependencies in the package.json\n * - dev: devDependencies\n * - prod: dependencies\n * - peer: peerDependencies\n */\nexport type DependencyType = 'dev' | 'prod' | 'peer'\n\n/**\n * A union that represents the package managers available.\n */\nexport const packageManager = ['yarn', 'npm', 'pnpm', 'bun', 'unknown'] as const\nexport type PackageManager = (typeof packageManager)[number]\n\n/**\n * Returns an abort error that's thrown when the package manager can't be determined.\n * @returns An abort error.\n */\nexport class UnknownPackageManagerError extends AbortError {\n  constructor() {\n    super('Unknown package manager')\n  }\n}\n\n/**\n * Returns an abort error that's thrown when a directory that's expected to have\n * a package.json doesn't have it.\n * @param directory - The path to the directory that should contain a package.json\n * @returns An abort error.\n */\nexport class PackageJsonNotFoundError extends AbortError {\n  constructor(directory: string) {\n    super(outputContent`The directory ${outputToken.path(directory)} doesn't have a package.json.`)\n  }\n}\n\n/**\n * Returns a bug error that's thrown when the lookup of the package.json traversing the directory\n * hierarchy up can't find a package.json\n * @param directory - The directory from which the traverse has been done\n * @returns An abort error.\n */\nexport class FindUpAndReadPackageJsonNotFoundError extends BugError {\n  constructor(directory: string) {\n    super(outputContent`Couldn't find a a package.json traversing directories from ${outputToken.path(directory)}`)\n  }\n}\n\n/**\n * Returns the dependency manager used to run the create workflow.\n * @param env - The environment variables of the process in which the CLI runs.\n * @returns The dependency manager\n */\nexport function packageManagerFromUserAgent(env = process.env): PackageManager {\n  if (env.npm_config_user_agent?.includes('yarn')) {\n    return 'yarn'\n  } else if (env.npm_config_user_agent?.includes('pnpm')) {\n    return 'pnpm'\n  } else if (env.npm_config_user_agent?.includes('bun')) {\n    return 'bun'\n  } else if (env.npm_config_user_agent?.includes('npm')) {\n    return 'npm'\n  }\n  return 'unknown'\n}\n\n/**\n * Returns the dependency manager used in a directory.\n * @param fromDirectory - The starting directory\n * @returns The dependency manager\n */\nexport async function getPackageManager(fromDirectory: string): Promise<PackageManager> {\n  const directory = await captureOutput('npm', ['prefix'], {cwd: fromDirectory})\n  outputDebug(outputContent`Obtaining the dependency manager in directory ${outputToken.path(directory)}...`)\n  const packageJson = joinPath(directory, 'package.json')\n  if (!(await fileExists(packageJson))) {\n    return packageManagerFromUserAgent()\n  }\n  const yarnLockPath = joinPath(directory, yarnLockfile)\n  const pnpmLockPath = joinPath(directory, pnpmLockfile)\n  const bunLockPath = joinPath(directory, bunLockfile)\n  if (await fileExists(yarnLockPath)) {\n    return 'yarn'\n  } else if (await fileExists(pnpmLockPath)) {\n    return 'pnpm'\n  } else if (await fileExists(bunLockPath)) {\n    return 'bun'\n  } else {\n    return 'npm'\n  }\n}\n\ninterface InstallNPMDependenciesRecursivelyOptions {\n  /**\n   * The dependency manager to use to install the dependencies.\n   */\n  packageManager: PackageManager\n  /**\n   * The directory from where we'll find package.json's recursively\n   */\n  directory: string\n\n  /**\n   * Specifies the maximum depth of the glob search.\n   */\n  deep?: number\n}\n\n/**\n * This function traverses down a directory tree to find directories containing a package.json\n * and installs the dependencies if needed. To know if it's needed, it uses the \"check\" command\n * provided by dependency managers.\n * @param options - Options to install dependencies recursively.\n */\nexport async function installNPMDependenciesRecursively(\n  options: InstallNPMDependenciesRecursivelyOptions,\n): Promise<void> {\n  const packageJsons = await glob(joinPath(options.directory, '**/package.json'), {\n    ignore: [joinPath(options.directory, 'node_modules/**/package.json')],\n    cwd: options.directory,\n    onlyFiles: true,\n    deep: options.deep,\n  })\n  const abortController = new AbortController()\n  try {\n    await Promise.all(\n      packageJsons.map(async (packageJsonPath) => {\n        const directory = dirname(packageJsonPath)\n        await installNodeModules({\n          directory,\n          packageManager: options.packageManager,\n          stdout: undefined,\n          stderr: undefined,\n          signal: abortController.signal,\n          args: [],\n        })\n      }),\n    )\n  } catch (error) {\n    abortController.abort()\n    throw error\n  }\n}\n\ninterface InstallNodeModulesOptions {\n  directory: string\n  args?: string[]\n  packageManager: PackageManager\n  stdout?: Writable\n  stderr?: Writable\n  signal?: AbortSignal\n}\n\nexport async function installNodeModules(options: InstallNodeModulesOptions): Promise<void> {\n  const execOptions: ExecOptions = {\n    cwd: options.directory,\n    stdin: undefined,\n    stdout: options.stdout,\n    stderr: options.stderr,\n    signal: options.signal,\n  }\n  let args = ['install']\n  if (options.args) {\n    args = args.concat(options.args)\n  }\n  await runWithTimer('cmd_all_timing_network_ms')(async () => {\n    await exec(options.packageManager, args, execOptions)\n  })\n}\n\n/**\n * Returns the name of the package configured in its package.json\n * @param packageJsonPath - Path to the package.json file\n * @returns A promise that resolves with the name.\n */\nexport async function getPackageName(packageJsonPath: string): Promise<string | undefined> {\n  const packageJsonContent = await readAndParsePackageJson(packageJsonPath)\n  return packageJsonContent.name\n}\n/**\n * Returns the version of the package configured in its package.json\n * @param packageJsonPath - Path to the package.json file\n * @returns A promise that resolves with the version.\n */\nexport async function getPackageVersion(packageJsonPath: string): Promise<string | undefined> {\n  const packageJsonContent = await readAndParsePackageJson(packageJsonPath)\n  return packageJsonContent.version\n}\n\n/**\n * Returns the list of production and dev dependencies of a package.json\n * @param packageJsonPath - Path to the package.json file\n * @returns A promise that resolves with the list of dependencies.\n */\nexport async function getDependencies(packageJsonPath: string): Promise<{[key: string]: string}> {\n  const packageJsonContent = await readAndParsePackageJson(packageJsonPath)\n  const dependencies: {[key: string]: string} = packageJsonContent.dependencies ?? {}\n  const devDependencies: {[key: string]: string} = packageJsonContent.devDependencies ?? {}\n\n  return {...dependencies, ...devDependencies}\n}\n\n/**\n * Returns true if the app uses workspaces, false otherwise.\n * @param packageJsonPath - Path to the package.json file\n * @param pnpmWorkspacePath - Path to the pnpm-workspace.yaml file\n * @returns A promise that resolves with true if the app uses workspaces, false otherwise.\n */\nexport async function usesWorkspaces(appDirectory: string): Promise<boolean> {\n  const packageJsonPath = joinPath(appDirectory, 'package.json')\n  const packageJsonContent = await readAndParsePackageJson(packageJsonPath)\n  const pnpmWorkspacePath = joinPath(appDirectory, pnpmWorkspaceFile)\n  return Boolean(packageJsonContent.workspaces) || fileExists(pnpmWorkspacePath)\n}\n\n/**\n * Given an NPM dependency, it checks if there's a more recent version, and if there is, it returns its value.\n * @param dependency - The dependency name (e.g. react)\n * @param currentVersion - The current version.\n * @param cacheExpiryInHours - If the last check was done more than this amount of hours ago, it will\n * refresh the cache. Defaults to always refreshing.\n * @returns A promise that resolves with a more recent version or undefined if there's no more recent version.\n */\nexport async function checkForNewVersion(\n  dependency: string,\n  currentVersion: string,\n  {cacheExpiryInHours = 0} = {},\n): Promise<string | undefined> {\n  const getLatestVersion = async () => {\n    outputDebug(outputContent`Checking if there's a version of ${dependency} newer than ${currentVersion}`)\n    return getLatestNPMPackageVersion(dependency)\n  }\n\n  const cacheKey: PackageVersionKey = `npm-package-${dependency}`\n  let lastVersion\n  try {\n    lastVersion = await cacheRetrieveOrRepopulate(cacheKey, getLatestVersion, cacheExpiryInHours * 3600 * 1000)\n    // eslint-disable-next-line no-catch-all/no-catch-all\n  } catch (error) {\n    return undefined\n  }\n\n  if (lastVersion && new SemVer(currentVersion).compare(lastVersion) < 0) {\n    return lastVersion\n  } else {\n    return undefined\n  }\n}\n\n/**\n * Given an NPM dependency, it checks if there's a cached more recent version, and if there is, it returns its value.\n * @param dependency - The dependency name (e.g. react)\n * @param currentVersion - The current version.\n * @returns A more recent version or undefined if there's no more recent version.\n */\nexport function checkForCachedNewVersion(dependency: string, currentVersion: string): string | undefined {\n  const cacheKey: PackageVersionKey = `npm-package-${dependency}`\n  const lastVersion = cacheRetrieve(cacheKey)?.value\n\n  if (lastVersion && new SemVer(currentVersion).compare(lastVersion) < 0) {\n    return lastVersion\n  } else {\n    return undefined\n  }\n}\n\n/**\n * Utility function used to check whether a package version satisfies some requirements\n * @param version - The version to check\n * @param requirements - The requirements to check against, e.g. \"\\>=1.0.0\" - see https://www.npmjs.com/package/semver#ranges\n * @returns A boolean indicating whether the version satisfies the requirements\n */\nexport function versionSatisfies(version: string, requirements: string): boolean {\n  return semverSatisfies(version, requirements)\n}\n\n/**\n * An interface that represents a package.json\n */\nexport interface PackageJson {\n  /**\n   * The name attribute of the package.json\n   */\n  name?: string\n\n  /**\n   * The author attribute of the package.json\n   */\n  author?: string\n\n  /**\n   * The version attribute of the package.json\n   */\n  version?: string\n\n  /**\n   * The scripts attribute of the package.json\n   */\n  scripts?: {[key: string]: string}\n\n  /**\n   * The dependencies attribute of the package.json\n   */\n  dependencies?: {[key: string]: string}\n\n  /**\n   * The devDependencies attribute of the package.json\n   */\n  devDependencies?: {[key: string]: string}\n\n  /**\n   * The peerDependencies attribute of the package.json\n   */\n  peerDependencies?: {[key: string]: string}\n\n  /**\n   * The optional oclif settings attribute of the package.json\n   */\n  oclif?: {\n    plugins?: string[]\n  }\n\n  /**\n   * The workspaces attribute of the package.json\n   */\n  workspaces?: string[]\n\n  /**\n   * The resolutions attribute of the package.json. Only useful when using yarn as package manager\n   */\n  resolutions?: {[key: string]: string}\n\n  /**\n   * The overrides attribute of the package.json. Only useful when using npm o npmn as package managers\n   */\n  overrides?: {[key: string]: string}\n\n  /**\n   *  The prettier attribute of the package.json\n   */\n  prettier?: string\n\n  /**\n   * The private attribute of the package.json.\n   * https://docs.npmjs.com/cli/v9/configuring-npm/package-json#private\n   */\n  private?: boolean\n}\n\n/**\n * Reads and parses a package.json\n * @param packageJsonPath - Path to the package.json\n * @returns An promise that resolves with an in-memory representation\n *    of the package.json or rejects with an error if the file is not found or the content is\n *    not decodable.\n */\nexport async function readAndParsePackageJson(packageJsonPath: string): Promise<PackageJson> {\n  if (!(await fileExists(packageJsonPath))) {\n    throw new PackageJsonNotFoundError(dirname(packageJsonPath))\n  }\n  return JSON.parse(await readFile(packageJsonPath))\n}\n\ninterface AddNPMDependenciesIfNeededOptions {\n  /** How dependencies should be added */\n  type: DependencyType\n\n  /** The dependency manager to use to add dependencies */\n  packageManager: PackageManager\n\n  /** The directory that contains the package.json where dependencies will be added */\n  directory: string\n\n  /** Standard output coming from the underlying installation process */\n  stdout?: Writable\n\n  /** Standard error coming from the underlying installation process */\n  stderr?: Writable\n\n  /** Abort signal to stop the process */\n  signal?: AbortSignal\n\n  /** Whether to add the dependencies to the root package.json or to the package.json of the directory */\n  addToRootDirectory?: boolean\n}\n\n/**\n * An interface that represents a dependency name with its version\n */\nexport interface DependencyVersion {\n  /**\n   * The name of the NPM dependency as it's reflected in the package.json:\n   *\n   * @example\n   * In the example below name would be \"react\"\n   * ```\n   * {\n   *   \"react\": \"1.2.3\"\n   * }\n   * ```\n   */\n  name: string\n\n  /**\n   * The version of the NPM dependency as it's reflected in the package.json:\n   *\n   * @example\n   * In the example below version would be \"1.2.3\"\n   * ```\n   * {\n   *   \"react\": \"1.2.3\"\n   * }\n   * ```\n   */\n  version: string | undefined\n}\n\n/**\n * Adds dependencies to a Node project (i.e. a project that has a package.json)\n * @param dependencies - List of dependencies to be added.\n * @param options - Options for adding dependencies.\n */\nexport async function addNPMDependenciesIfNeeded(\n  dependencies: DependencyVersion[],\n  options: AddNPMDependenciesIfNeededOptions,\n): Promise<void> {\n  outputDebug(outputContent`Adding the following dependencies if needed:\n${outputToken.json(dependencies)}\nWith options:\n${outputToken.json(options)}\n  `)\n  const packageJsonPath = joinPath(options.directory, 'package.json')\n  if (!(await fileExists(packageJsonPath))) {\n    throw new PackageJsonNotFoundError(options.directory)\n  }\n  const existingDependencies = Object.keys(await getDependencies(packageJsonPath))\n  const dependenciesToAdd = dependencies.filter((dep) => {\n    return !existingDependencies.includes(dep.name)\n  })\n  if (dependenciesToAdd.length === 0) {\n    return\n  }\n  await addNPMDependencies(dependenciesToAdd, options)\n}\n\nexport async function addNPMDependencies(\n  dependencies: DependencyVersion[],\n  options: AddNPMDependenciesIfNeededOptions,\n): Promise<void> {\n  const dependenciesWithVersion = dependencies.map((dep) => {\n    return dep.version ? `${dep.name}@${dep.version}` : dep.name\n  })\n  options.stdout?.write(`Installing ${[dependenciesWithVersion].join(' ')} with ${options.packageManager}`)\n  switch (options.packageManager) {\n    case 'npm':\n      // npm isn't too smart when resolving the dependency tree. For example, admin ui extensions include react as\n      // a peer dependency, but npm can't figure out the relationship and fails. Installing dependencies one by one\n      // makes the task easier and npm can then proceed.\n      for (const dep of dependenciesWithVersion) {\n        // eslint-disable-next-line no-await-in-loop\n        await installDependencies(options, argumentsToAddDependenciesWithNPM(dep, options.type))\n      }\n      break\n    case 'yarn':\n      await installDependencies(\n        options,\n        argumentsToAddDependenciesWithYarn(dependenciesWithVersion, options.type, Boolean(options.addToRootDirectory)),\n      )\n      break\n    case 'pnpm':\n      await installDependencies(\n        options,\n        argumentsToAddDependenciesWithPNPM(dependenciesWithVersion, options.type, Boolean(options.addToRootDirectory)),\n      )\n      break\n    case 'bun':\n      await installDependencies(options, argumentsToAddDependenciesWithBun(dependenciesWithVersion, options.type))\n      await installDependencies(options, ['install'])\n      break\n    case 'unknown':\n      throw new UnknownPackageManagerError()\n  }\n}\n\nasync function installDependencies(options: AddNPMDependenciesIfNeededOptions, args: string[]) {\n  return runWithTimer('cmd_all_timing_network_ms')(async () => {\n    return exec(options.packageManager, args, {\n      cwd: options.directory,\n      stdout: options.stdout,\n      stderr: options.stderr,\n      signal: options.signal,\n    })\n  })\n}\n\nexport async function addNPMDependenciesWithoutVersionIfNeeded(\n  dependencies: string[],\n  options: AddNPMDependenciesIfNeededOptions,\n): Promise<void> {\n  await addNPMDependenciesIfNeeded(\n    dependencies.map((dependency) => {\n      return {name: dependency, version: undefined}\n    }),\n    options,\n  )\n}\n\n/**\n * Returns the arguments to add dependencies using NPM.\n * @param dependencies - The list of dependencies to add\n * @param type - The dependency type.\n * @returns An array with the arguments.\n */\nfunction argumentsToAddDependenciesWithNPM(dependency: string, type: DependencyType): string[] {\n  let command = ['install']\n  command = command.concat(dependency)\n  switch (type) {\n    case 'dev':\n      command.push('--save-dev')\n      break\n    case 'peer':\n      command.push('--save-peer')\n      break\n    case 'prod':\n      command.push('--save-prod')\n      break\n  }\n  // NPM adds ^ to the installed version by default. We want to install exact versions unless specified otherwise.\n  if (dependency.match(/@\\d/g)) {\n    command.push('--save-exact')\n  }\n  return command\n}\n\n/**\n * Returns the arguments to add dependencies using Yarn.\n * @param dependencies - The list of dependencies to add\n * @param type - The dependency type.\n * @param addAtRoot - Force to install the dependencies in the workspace root (optional, default = false)\n * @returns An array with the arguments.\n */\nfunction argumentsToAddDependenciesWithYarn(dependencies: string[], type: DependencyType, addAtRoot = false): string[] {\n  let command = ['add']\n\n  if (addAtRoot) {\n    command.push('-W')\n  }\n\n  command = command.concat(dependencies)\n  switch (type) {\n    case 'dev':\n      command.push('--dev')\n      break\n    case 'peer':\n      command.push('--peer')\n      break\n    case 'prod':\n      command.push('--prod')\n      break\n  }\n  return command\n}\n\n/**\n * Returns the arguments to add dependencies using PNPM.\n * @param dependencies - The list of dependencies to add\n * @param type - The dependency type.\n * @param addAtRoot - Force to install the dependencies in the workspace root (optional, default = false)\n * @returns An array with the arguments.\n */\nfunction argumentsToAddDependenciesWithPNPM(dependencies: string[], type: DependencyType, addAtRoot = false): string[] {\n  let command = ['add']\n\n  if (addAtRoot) {\n    command.push('-w')\n  }\n\n  command = command.concat(dependencies)\n\n  switch (type) {\n    case 'dev':\n      command.push('--save-dev')\n      break\n    case 'peer':\n      command.push('--save-peer')\n      break\n    case 'prod':\n      command.push('--save-prod')\n      break\n  }\n  return command\n}\n\n/**\n * Returns the arguments to add dependencies using Bun.\n * @param dependencies - The list of dependencies to add\n * @param type - The dependency type.\n * @returns An array with the arguments.\n */\nfunction argumentsToAddDependenciesWithBun(dependencies: string[], type: DependencyType): string[] {\n  let command = ['add']\n\n  command = command.concat(dependencies)\n\n  switch (type) {\n    case 'dev':\n      command.push('--development')\n      break\n    case 'peer':\n      command.push('--optional')\n      break\n    case 'prod':\n      break\n  }\n  return command\n}\n\n/**\n * Given a directory it traverses the directory up looking for a package.json and if found, it reads it\n * decodes the JSON, and returns its content as a Javascript object.\n * @param options - The directory from which traverse up.\n * @returns If found, the promise resolves with the path to the\n *  package.json and its content. If not found, it throws a FindUpAndReadPackageJsonNotFoundError error.\n */\nexport async function findUpAndReadPackageJson(fromDirectory: string): Promise<{path: string; content: PackageJson}> {\n  const packageJsonPath = await findPathUp('package.json', {cwd: fromDirectory, type: 'file'})\n  if (packageJsonPath) {\n    const packageJson = JSON.parse(await readFile(packageJsonPath))\n    return {path: packageJsonPath, content: packageJson}\n  } else {\n    throw new FindUpAndReadPackageJsonNotFoundError(fromDirectory)\n  }\n}\n\nexport async function addResolutionOrOverride(directory: string, dependencies: {[key: string]: string}): Promise<void> {\n  const packageManager = await getPackageManager(directory)\n  const packageJsonPath = joinPath(directory, 'package.json')\n  const packageJsonContent = await readAndParsePackageJson(packageJsonPath)\n\n  if (packageManager === 'yarn') {\n    packageJsonContent.resolutions = packageJsonContent.resolutions\n      ? {...packageJsonContent.resolutions, ...dependencies}\n      : dependencies\n  }\n  if (packageManager === 'npm' || packageManager === 'pnpm' || packageManager === 'bun') {\n    packageJsonContent.overrides = packageJsonContent.overrides\n      ? {...packageJsonContent.overrides, ...dependencies}\n      : dependencies\n  }\n\n  await writeFile(packageJsonPath, JSON.stringify(packageJsonContent, null, 2))\n}\n\n/**\n * Returns the latest available version of an NPM package.\n * @param name - The name of the NPM package.\n * @returns A promise to get the latest available version of a package.\n */\nasync function getLatestNPMPackageVersion(name: string) {\n  outputDebug(outputContent`Getting the latest version of NPM package: ${outputToken.raw(name)}`)\n  return runWithTimer('cmd_all_timing_network_ms')(() => {\n    return latestVersion(name)\n  })\n}\n\n/**\n * Writes the package.json file to the given directory.\n *\n * @param directory - Directory where the package.json file will be written.\n * @param packageJSON - Package.json file to write.\n */\nexport async function writePackageJSON(directory: string, packageJSON: PackageJson): Promise<void> {\n  outputDebug(outputContent`JSON-encoding and writing content to package.json at ${outputToken.path(directory)}...`)\n  const packagePath = joinPath(directory, 'package.json')\n  await writeFile(packagePath, JSON.stringify(packageJSON, null, 2))\n}\n\n/**\n * Infers the package manager to be used based on the provided options and environment.\n *\n * This function determines the package manager in the following order of precedence:\n * 1. Uses the package manager specified in the options, if valid.\n * 2. Infers the package manager from the user agent string.\n * 3. Infers the package manager used for the global CLI installation.\n * 4. Defaults to 'npm' if no other method succeeds.\n *\n * @param optionsPackageManager - The package manager specified in the options (if any).\n * @returns The inferred package manager as a PackageManager type.\n */\nexport function inferPackageManager(optionsPackageManager: string | undefined, env = process.env): PackageManager {\n  if (optionsPackageManager && packageManager.includes(optionsPackageManager as PackageManager)) {\n    return optionsPackageManager as PackageManager\n  }\n  const usedPackageManager = packageManagerFromUserAgent(env)\n  if (usedPackageManager !== 'unknown') return usedPackageManager\n\n  const globalPackageManager = inferPackageManagerForGlobalCLI()\n  if (globalPackageManager !== 'unknown') return globalPackageManager\n\n  return 'npm'\n}\n", "import {isUnitTest} from '../../public/node/context/local.js'\nimport {LocalStorage} from '../../public/node/local-storage.js'\nimport {outputContent, outputDebug} from '@shopify/cli-kit/node/output'\n\ninterface CacheValue<T> {\n  value: T\n  timestamp: number\n}\n\nexport type IntrospectionUrlKey = `identity-introspection-url-${string}`\nexport type PackageVersionKey = `npm-package-${string}`\nexport type NotificationsKey = `notifications-${string}`\nexport type NotificationKey = `notification-${string}`\ntype MostRecentOccurrenceKey = `most-recent-occurrence-${string}`\ntype RateLimitKey = `rate-limited-occurrences-${string}`\n\ntype ExportedKey = IntrospectionUrlKey | PackageVersionKey | NotificationsKey | NotificationKey\n\ninterface Cache {\n  [introspectionUrlKey: IntrospectionUrlKey]: CacheValue<string>\n  [packageVersionKey: PackageVersionKey]: CacheValue<string>\n  [notifications: NotificationsKey]: CacheValue<string>\n  [notification: NotificationKey]: CacheValue<string>\n  [MostRecentOccurrenceKey: MostRecentOccurrenceKey]: CacheValue<boolean>\n  [rateLimitKey: RateLimitKey]: CacheValue<number[]>\n}\n\nexport interface ConfSchema {\n  sessionStore: string\n  cache?: Cache\n}\n\nlet _instance: LocalStorage<ConfSchema> | undefined\n\n/**\n * CLIKIT Store.\n *\n * @returns CLIKitStore.\n */\nfunction cliKitStore() {\n  if (!_instance) {\n    _instance = new LocalStorage<ConfSchema>({projectName: `shopify-cli-kit${isUnitTest() ? '-test' : ''}`})\n  }\n  return _instance\n}\n\n/**\n * Get session.\n *\n * @returns Session.\n */\nexport function getSession(config: LocalStorage<ConfSchema> = cliKitStore()): string | undefined {\n  outputDebug(outputContent`Getting session store...`)\n  return config.get('sessionStore')\n}\n\n/**\n * Set session.\n *\n * @param session - Session.\n */\nexport function setSession(session: string, config: LocalStorage<ConfSchema> = cliKitStore()): void {\n  outputDebug(outputContent`Setting session store...`)\n  config.set('sessionStore', session)\n}\n\n/**\n * Remove session.\n */\nexport function removeSession(config: LocalStorage<ConfSchema> = cliKitStore()): void {\n  outputDebug(outputContent`Removing session store...`)\n  config.delete('sessionStore')\n}\n\ntype CacheValueForKey<TKey extends keyof Cache> = NonNullable<Cache[TKey]>['value']\n\n/**\n * Fetch from cache, or run the provided function to get the value, and cache it\n * before returning it.\n * @param key - The key to use for the cache.\n * @param fn - The function to run to get the value to cache, if a cache miss occurs.\n * @param timeout - The maximum valid age of a cached value, in milliseconds.\n * If the cached value is older than this, it will be refreshed.\n * @returns The value from the cache or the result of the function.\n */\nexport async function cacheRetrieveOrRepopulate(\n  key: ExportedKey,\n  fn: () => Promise<CacheValueForKey<typeof key>>,\n  timeout?: number,\n  config = cliKitStore(),\n): Promise<CacheValueForKey<typeof key>> {\n  const cached = cacheRetrieve(key, config)\n\n  if (cached?.value !== undefined && (timeout === undefined || Date.now() - cached.timestamp < timeout)) {\n    return cached.value\n  }\n\n  const value = await fn()\n  cacheStore(key, value, config)\n  return value\n}\n\nexport function cacheStore(key: ExportedKey, value: string, config = cliKitStore()): void {\n  const cache: Cache = config.get('cache') || {}\n  cache[key] = {value, timestamp: Date.now()}\n  config.set('cache', cache)\n}\n\n/**\n * Fetch from cache if already populated, otherwise return undefined.\n * @param key - The key to use for the cache.\n * @returns The chache element.\n */\nexport function cacheRetrieve(key: ExportedKey, config = cliKitStore()): CacheValue<string> | undefined {\n  const cache: Cache = config.get('cache') || {}\n  return cache[key]\n}\n\nexport function cacheClear(config = cliKitStore()): void {\n  config.delete('cache')\n}\n\ninterface TimeInterval {\n  days?: number\n  hours?: number\n  minutes?: number\n  seconds?: number\n}\n\nfunction timeIntervalToMilliseconds({days = 0, hours = 0, minutes = 0, seconds = 0}: TimeInterval): number {\n  return (days * 24 * 60 * 60 + hours * 60 * 60 + minutes * 60 + seconds) * 1000\n}\n\n/**\n * Execute a task only if the most recent occurrence of the task is older than the specified timeout.\n * @param key - The key to use for the cache.\n * @param timeout - The maximum valid age of the most recent occurrence, expressed as an object with\n * days, hours, minutes, and seconds properties.\n * If the most recent occurrence is older than this, the task will be executed.\n * @param task - The task to run if the most recent occurrence is older than the timeout.\n * @returns true if the task was run, or false if the task was not run.\n */\nexport async function runAtMinimumInterval(\n  key: string,\n  timeout: TimeInterval,\n  task: () => Promise<void>,\n  config = cliKitStore(),\n): Promise<boolean> {\n  const cache: Cache = config.get('cache') || {}\n  const cacheKey: MostRecentOccurrenceKey = `most-recent-occurrence-${key}`\n  const cached = cache[cacheKey]\n\n  if (cached?.value !== undefined && Date.now() - cached.timestamp < timeIntervalToMilliseconds(timeout)) {\n    return false\n  }\n\n  await task()\n  cache[cacheKey] = {value: true, timestamp: Date.now()}\n  config.set('cache', cache)\n  return true\n}\n\ninterface RunWithRateLimitOptions {\n  /**\n   * The key to use for the cache.\n   */\n  key: string\n\n  /**\n   * The number of times the task can be run within the limit\n   */\n  limit: number\n\n  /**\n   * The window of time after which the rate limit is refreshed,\n   * expressed as an object with days, hours, minutes, and seconds properties.\n   * If the most recent occurrence is older than this, the task will be executed.\n   */\n  timeout: TimeInterval\n\n  /**\n   * The task to run if the most recent occurrence is older than the timeout.\n   */\n  task: () => Promise<void>\n}\n\n/**\n * Execute a task with a time-based rate limit. The rate limit is enforced by\n * checking how many times that task has been executed in a window of time ending\n * at the current time. If the task has been executed more than the allowed number\n * of times in that window, the task will not be executed.\n *\n * Note that this function has side effects, as it will also remove events prior\n * to the window of time that is being checked.\n * @param options - The options for the rate limiting.\n * @returns true, or undefined if the task was not run.\n */\nexport async function runWithRateLimit(options: RunWithRateLimitOptions, config = cliKitStore()): Promise<boolean> {\n  const {key, limit, timeout, task} = options\n  const cache: Cache = config.get('cache') || {}\n  const cacheKey: RateLimitKey = `rate-limited-occurrences-${key}`\n  const cached = cache[cacheKey]\n  const now = Date.now()\n\n  if (cached?.value) {\n    // First sweep through the cache and eliminate old events\n    const windowStart = now - timeIntervalToMilliseconds(timeout)\n    const occurrences = cached.value.filter((occurrence) => occurrence >= windowStart)\n\n    // Now check that the number of occurrences within the interval is below the limit\n    if (occurrences.length >= limit) {\n      // First remove the old occurrences from the cache\n      cache[cacheKey] = {value: occurrences, timestamp: Date.now()}\n      config.set('cache', cache)\n\n      return false\n    }\n\n    await task()\n    cache[cacheKey] = {value: [...occurrences, now], timestamp: now}\n  } else {\n    await task()\n    cache[cacheKey] = {value: [now], timestamp: now}\n  }\n  config.set('cache', cache)\n\n  return true\n}\n\nexport function getConfigStoreForPartnerStatus() {\n  return new LocalStorage<{[partnerToken: string]: {status: true; checkedAt: string}}>({\n    projectName: 'shopify-cli-kit-partner-status',\n  })\n}\n\nexport function getCachedPartnerAccountStatus(partnersToken: string): true | null {\n  if (!partnersToken) return null\n  const store = getConfigStoreForPartnerStatus()\n\n  const hasPartnerAccount = store.get(partnersToken)\n  if (hasPartnerAccount) {\n    // this never needs to expire\n    return true\n  }\n  return null\n}\n\nexport function setCachedPartnerAccountStatus(partnersToken: string) {\n  const store = getConfigStoreForPartnerStatus()\n\n  store.set(partnersToken, {status: true, checkedAt: new Date().toISOString()})\n}\n", "import Config from 'conf'\n\n/**\n * A wrapper around the `conf` package that provides a strongly-typed interface\n * for accessing the local storage.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport class LocalStorage<T extends {[key: string]: any}> {\n  private readonly config: Config<T>\n\n  constructor(options: {projectName?: string; cwd?: string}) {\n    this.config = new Config<T>(options)\n  }\n\n  /**\n   * Get a value from the local storage.\n   *\n   * @param key - The key to get.\n   * @returns The value.\n   */\n  get<TKey extends keyof T>(key: TKey): T[TKey] | undefined {\n    return this.config.get(key)\n  }\n\n  /**\n   * Set a value in the local storage.\n   *\n   * @param key - The key to set.\n   * @param value - The value to set.\n   */\n  set<TKey extends keyof T>(key: TKey, value?: T[TKey]): void {\n    this.config.set(key, value)\n  }\n\n  /**\n   * Delete a value from the local storage.\n   *\n   * @param key - The key to delete.\n   */\n  delete<TKey extends keyof T>(key: TKey): void {\n    this.config.delete(key)\n  }\n\n  /**\n   * Clear the local storage (delete all values).\n   */\n  clear(): void {\n    this.config.clear()\n  }\n}\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _Conf_validator, _Conf_encryptionKey, _Conf_options, _Conf_defaultValues;\n/* eslint-disable @typescript-eslint/naming-convention, @typescript-eslint/no-unsafe-return, @typescript-eslint/no-redundant-type-constituents */\nimport { isDeepStrictEqual } from 'node:util';\nimport process from 'node:process';\nimport { Buffer } from 'node:buffer';\nimport fs from 'node:fs';\nimport path from 'node:path';\nimport crypto from 'node:crypto';\nimport assert from 'node:assert';\nimport { EventEmitter } from 'node:events';\nimport { getProperty, hasProperty, setProperty, deleteProperty } from 'dot-prop';\nimport envPaths from 'env-paths';\nimport { writeFileSync as atomicWriteFileSync } from 'atomically';\nimport AjvModule from 'ajv';\nimport ajvFormatsModule from 'ajv-formats';\nimport debounceFn from 'debounce-fn';\nimport semver from 'semver';\n// FIXME: https://github.com/ajv-validator/ajv/issues/2047\nconst Ajv = AjvModule.default;\nconst ajvFormats = ajvFormatsModule.default;\nconst encryptionAlgorithm = 'aes-256-cbc';\nconst createPlainObject = () => Object.create(null);\nconst isExist = (data) => data !== undefined && data !== null;\nconst checkValueType = (key, value) => {\n    const nonJsonTypes = new Set([\n        'undefined',\n        'symbol',\n        'function',\n    ]);\n    const type = typeof value;\n    if (nonJsonTypes.has(type)) {\n        throw new TypeError(`Setting a value of type \\`${type}\\` for key \\`${key}\\` is not allowed as it's not supported by JSON`);\n    }\n};\nconst INTERNAL_KEY = '__internal__';\nconst MIGRATION_KEY = `${INTERNAL_KEY}.migrations.version`;\nexport default class Conf {\n    constructor(partialOptions = {}) {\n        Object.defineProperty(this, \"path\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"events\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        _Conf_validator.set(this, void 0);\n        _Conf_encryptionKey.set(this, void 0);\n        _Conf_options.set(this, void 0);\n        _Conf_defaultValues.set(this, {});\n        Object.defineProperty(this, \"_deserialize\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: value => JSON.parse(value)\n        });\n        Object.defineProperty(this, \"_serialize\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: value => JSON.stringify(value, undefined, '\\t')\n        });\n        const options = {\n            configName: 'config',\n            fileExtension: 'json',\n            projectSuffix: 'nodejs',\n            clearInvalidConfig: false,\n            accessPropertiesByDotNotation: true,\n            configFileMode: 0o666,\n            ...partialOptions,\n        };\n        if (!options.cwd) {\n            if (!options.projectName) {\n                throw new Error('Please specify the `projectName` option.');\n            }\n            options.cwd = envPaths(options.projectName, { suffix: options.projectSuffix }).config;\n        }\n        __classPrivateFieldSet(this, _Conf_options, options, \"f\");\n        if (options.schema) {\n            if (typeof options.schema !== 'object') {\n                throw new TypeError('The `schema` option must be an object.');\n            }\n            const ajv = new Ajv({\n                allErrors: true,\n                useDefaults: true,\n            });\n            ajvFormats(ajv);\n            const schema = {\n                type: 'object',\n                properties: options.schema,\n            };\n            __classPrivateFieldSet(this, _Conf_validator, ajv.compile(schema), \"f\");\n            for (const [key, value] of Object.entries(options.schema)) { // TODO: Remove the `as any`.\n                if (value?.default) {\n                    __classPrivateFieldGet(this, _Conf_defaultValues, \"f\")[key] = value.default; // eslint-disable-line @typescript-eslint/no-unsafe-assignment\n                }\n            }\n        }\n        if (options.defaults) {\n            __classPrivateFieldSet(this, _Conf_defaultValues, {\n                ...__classPrivateFieldGet(this, _Conf_defaultValues, \"f\"),\n                ...options.defaults,\n            }, \"f\");\n        }\n        if (options.serialize) {\n            this._serialize = options.serialize;\n        }\n        if (options.deserialize) {\n            this._deserialize = options.deserialize;\n        }\n        this.events = new EventEmitter();\n        __classPrivateFieldSet(this, _Conf_encryptionKey, options.encryptionKey, \"f\");\n        const fileExtension = options.fileExtension ? `.${options.fileExtension}` : '';\n        this.path = path.resolve(options.cwd, `${options.configName ?? 'config'}${fileExtension}`);\n        const fileStore = this.store;\n        const store = Object.assign(createPlainObject(), options.defaults, fileStore);\n        this._validate(store);\n        try {\n            assert.deepEqual(fileStore, store);\n        }\n        catch {\n            this.store = store;\n        }\n        if (options.watch) {\n            this._watch();\n        }\n        if (options.migrations) {\n            if (!options.projectVersion) {\n                throw new Error('Please specify the `projectVersion` option.');\n            }\n            this._migrate(options.migrations, options.projectVersion, options.beforeEachMigration);\n        }\n    }\n    get(key, defaultValue) {\n        if (__classPrivateFieldGet(this, _Conf_options, \"f\").accessPropertiesByDotNotation) {\n            return this._get(key, defaultValue);\n        }\n        const { store } = this;\n        return key in store ? store[key] : defaultValue;\n    }\n    set(key, value) {\n        if (typeof key !== 'string' && typeof key !== 'object') {\n            throw new TypeError(`Expected \\`key\\` to be of type \\`string\\` or \\`object\\`, got ${typeof key}`);\n        }\n        if (typeof key !== 'object' && value === undefined) {\n            throw new TypeError('Use `delete()` to clear values');\n        }\n        if (this._containsReservedKey(key)) {\n            throw new TypeError(`Please don't use the ${INTERNAL_KEY} key, as it's used to manage this module internal operations.`);\n        }\n        const { store } = this;\n        const set = (key, value) => {\n            checkValueType(key, value);\n            if (__classPrivateFieldGet(this, _Conf_options, \"f\").accessPropertiesByDotNotation) {\n                setProperty(store, key, value);\n            }\n            else {\n                store[key] = value;\n            }\n        };\n        if (typeof key === 'object') {\n            const object = key;\n            for (const [key, value] of Object.entries(object)) {\n                set(key, value);\n            }\n        }\n        else {\n            set(key, value);\n        }\n        this.store = store;\n    }\n    /**\n    Check if an item exists.\n\n    @param key - The key of the item to check.\n    */\n    has(key) {\n        if (__classPrivateFieldGet(this, _Conf_options, \"f\").accessPropertiesByDotNotation) {\n            return hasProperty(this.store, key);\n        }\n        return key in this.store;\n    }\n    /**\n    Reset items to their default values, as defined by the `defaults` or `schema` option.\n\n    @see `clear()` to reset all items.\n\n    @param keys - The keys of the items to reset.\n    */\n    reset(...keys) {\n        for (const key of keys) {\n            if (isExist(__classPrivateFieldGet(this, _Conf_defaultValues, \"f\")[key])) {\n                this.set(key, __classPrivateFieldGet(this, _Conf_defaultValues, \"f\")[key]);\n            }\n        }\n    }\n    delete(key) {\n        const { store } = this;\n        if (__classPrivateFieldGet(this, _Conf_options, \"f\").accessPropertiesByDotNotation) {\n            deleteProperty(store, key);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n            delete store[key];\n        }\n        this.store = store;\n    }\n    /**\n    Delete all items.\n\n    This resets known items to their default values, if defined by the `defaults` or `schema` option.\n    */\n    clear() {\n        this.store = createPlainObject();\n        for (const key of Object.keys(__classPrivateFieldGet(this, _Conf_defaultValues, \"f\"))) {\n            this.reset(key);\n        }\n    }\n    /**\n    Watches the given `key`, calling `callback` on any changes.\n\n    @param key - The key wo watch.\n    @param callback - A callback function that is called on any changes. When a `key` is first set `oldValue` will be `undefined`, and when a key is deleted `newValue` will be `undefined`.\n    @returns A function, that when called, will unsubscribe.\n    */\n    onDidChange(key, callback) {\n        if (typeof key !== 'string') {\n            throw new TypeError(`Expected \\`key\\` to be of type \\`string\\`, got ${typeof key}`);\n        }\n        if (typeof callback !== 'function') {\n            throw new TypeError(`Expected \\`callback\\` to be of type \\`function\\`, got ${typeof callback}`);\n        }\n        return this._handleChange(() => this.get(key), callback);\n    }\n    /**\n    Watches the whole config object, calling `callback` on any changes.\n\n    @param callback - A callback function that is called on any changes. When a `key` is first set `oldValue` will be `undefined`, and when a key is deleted `newValue` will be `undefined`.\n    @returns A function, that when called, will unsubscribe.\n    */\n    onDidAnyChange(callback) {\n        if (typeof callback !== 'function') {\n            throw new TypeError(`Expected \\`callback\\` to be of type \\`function\\`, got ${typeof callback}`);\n        }\n        return this._handleChange(() => this.store, callback);\n    }\n    get size() {\n        return Object.keys(this.store).length;\n    }\n    get store() {\n        try {\n            const data = fs.readFileSync(this.path, __classPrivateFieldGet(this, _Conf_encryptionKey, \"f\") ? null : 'utf8');\n            const dataString = this._encryptData(data);\n            const deserializedData = this._deserialize(dataString);\n            this._validate(deserializedData);\n            return Object.assign(createPlainObject(), deserializedData);\n        }\n        catch (error) {\n            if (error?.code === 'ENOENT') {\n                this._ensureDirectory();\n                return createPlainObject();\n            }\n            if (__classPrivateFieldGet(this, _Conf_options, \"f\").clearInvalidConfig && error.name === 'SyntaxError') {\n                return createPlainObject();\n            }\n            throw error;\n        }\n    }\n    set store(value) {\n        this._ensureDirectory();\n        this._validate(value);\n        this._write(value);\n        this.events.emit('change');\n    }\n    *[(_Conf_validator = new WeakMap(), _Conf_encryptionKey = new WeakMap(), _Conf_options = new WeakMap(), _Conf_defaultValues = new WeakMap(), Symbol.iterator)]() {\n        for (const [key, value] of Object.entries(this.store)) {\n            yield [key, value];\n        }\n    }\n    _encryptData(data) {\n        if (!__classPrivateFieldGet(this, _Conf_encryptionKey, \"f\")) {\n            return data.toString();\n        }\n        // Check if an initialization vector has been used to encrypt the data.\n        try {\n            const initializationVector = data.slice(0, 16);\n            const password = crypto.pbkdf2Sync(__classPrivateFieldGet(this, _Conf_encryptionKey, \"f\"), initializationVector.toString(), 10000, 32, 'sha512');\n            const decipher = crypto.createDecipheriv(encryptionAlgorithm, password, initializationVector);\n            return Buffer.concat([decipher.update(Buffer.from(data.slice(17))), decipher.final()]).toString('utf8');\n        }\n        catch { }\n        return data.toString();\n    }\n    _handleChange(getter, callback) {\n        let currentValue = getter();\n        const onChange = () => {\n            const oldValue = currentValue;\n            const newValue = getter();\n            if (isDeepStrictEqual(newValue, oldValue)) {\n                return;\n            }\n            currentValue = newValue;\n            callback.call(this, newValue, oldValue);\n        };\n        this.events.on('change', onChange);\n        return () => this.events.removeListener('change', onChange);\n    }\n    _validate(data) {\n        if (!__classPrivateFieldGet(this, _Conf_validator, \"f\")) {\n            return;\n        }\n        const valid = __classPrivateFieldGet(this, _Conf_validator, \"f\").call(this, data);\n        if (valid || !__classPrivateFieldGet(this, _Conf_validator, \"f\").errors) {\n            return;\n        }\n        const errors = __classPrivateFieldGet(this, _Conf_validator, \"f\").errors\n            .map(({ instancePath, message = '' }) => `\\`${instancePath.slice(1)}\\` ${message}`);\n        throw new Error('Config schema violation: ' + errors.join('; '));\n    }\n    _ensureDirectory() {\n        // Ensure the directory exists as it could have been deleted in the meantime.\n        fs.mkdirSync(path.dirname(this.path), { recursive: true });\n    }\n    _write(value) {\n        let data = this._serialize(value);\n        if (__classPrivateFieldGet(this, _Conf_encryptionKey, \"f\")) {\n            const initializationVector = crypto.randomBytes(16);\n            const password = crypto.pbkdf2Sync(__classPrivateFieldGet(this, _Conf_encryptionKey, \"f\"), initializationVector.toString(), 10000, 32, 'sha512');\n            const cipher = crypto.createCipheriv(encryptionAlgorithm, password, initializationVector);\n            data = Buffer.concat([initializationVector, Buffer.from(':'), cipher.update(Buffer.from(data)), cipher.final()]);\n        }\n        // Temporary workaround for Conf being packaged in a Ubuntu Snap app.\n        // See https://github.com/sindresorhus/conf/pull/82\n        if (process.env.SNAP) {\n            fs.writeFileSync(this.path, data, { mode: __classPrivateFieldGet(this, _Conf_options, \"f\").configFileMode });\n        }\n        else {\n            try {\n                atomicWriteFileSync(this.path, data, { mode: __classPrivateFieldGet(this, _Conf_options, \"f\").configFileMode });\n            }\n            catch (error) {\n                // Fix for https://github.com/sindresorhus/electron-store/issues/106\n                // Sometimes on Windows, we will get an EXDEV error when atomic writing\n                // (even though to the same directory), so we fall back to non atomic write\n                if (error?.code === 'EXDEV') {\n                    fs.writeFileSync(this.path, data, { mode: __classPrivateFieldGet(this, _Conf_options, \"f\").configFileMode });\n                    return;\n                }\n                throw error;\n            }\n        }\n    }\n    _watch() {\n        this._ensureDirectory();\n        if (!fs.existsSync(this.path)) {\n            this._write(createPlainObject());\n        }\n        if (process.platform === 'win32') {\n            fs.watch(this.path, { persistent: false }, debounceFn(() => {\n                // On Linux and Windows, writing to the config file emits a `rename` event, so we skip checking the event type.\n                this.events.emit('change');\n            }, { wait: 100 }));\n        }\n        else {\n            fs.watchFile(this.path, { persistent: false }, debounceFn(() => {\n                this.events.emit('change');\n            }, { wait: 5000 }));\n        }\n    }\n    _migrate(migrations, versionToMigrate, beforeEachMigration) {\n        let previousMigratedVersion = this._get(MIGRATION_KEY, '0.0.0');\n        const newerVersions = Object.keys(migrations)\n            .filter(candidateVersion => this._shouldPerformMigration(candidateVersion, previousMigratedVersion, versionToMigrate));\n        let storeBackup = { ...this.store };\n        for (const version of newerVersions) {\n            try {\n                if (beforeEachMigration) {\n                    beforeEachMigration(this, {\n                        fromVersion: previousMigratedVersion,\n                        toVersion: version,\n                        finalVersion: versionToMigrate,\n                        versions: newerVersions,\n                    });\n                }\n                const migration = migrations[version];\n                migration?.(this);\n                this._set(MIGRATION_KEY, version);\n                previousMigratedVersion = version;\n                storeBackup = { ...this.store };\n            }\n            catch (error) {\n                this.store = storeBackup;\n                throw new Error(`Something went wrong during the migration! Changes applied to the store until this failed migration will be restored. ${error}`);\n            }\n        }\n        if (this._isVersionInRangeFormat(previousMigratedVersion) || !semver.eq(previousMigratedVersion, versionToMigrate)) {\n            this._set(MIGRATION_KEY, versionToMigrate);\n        }\n    }\n    _containsReservedKey(key) {\n        if (typeof key === 'object') {\n            const firsKey = Object.keys(key)[0];\n            if (firsKey === INTERNAL_KEY) {\n                return true;\n            }\n        }\n        if (typeof key !== 'string') {\n            return false;\n        }\n        if (__classPrivateFieldGet(this, _Conf_options, \"f\").accessPropertiesByDotNotation) {\n            if (key.startsWith(`${INTERNAL_KEY}.`)) {\n                return true;\n            }\n            return false;\n        }\n        return false;\n    }\n    _isVersionInRangeFormat(version) {\n        return semver.clean(version) === null;\n    }\n    _shouldPerformMigration(candidateVersion, previousMigratedVersion, versionToMigrate) {\n        if (this._isVersionInRangeFormat(candidateVersion)) {\n            if (previousMigratedVersion !== '0.0.0' && semver.satisfies(previousMigratedVersion, candidateVersion)) {\n                return false;\n            }\n            return semver.satisfies(versionToMigrate, candidateVersion);\n        }\n        if (semver.lte(candidateVersion, previousMigratedVersion)) {\n            return false;\n        }\n        if (semver.gt(candidateVersion, versionToMigrate)) {\n            return false;\n        }\n        return true;\n    }\n    _get(key, defaultValue) {\n        return getProperty(this.store, key, defaultValue);\n    }\n    _set(key, value) {\n        const { store } = this;\n        setProperty(store, key, value);\n        this.store = store;\n    }\n}\n", "const isObject = value => {\n\tconst type = typeof value;\n\treturn value !== null && (type === 'object' || type === 'function');\n};\n\nconst disallowedKeys = new Set([\n\t'__proto__',\n\t'prototype',\n\t'constructor',\n]);\n\nconst digits = new Set('0123456789');\n\nfunction getPathSegments(path) {\n\tconst parts = [];\n\tlet currentSegment = '';\n\tlet currentPart = 'start';\n\tlet isIgnoring = false;\n\n\tfor (const character of path) {\n\t\tswitch (character) {\n\t\t\tcase '\\\\':\n\t\t\t\tif (currentPart === 'index') {\n\t\t\t\t\tthrow new Error('Invalid character in an index');\n\t\t\t\t}\n\n\t\t\t\tif (currentPart === 'indexEnd') {\n\t\t\t\t\tthrow new Error('Invalid character after an index');\n\t\t\t\t}\n\n\t\t\t\tif (isIgnoring) {\n\t\t\t\t\tcurrentSegment += character;\n\t\t\t\t}\n\n\t\t\t\tcurrentPart = 'property';\n\t\t\t\tisIgnoring = !isIgnoring;\n\t\t\t\tbreak;\n\n\t\t\tcase '.':\n\t\t\t\tif (currentPart === 'index') {\n\t\t\t\t\tthrow new Error('Invalid character in an index');\n\t\t\t\t}\n\n\t\t\t\tif (currentPart === 'indexEnd') {\n\t\t\t\t\tcurrentPart = 'property';\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (isIgnoring) {\n\t\t\t\t\tisIgnoring = false;\n\t\t\t\t\tcurrentSegment += character;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (disallowedKeys.has(currentSegment)) {\n\t\t\t\t\treturn [];\n\t\t\t\t}\n\n\t\t\t\tparts.push(currentSegment);\n\t\t\t\tcurrentSegment = '';\n\t\t\t\tcurrentPart = 'property';\n\t\t\t\tbreak;\n\n\t\t\tcase '[':\n\t\t\t\tif (currentPart === 'index') {\n\t\t\t\t\tthrow new Error('Invalid character in an index');\n\t\t\t\t}\n\n\t\t\t\tif (currentPart === 'indexEnd') {\n\t\t\t\t\tcurrentPart = 'index';\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (isIgnoring) {\n\t\t\t\t\tisIgnoring = false;\n\t\t\t\t\tcurrentSegment += character;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (currentPart === 'property') {\n\t\t\t\t\tif (disallowedKeys.has(currentSegment)) {\n\t\t\t\t\t\treturn [];\n\t\t\t\t\t}\n\n\t\t\t\t\tparts.push(currentSegment);\n\t\t\t\t\tcurrentSegment = '';\n\t\t\t\t}\n\n\t\t\t\tcurrentPart = 'index';\n\t\t\t\tbreak;\n\n\t\t\tcase ']':\n\t\t\t\tif (currentPart === 'index') {\n\t\t\t\t\tparts.push(Number.parseInt(currentSegment, 10));\n\t\t\t\t\tcurrentSegment = '';\n\t\t\t\t\tcurrentPart = 'indexEnd';\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (currentPart === 'indexEnd') {\n\t\t\t\t\tthrow new Error('Invalid character after an index');\n\t\t\t\t}\n\n\t\t\t\t// Falls through\n\n\t\t\tdefault:\n\t\t\t\tif (currentPart === 'index' && !digits.has(character)) {\n\t\t\t\t\tthrow new Error('Invalid character in an index');\n\t\t\t\t}\n\n\t\t\t\tif (currentPart === 'indexEnd') {\n\t\t\t\t\tthrow new Error('Invalid character after an index');\n\t\t\t\t}\n\n\t\t\t\tif (currentPart === 'start') {\n\t\t\t\t\tcurrentPart = 'property';\n\t\t\t\t}\n\n\t\t\t\tif (isIgnoring) {\n\t\t\t\t\tisIgnoring = false;\n\t\t\t\t\tcurrentSegment += '\\\\';\n\t\t\t\t}\n\n\t\t\t\tcurrentSegment += character;\n\t\t}\n\t}\n\n\tif (isIgnoring) {\n\t\tcurrentSegment += '\\\\';\n\t}\n\n\tswitch (currentPart) {\n\t\tcase 'property': {\n\t\t\tif (disallowedKeys.has(currentSegment)) {\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\t\tparts.push(currentSegment);\n\n\t\t\tbreak;\n\t\t}\n\n\t\tcase 'index': {\n\t\t\tthrow new Error('Index was not closed');\n\t\t}\n\n\t\tcase 'start': {\n\t\t\tparts.push('');\n\n\t\t\tbreak;\n\t\t}\n\t// No default\n\t}\n\n\treturn parts;\n}\n\nfunction isStringIndex(object, key) {\n\tif (typeof key !== 'number' && Array.isArray(object)) {\n\t\tconst index = Number.parseInt(key, 10);\n\t\treturn Number.isInteger(index) && object[index] === object[key];\n\t}\n\n\treturn false;\n}\n\nfunction assertNotStringIndex(object, key) {\n\tif (isStringIndex(object, key)) {\n\t\tthrow new Error('Cannot use string index');\n\t}\n}\n\nexport function getProperty(object, path, value) {\n\tif (!isObject(object) || typeof path !== 'string') {\n\t\treturn value === undefined ? object : value;\n\t}\n\n\tconst pathArray = getPathSegments(path);\n\tif (pathArray.length === 0) {\n\t\treturn value;\n\t}\n\n\tfor (let index = 0; index < pathArray.length; index++) {\n\t\tconst key = pathArray[index];\n\n\t\tif (isStringIndex(object, key)) {\n\t\t\tobject = index === pathArray.length - 1 ? undefined : null;\n\t\t} else {\n\t\t\tobject = object[key];\n\t\t}\n\n\t\tif (object === undefined || object === null) {\n\t\t\t// `object` is either `undefined` or `null` so we want to stop the loop, and\n\t\t\t// if this is not the last bit of the path, and\n\t\t\t// if it didn't return `undefined`\n\t\t\t// it would return `null` if `object` is `null`\n\t\t\t// but we want `get({foo: null}, 'foo.bar')` to equal `undefined`, or the supplied value, not `null`\n\t\t\tif (index !== pathArray.length - 1) {\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn object === undefined ? value : object;\n}\n\nexport function setProperty(object, path, value) {\n\tif (!isObject(object) || typeof path !== 'string') {\n\t\treturn object;\n\t}\n\n\tconst root = object;\n\tconst pathArray = getPathSegments(path);\n\n\tfor (let index = 0; index < pathArray.length; index++) {\n\t\tconst key = pathArray[index];\n\n\t\tassertNotStringIndex(object, key);\n\n\t\tif (index === pathArray.length - 1) {\n\t\t\tobject[key] = value;\n\t\t} else if (!isObject(object[key])) {\n\t\t\tobject[key] = typeof pathArray[index + 1] === 'number' ? [] : {};\n\t\t}\n\n\t\tobject = object[key];\n\t}\n\n\treturn root;\n}\n\nexport function deleteProperty(object, path) {\n\tif (!isObject(object) || typeof path !== 'string') {\n\t\treturn false;\n\t}\n\n\tconst pathArray = getPathSegments(path);\n\n\tfor (let index = 0; index < pathArray.length; index++) {\n\t\tconst key = pathArray[index];\n\n\t\tassertNotStringIndex(object, key);\n\n\t\tif (index === pathArray.length - 1) {\n\t\t\tdelete object[key];\n\t\t\treturn true;\n\t\t}\n\n\t\tobject = object[key];\n\n\t\tif (!isObject(object)) {\n\t\t\treturn false;\n\t\t}\n\t}\n}\n\nexport function hasProperty(object, path) {\n\tif (!isObject(object) || typeof path !== 'string') {\n\t\treturn false;\n\t}\n\n\tconst pathArray = getPathSegments(path);\n\tif (pathArray.length === 0) {\n\t\treturn false;\n\t}\n\n\tfor (const key of pathArray) {\n\t\tif (!isObject(object) || !(key in object) || isStringIndex(object, key)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tobject = object[key];\n\t}\n\n\treturn true;\n}\n\nexport function escapePath(path) {\n\tif (typeof path !== 'string') {\n\t\tthrow new TypeError('Expected a string');\n\t}\n\n\treturn path.replace(/[\\\\.[]/g, '\\\\$&');\n}\n\n// The keys returned by Object.entries() for arrays are strings\nfunction entries(value) {\n\tif (Array.isArray(value)) {\n\t\treturn value.map((value, index) => [index, value]);\n\t}\n\n\treturn Object.entries(value);\n}\n\nfunction stringifyPath(pathSegments) {\n\tlet result = '';\n\n\tfor (let [index, segment] of entries(pathSegments)) {\n\t\tif (typeof segment === 'number') {\n\t\t\tresult += `[${segment}]`;\n\t\t} else {\n\t\t\tsegment = escapePath(segment);\n\t\t\tresult += index === 0 ? segment : `.${segment}`;\n\t\t}\n\t}\n\n\treturn result;\n}\n\nfunction * deepKeysIterator(object, currentPath = []) {\n\tif (!isObject(object)) {\n\t\tif (currentPath.length > 0) {\n\t\t\tyield stringifyPath(currentPath);\n\t\t}\n\n\t\treturn;\n\t}\n\n\tfor (const [key, value] of entries(object)) {\n\t\tyield * deepKeysIterator(value, [...currentPath, key]);\n\t}\n}\n\nexport function deepKeys(object) {\n\treturn [...deepKeysIterator(object)];\n}\n", "/* IMPORT */\nimport path from 'node:path';\nimport fs from 'stubborn-fs';\nimport { DEFAULT_ENCODING, DEFAULT_FILE_MODE, DEFAULT_FOLDER_MODE, DEFAULT_READ_OPTIONS, DEFAULT_WRITE_OPTIONS, DEFAULT_USER_UID, DEFAULT_USER_GID, DEFAULT_TIMEOUT_ASYNC, DEFAULT_TIMEOUT_SYNC, IS_POSIX } from './constants.js';\nimport { isException, isFunction, isString, isUndefined } from './utils/lang.js';\nimport Scheduler from './utils/scheduler.js';\nimport Temp from './utils/temp.js';\nfunction readFile(filePath, options = DEFAULT_READ_OPTIONS) {\n    if (isString(options))\n        return readFile(filePath, { encoding: options });\n    const timeout = Date.now() + ((options.timeout ?? DEFAULT_TIMEOUT_ASYNC) || -1);\n    return fs.retry.readFile(timeout)(filePath, options);\n}\nfunction readFileSync(filePath, options = DEFAULT_READ_OPTIONS) {\n    if (isString(options))\n        return readFileSync(filePath, { encoding: options });\n    const timeout = Date.now() + ((options.timeout ?? DEFAULT_TIMEOUT_SYNC) || -1);\n    return fs.retry.readFileSync(timeout)(filePath, options);\n}\nfunction writeFile(filePath, data, options, callback) {\n    if (isFunction(options))\n        return writeFile(filePath, data, DEFAULT_WRITE_OPTIONS, options);\n    const promise = writeFileAsync(filePath, data, options);\n    if (callback)\n        promise.then(callback, callback);\n    return promise;\n}\nasync function writeFileAsync(filePath, data, options = DEFAULT_WRITE_OPTIONS) {\n    if (isString(options))\n        return writeFileAsync(filePath, data, { encoding: options });\n    const timeout = Date.now() + ((options.timeout ?? DEFAULT_TIMEOUT_ASYNC) || -1);\n    let schedulerCustomDisposer = null;\n    let schedulerDisposer = null;\n    let tempDisposer = null;\n    let tempPath = null;\n    let fd = null;\n    try {\n        if (options.schedule)\n            schedulerCustomDisposer = await options.schedule(filePath);\n        schedulerDisposer = await Scheduler.schedule(filePath);\n        const filePathReal = await fs.attempt.realpath(filePath);\n        const filePathExists = !!filePathReal;\n        filePath = filePathReal || filePath;\n        [tempPath, tempDisposer] = Temp.get(filePath, options.tmpCreate || Temp.create, !(options.tmpPurge === false));\n        const useStatChown = IS_POSIX && isUndefined(options.chown);\n        const useStatMode = isUndefined(options.mode);\n        if (filePathExists && (useStatChown || useStatMode)) {\n            const stats = await fs.attempt.stat(filePath);\n            if (stats) {\n                options = { ...options };\n                if (useStatChown) {\n                    options.chown = { uid: stats.uid, gid: stats.gid };\n                }\n                if (useStatMode) {\n                    options.mode = stats.mode;\n                }\n            }\n        }\n        if (!filePathExists) {\n            const parentPath = path.dirname(filePath);\n            await fs.attempt.mkdir(parentPath, {\n                mode: DEFAULT_FOLDER_MODE,\n                recursive: true\n            });\n        }\n        fd = await fs.retry.open(timeout)(tempPath, 'w', options.mode || DEFAULT_FILE_MODE);\n        if (options.tmpCreated) {\n            options.tmpCreated(tempPath);\n        }\n        if (isString(data)) {\n            await fs.retry.write(timeout)(fd, data, 0, options.encoding || DEFAULT_ENCODING);\n        }\n        else if (!isUndefined(data)) {\n            await fs.retry.write(timeout)(fd, data, 0, data.length, 0);\n        }\n        if (options.fsync !== false) {\n            if (options.fsyncWait !== false) {\n                await fs.retry.fsync(timeout)(fd);\n            }\n            else {\n                fs.attempt.fsync(fd);\n            }\n        }\n        await fs.retry.close(timeout)(fd);\n        fd = null;\n        if (options.chown && (options.chown.uid !== DEFAULT_USER_UID || options.chown.gid !== DEFAULT_USER_GID)) {\n            await fs.attempt.chown(tempPath, options.chown.uid, options.chown.gid);\n        }\n        if (options.mode && options.mode !== DEFAULT_FILE_MODE) {\n            await fs.attempt.chmod(tempPath, options.mode);\n        }\n        try {\n            await fs.retry.rename(timeout)(tempPath, filePath);\n        }\n        catch (error) {\n            if (!isException(error))\n                throw error;\n            if (error.code !== 'ENAMETOOLONG')\n                throw error;\n            await fs.retry.rename(timeout)(tempPath, Temp.truncate(filePath));\n        }\n        tempDisposer();\n        tempPath = null;\n    }\n    finally {\n        if (fd)\n            await fs.attempt.close(fd);\n        if (tempPath)\n            Temp.purge(tempPath);\n        if (schedulerCustomDisposer)\n            schedulerCustomDisposer();\n        if (schedulerDisposer)\n            schedulerDisposer();\n    }\n}\nfunction writeFileSync(filePath, data, options = DEFAULT_WRITE_OPTIONS) {\n    if (isString(options))\n        return writeFileSync(filePath, data, { encoding: options });\n    const timeout = Date.now() + ((options.timeout ?? DEFAULT_TIMEOUT_SYNC) || -1);\n    let tempDisposer = null;\n    let tempPath = null;\n    let fd = null;\n    try {\n        const filePathReal = fs.attempt.realpathSync(filePath);\n        const filePathExists = !!filePathReal;\n        filePath = filePathReal || filePath;\n        [tempPath, tempDisposer] = Temp.get(filePath, options.tmpCreate || Temp.create, !(options.tmpPurge === false));\n        const useStatChown = IS_POSIX && isUndefined(options.chown);\n        const useStatMode = isUndefined(options.mode);\n        if (filePathExists && (useStatChown || useStatMode)) {\n            const stats = fs.attempt.statSync(filePath);\n            if (stats) {\n                options = { ...options };\n                if (useStatChown) {\n                    options.chown = { uid: stats.uid, gid: stats.gid };\n                }\n                if (useStatMode) {\n                    options.mode = stats.mode;\n                }\n            }\n        }\n        if (!filePathExists) {\n            const parentPath = path.dirname(filePath);\n            fs.attempt.mkdirSync(parentPath, {\n                mode: DEFAULT_FOLDER_MODE,\n                recursive: true\n            });\n        }\n        fd = fs.retry.openSync(timeout)(tempPath, 'w', options.mode || DEFAULT_FILE_MODE);\n        if (options.tmpCreated) {\n            options.tmpCreated(tempPath);\n        }\n        if (isString(data)) {\n            fs.retry.writeSync(timeout)(fd, data, 0, options.encoding || DEFAULT_ENCODING);\n        }\n        else if (!isUndefined(data)) {\n            fs.retry.writeSync(timeout)(fd, data, 0, data.length, 0);\n        }\n        if (options.fsync !== false) {\n            if (options.fsyncWait !== false) {\n                fs.retry.fsyncSync(timeout)(fd);\n            }\n            else {\n                fs.attempt.fsync(fd);\n            }\n        }\n        fs.retry.closeSync(timeout)(fd);\n        fd = null;\n        if (options.chown && (options.chown.uid !== DEFAULT_USER_UID || options.chown.gid !== DEFAULT_USER_GID)) {\n            fs.attempt.chownSync(tempPath, options.chown.uid, options.chown.gid);\n        }\n        if (options.mode && options.mode !== DEFAULT_FILE_MODE) {\n            fs.attempt.chmodSync(tempPath, options.mode);\n        }\n        try {\n            fs.retry.renameSync(timeout)(tempPath, filePath);\n        }\n        catch (error) {\n            if (!isException(error))\n                throw error;\n            if (error.code !== 'ENAMETOOLONG')\n                throw error;\n            fs.retry.renameSync(timeout)(tempPath, Temp.truncate(filePath));\n        }\n        tempDisposer();\n        tempPath = null;\n    }\n    finally {\n        if (fd)\n            fs.attempt.closeSync(fd);\n        if (tempPath)\n            Temp.purge(tempPath);\n    }\n}\n/* EXPORT */\nexport { readFile, readFileSync, writeFile, writeFileSync };\n", "/* IMPORT */\nimport fs from 'node:fs';\nimport { promisify } from 'node:util';\nimport { attemptifyAsync, attemptifySync } from './attemptify.js';\nimport { NOOP } from './constants.js';\nimport Handlers from './handlers.js';\nimport { retryifyAsync, retryifySync } from './retryify.js';\n/* MAIN */\nconst FS = {\n    attempt: {\n        /* ASYNC */\n        chmod: attemptifyAsync(promisify(fs.chmod), Handlers.onChangeError),\n        chown: attemptifyAsync(promisify(fs.chown), Handlers.onChangeError),\n        close: attemptifyAsync(promisify(fs.close), NOOP),\n        fsync: attemptifyAsync(promisify(fs.fsync), NOOP),\n        mkdir: attemptifyAsync(promisify(fs.mkdir), NOOP),\n        realpath: attemptifyAsync(promisify(fs.realpath), NOOP),\n        stat: attemptifyAsync(promisify(fs.stat), NOOP),\n        unlink: attemptifyAsync(promisify(fs.unlink), NOOP),\n        /* SYNC */\n        chmodSync: attemptifySync(fs.chmodSync, Handlers.onChangeError),\n        chownSync: attemptifySync(fs.chownSync, Handlers.onChangeError),\n        closeSync: attemptifySync(fs.closeSync, NOOP),\n        existsSync: attemptifySync(fs.existsSync, NOOP),\n        fsyncSync: attemptifySync(fs.fsync, NOOP),\n        mkdirSync: attemptifySync(fs.mkdirSync, NOOP),\n        realpathSync: attemptifySync(fs.realpathSync, NOOP),\n        statSync: attemptifySync(fs.statSync, NOOP),\n        unlinkSync: attemptifySync(fs.unlinkSync, NOOP)\n    },\n    retry: {\n        /* ASYNC */\n        close: retryifyAsync(promisify(fs.close), Handlers.isRetriableError),\n        fsync: retryifyAsync(promisify(fs.fsync), Handlers.isRetriableError),\n        open: retryifyAsync(promisify(fs.open), Handlers.isRetriableError),\n        readFile: retryifyAsync(promisify(fs.readFile), Handlers.isRetriableError),\n        rename: retryifyAsync(promisify(fs.rename), Handlers.isRetriableError),\n        stat: retryifyAsync(promisify(fs.stat), Handlers.isRetriableError),\n        write: retryifyAsync(promisify(fs.write), Handlers.isRetriableError),\n        writeFile: retryifyAsync(promisify(fs.writeFile), Handlers.isRetriableError),\n        /* SYNC */\n        closeSync: retryifySync(fs.closeSync, Handlers.isRetriableError),\n        fsyncSync: retryifySync(fs.fsyncSync, Handlers.isRetriableError),\n        openSync: retryifySync(fs.openSync, Handlers.isRetriableError),\n        readFileSync: retryifySync(fs.readFileSync, Handlers.isRetriableError),\n        renameSync: retryifySync(fs.renameSync, Handlers.isRetriableError),\n        statSync: retryifySync(fs.statSync, Handlers.isRetriableError),\n        writeSync: retryifySync(fs.writeSync, Handlers.isRetriableError),\n        writeFileSync: retryifySync(fs.writeFileSync, Handlers.isRetriableError)\n    }\n};\n/* EXPORT */\nexport default FS;\n", "/* MAIN */\n//FIXME: The return type of these functions is wrong, it doesn't account for returning \"undefined\", but a correct type cannot be written because generics cannot be extended properly, it seems\nconst attemptifyAsync = (fn, onError) => {\n    return function attemptified(...args) {\n        return fn.apply(undefined, args).catch(onError);\n    };\n};\nconst attemptifySync = (fn, onError) => {\n    return function attemptified(...args) {\n        try {\n            return fn.apply(undefined, args);\n        }\n        catch (error) {\n            return onError(error);\n        }\n    };\n};\n/* EXPORT */\nexport { attemptifyAsync, attemptifySync };\n", "/* IMPORT */\nimport process from 'node:process';\n/* MAIN */\nconst IS_USER_ROOT = process.getuid ? !process.getuid() : false;\nconst LIMIT_FILES_DESCRIPTORS = 10000; //TODO: Fetch the real limit from the filesystem, somehow\nconst NOOP = () => undefined;\n/* EXPORT */\nexport { IS_USER_ROOT, LIMIT_FILES_DESCRIPTORS, NOOP };\n", "/* IMPORT */\nimport { IS_USER_ROOT } from './constants.js';\n/* MAIN */\nconst Handlers = {\n    /* API */\n    isChangeErrorOk: (error) => {\n        if (!Handlers.isNodeError(error))\n            return false;\n        const { code } = error;\n        if (code === 'ENOSYS')\n            return true;\n        if (!IS_USER_ROOT && (code === 'EINVAL' || code === 'EPERM'))\n            return true;\n        return false;\n    },\n    isNodeError: (error) => {\n        return (error instanceof Error);\n    },\n    isRetriableError: (error) => {\n        if (!Handlers.isNodeError(error))\n            return false;\n        const { code } = error;\n        if (code === 'EMFILE' || code === 'ENFILE' || code === 'EAGAIN' || code === 'EBUSY' || code === 'EACCESS' || code === 'EACCES' || code === 'EACCS' || code === 'EPERM')\n            return true;\n        return false;\n    },\n    onChangeError: (error) => {\n        if (!Handlers.isNodeError(error))\n            throw error;\n        if (Handlers.isChangeErrorOk(error))\n            return;\n        throw error;\n    }\n};\n/* EXPORT */\nexport default Handlers;\n", "/* IMPORT */\nimport RetryfyQueue from './retryify_queue.js';\n/* MAIN */\n//FIXME: There are a boatload of anys here, but apparently generics cannot be extended properly, so...\nconst retryifyAsync = (fn, isRetriableError) => {\n    return function retrified(timestamp) {\n        return function attempt(...args) {\n            return RetryfyQueue.schedule().then(cleanup => {\n                const onResolve = (result) => {\n                    cleanup();\n                    return result;\n                };\n                const onReject = (error) => {\n                    cleanup();\n                    if (Date.now() >= timestamp)\n                        throw error;\n                    if (isRetriableError(error)) {\n                        const delay = Math.round(100 * Math.random());\n                        const delayPromise = new Promise(resolve => setTimeout(resolve, delay));\n                        return delayPromise.then(() => attempt.apply(undefined, args));\n                    }\n                    throw error;\n                };\n                return fn.apply(undefined, args).then(onResolve, onReject);\n            });\n        };\n    };\n};\nconst retryifySync = (fn, isRetriableError) => {\n    return function retrified(timestamp) {\n        return function attempt(...args) {\n            try {\n                return fn.apply(undefined, args);\n            }\n            catch (error) {\n                if (Date.now() > timestamp)\n                    throw error;\n                if (isRetriableError(error))\n                    return attempt.apply(undefined, args);\n                throw error;\n            }\n        };\n    };\n};\n/* EXPORT */\nexport { retryifyAsync, retryifySync };\n", "/* IMPORT */\nimport { LIMIT_FILES_DESCRIPTORS } from './constants.js';\n/* MAIN */\nclass RetryfyQueue {\n    constructor() {\n        /* VARIABLES */\n        this.interval = 25;\n        this.intervalId = undefined;\n        this.limit = LIMIT_FILES_DESCRIPTORS;\n        this.queueActive = new Set();\n        this.queueWaiting = new Set();\n        /* LIFECYCLE API */\n        this.init = () => {\n            if (this.intervalId)\n                return;\n            this.intervalId = setInterval(this.tick, this.interval);\n        };\n        this.reset = () => {\n            if (!this.intervalId)\n                return;\n            clearInterval(this.intervalId);\n            delete this.intervalId;\n        };\n        /* API */\n        this.add = (fn) => {\n            this.queueWaiting.add(fn);\n            if (this.queueActive.size < (this.limit / 2)) { // Active queue not under preassure, executing immediately\n                this.tick();\n            }\n            else {\n                this.init();\n            }\n        };\n        this.remove = (fn) => {\n            this.queueWaiting.delete(fn);\n            this.queueActive.delete(fn);\n        };\n        this.schedule = () => {\n            return new Promise(resolve => {\n                const cleanup = () => this.remove(resolver);\n                const resolver = () => resolve(cleanup);\n                this.add(resolver);\n            });\n        };\n        this.tick = () => {\n            if (this.queueActive.size >= this.limit)\n                return;\n            if (!this.queueWaiting.size)\n                return this.reset();\n            for (const fn of this.queueWaiting) {\n                if (this.queueActive.size >= this.limit)\n                    break;\n                this.queueWaiting.delete(fn);\n                this.queueActive.add(fn);\n                fn();\n            }\n        };\n    }\n}\n;\n/* EXPORT */\nexport default new RetryfyQueue();\n", "/* IMPORT */\nimport os from 'node:os';\nimport process from 'node:process';\n/* MAIN */\nconst DEFAULT_ENCODING = 'utf8';\nconst DEFAULT_FILE_MODE = 0o666;\nconst DEFAULT_FOLDER_MODE = 0o777;\nconst DEFAULT_READ_OPTIONS = {};\nconst DEFAULT_WRITE_OPTIONS = {};\nconst DEFAULT_USER_UID = os.userInfo().uid;\nconst DEFAULT_USER_GID = os.userInfo().gid;\nconst DEFAULT_TIMEOUT_ASYNC = 7500;\nconst DEFAULT_TIMEOUT_SYNC = 1000;\nconst IS_POSIX = !!process.getuid;\nconst IS_USER_ROOT = process.getuid ? !process.getuid() : false;\nconst LIMIT_BASENAME_LENGTH = 128; //TODO: Fetch the real limit from the filesystem //TODO: Fetch the whole-path length limit too\nconst LIMIT_FILES_DESCRIPTORS = 10000; //TODO: Fetch the real limit from the filesystem\nconst NOOP = () => { };\n/* EXPORT */\nexport { DEFAULT_ENCODING, DEFAULT_FILE_MODE, DEFAULT_FOLDER_MODE, DEFAULT_READ_OPTIONS, DEFAULT_WRITE_OPTIONS, DEFAULT_USER_UID, DEFAULT_USER_GID, DEFAULT_TIMEOUT_ASYNC, DEFAULT_TIMEOUT_SYNC, IS_POSIX, IS_USER_ROOT, LIMIT_BASENAME_LENGTH, LIMIT_FILES_DESCRIPTORS, NOOP };\n", "/* IMPORT */\n/* MAIN */\nconst isException = (value) => {\n    return (value instanceof Error) && ('code' in value);\n};\nconst isFunction = (value) => {\n    return (typeof value === 'function');\n};\nconst isString = (value) => {\n    return (typeof value === 'string');\n};\nconst isUndefined = (value) => {\n    return (value === undefined);\n};\n/* EXPORT */\nexport { isException, isFunction, isString, isUndefined };\n", "/* IMPORT */\n/* HELPERS */\nconst Queues = {};\n/* MAIN */\n//TODO: Maybe publish this as a standalone package\nconst Scheduler = {\n    /* API */\n    next: (id) => {\n        const queue = Queues[id];\n        if (!queue)\n            return;\n        queue.shift();\n        const job = queue[0];\n        if (job) {\n            job(() => Scheduler.next(id));\n        }\n        else {\n            delete Queues[id];\n        }\n    },\n    schedule: (id) => {\n        return new Promise(resolve => {\n            let queue = Queues[id];\n            if (!queue)\n                queue = Queues[id] = [];\n            queue.push(resolve);\n            if (queue.length > 1)\n                return;\n            resolve(() => Scheduler.next(id));\n        });\n    }\n};\n/* EXPORT */\nexport default Scheduler;\n", "/* IMPORT */\nimport path from 'node:path';\nimport fs from 'stubborn-fs';\nimport whenExit from 'when-exit';\nimport { LIMIT_BASENAME_LENGTH } from '../constants.js';\n/* MAIN */\n//TODO: Maybe publish this as a standalone package\nconst Temp = {\n    /* VARIABLES */\n    store: {},\n    /* API */\n    create: (filePath) => {\n        const randomness = `000000${Math.floor(Math.random() * 16777215).toString(16)}`.slice(-6); // 6 random-enough hex characters\n        const timestamp = Date.now().toString().slice(-10); // 10 precise timestamp digits\n        const prefix = 'tmp-';\n        const suffix = `.${prefix}${timestamp}${randomness}`;\n        const tempPath = `${filePath}${suffix}`;\n        return tempPath;\n    },\n    get: (filePath, creator, purge = true) => {\n        const tempPath = Temp.truncate(creator(filePath));\n        if (tempPath in Temp.store)\n            return Temp.get(filePath, creator, purge); // Collision found, try again\n        Temp.store[tempPath] = purge;\n        const disposer = () => delete Temp.store[tempPath];\n        return [tempPath, disposer];\n    },\n    purge: (filePath) => {\n        if (!Temp.store[filePath])\n            return;\n        delete Temp.store[filePath];\n        fs.attempt.unlink(filePath);\n    },\n    purgeSync: (filePath) => {\n        if (!Temp.store[filePath])\n            return;\n        delete Temp.store[filePath];\n        fs.attempt.unlinkSync(filePath);\n    },\n    purgeSyncAll: () => {\n        for (const filePath in Temp.store) {\n            Temp.purgeSync(filePath);\n        }\n    },\n    truncate: (filePath) => {\n        const basename = path.basename(filePath);\n        if (basename.length <= LIMIT_BASENAME_LENGTH)\n            return filePath; //FIXME: Rough and quick attempt at detecting ok lengths\n        const truncable = /^(\\.?)(.*?)((?:\\.[^.]+)?(?:\\.tmp-\\d{10}[a-f0-9]{6})?)$/.exec(basename);\n        if (!truncable)\n            return filePath; //FIXME: No truncable part detected, can't really do much without also changing the parent path, which is unsafe, hoping for the best here\n        const truncationLength = basename.length - LIMIT_BASENAME_LENGTH;\n        return `${filePath.slice(0, -basename.length)}${truncable[1]}${truncable[2].slice(0, -truncationLength)}${truncable[3]}`; //FIXME: The truncable part might be shorter than needed here\n    }\n};\n/* INIT */\nwhenExit(Temp.purgeSyncAll); // Ensuring purgeable temp files are purged on exit\n/* EXPORT */\nexport default Temp;\n", "/* IMPORT */\nimport Interceptor from './interceptor.js';\n/* MAIN */\nconst whenExit = Interceptor.register;\n/* EXPORT */\nexport default whenExit;\n", "/* IMPORT */\nimport process from 'node:process';\nimport { IS_WINDOWS } from './constants.js';\nimport Signals from './signals.js';\n/* MAIN */\nclass Interceptor {\n    /* CONSTRUCTOR */\n    constructor() {\n        /* VARIABLES */\n        this.callbacks = new Set();\n        this.exited = false;\n        /* API */\n        this.exit = (signal) => {\n            if (this.exited)\n                return;\n            this.exited = true;\n            for (const callback of this.callbacks) {\n                callback();\n            }\n            if (signal) {\n                if (IS_WINDOWS && (signal !== 'SIGINT' && signal !== 'SIGTERM' && signal !== 'SIGKILL')) { // Windows doesn't support POSIX signals, but Node emulates these 3 signals for us\n                    process.kill(process.pid, 'SIGTERM');\n                }\n                else {\n                    process.kill(process.pid, signal);\n                }\n            }\n        };\n        this.hook = () => {\n            process.once('exit', () => this.exit());\n            for (const signal of Signals) {\n                process.once(signal, () => this.exit(signal));\n            }\n        };\n        this.register = (callback) => {\n            this.callbacks.add(callback);\n            return () => {\n                this.callbacks.delete(callback);\n            };\n        };\n        this.hook();\n    }\n}\n/* EXPORT */\nexport default new Interceptor();\n", "/* IMPORT */\nimport process from 'node:process';\n/* MAIN */\nconst IS_LINUX = (process.platform === 'linux');\nconst IS_WINDOWS = (process.platform === 'win32');\n/* EXPORT */\nexport { IS_LINUX, IS_WINDOWS };\n", "/* IMPORT */\nimport { IS_LINUX, IS_WINDOWS } from './constants.js';\n/* MAIN */\n//URL: https://github.com/tapjs/signal-exit/blob/03dd77a96caa309c6a02c59274d58c812a2dce45/signals.js\nconst Signals = ['SIGABRT', 'SIGALRM', 'SIGHUP', 'SIGINT', 'SIGTERM'];\nif (!IS_WINDOWS) {\n    Signals.push('SIGVTALRM', 'SIGXCPU', 'SIGXFSZ', 'SIGUSR2', 'SIGTRAP', 'SIGSYS', 'SIGQUIT', 'SIGIOT');\n}\nif (IS_LINUX) {\n    Signals.push('SIGIO', 'SIGPOLL', 'SIGPWR', 'SIGSTKFLT', 'SIGUNUSED');\n}\n/* EXPORT */\nexport default Signals;\n", "import mimicFn from 'mimic-fn';\n\nconst debounceFn = (inputFunction, options = {}) => {\n\tif (typeof inputFunction !== 'function') {\n\t\tthrow new TypeError(`Expected the first argument to be a function, got \\`${typeof inputFunction}\\``);\n\t}\n\n\tconst {\n\t\twait = 0,\n\t\tmaxWait = Number.POSITIVE_INFINITY,\n\t\tbefore = false,\n\t\tafter = true,\n\t} = options;\n\n\tif (!before && !after) {\n\t\tthrow new Error('Both `before` and `after` are false, function wouldn\\'t be called.');\n\t}\n\n\tlet timeout;\n\tlet maxTimeout;\n\tlet result;\n\n\tconst debouncedFunction = function (...arguments_) {\n\t\tconst context = this; // eslint-disable-line unicorn/no-this-assignment\n\n\t\tconst later = () => {\n\t\t\ttimeout = undefined;\n\n\t\t\tif (maxTimeout) {\n\t\t\t\tclearTimeout(maxTimeout);\n\t\t\t\tmaxTimeout = undefined;\n\t\t\t}\n\n\t\t\tif (after) {\n\t\t\t\tresult = inputFunction.apply(context, arguments_);\n\t\t\t}\n\t\t};\n\n\t\tconst maxLater = () => {\n\t\t\tmaxTimeout = undefined;\n\n\t\t\tif (timeout) {\n\t\t\t\tclearTimeout(timeout);\n\t\t\t\ttimeout = undefined;\n\t\t\t}\n\n\t\t\tif (after) {\n\t\t\t\tresult = inputFunction.apply(context, arguments_);\n\t\t\t}\n\t\t};\n\n\t\tconst shouldCallNow = before && !timeout;\n\t\tclearTimeout(timeout);\n\t\ttimeout = setTimeout(later, wait);\n\n\t\tif (maxWait > 0 && maxWait !== Number.POSITIVE_INFINITY && !maxTimeout) {\n\t\t\tmaxTimeout = setTimeout(maxLater, maxWait);\n\t\t}\n\n\t\tif (shouldCallNow) {\n\t\t\tresult = inputFunction.apply(context, arguments_);\n\t\t}\n\n\t\treturn result;\n\t};\n\n\tmimicFn(debouncedFunction, inputFunction);\n\n\tdebouncedFunction.cancel = () => {\n\t\tif (timeout) {\n\t\t\tclearTimeout(timeout);\n\t\t\ttimeout = undefined;\n\t\t}\n\n\t\tif (maxTimeout) {\n\t\t\tclearTimeout(maxTimeout);\n\t\t\tmaxTimeout = undefined;\n\t\t}\n\t};\n\n\treturn debouncedFunction;\n};\n\nexport default debounceFn;\n", "import packageJson from 'package-json';\n\nexport default async function latestVersion(packageName, options) {\n\tconst {version} = await packageJson(packageName.toLowerCase(), options);\n\treturn version;\n}\n", "import {Agent as HttpAgent} from 'node:http';\nimport {Agent as HttpsAgent} from 'node:https';\nimport got from 'got';\nimport registryUrl from 'registry-url';\nimport registryAuthToken from 'registry-auth-token';\nimport semver from 'semver';\n\n// These agent options are chosen to match the npm client defaults and help with performance\n// See: `npm config get maxsockets` and #50\nconst agentOptions = {\n\tkeepAlive: true,\n\tmaxSockets: 50,\n};\n\nconst httpAgent = new HttpAgent(agentOptions);\nconst httpsAgent = new HttpsAgent(agentOptions);\n\nexport class PackageNotFoundError extends Error {\n\tconstructor(packageName) {\n\t\tsuper(`Package \\`${packageName}\\` could not be found`);\n\t\tthis.name = 'PackageNotFoundError';\n\t}\n}\n\nexport class VersionNotFoundError extends Error {\n\tconstructor(packageName, version) {\n\t\tsuper(`Version \\`${version}\\` for package \\`${packageName}\\` could not be found`);\n\t\tthis.name = 'VersionNotFoundError';\n\t}\n}\n\nexport default async function packageJson(packageName, options) {\n\toptions = {\n\t\tversion: 'latest',\n\t\t...options,\n\t};\n\n\tconst scope = packageName.split('/')[0];\n\tconst registryUrl_ = options.registryUrl || registryUrl(scope);\n\tconst packageUrl = new URL(encodeURIComponent(packageName).replace(/^%40/, '@'), registryUrl_);\n\tconst authInfo = registryAuthToken(registryUrl_.toString(), {recursive: true});\n\n\tconst headers = {\n\t\taccept: 'application/vnd.npm.install-v1+json; q=1.0, application/json; q=0.8, */*',\n\t};\n\n\tif (options.fullMetadata) {\n\t\tdelete headers.accept;\n\t}\n\n\tif (authInfo) {\n\t\theaders.authorization = `${authInfo.type} ${authInfo.token}`;\n\t}\n\n\tconst gotOptions = {\n\t\theaders,\n\t\tagent: {\n\t\t\thttp: httpAgent,\n\t\t\thttps: httpsAgent,\n\t\t},\n\t};\n\n\tif (options.agent) {\n\t\tgotOptions.agent = options.agent;\n\t}\n\n\tlet data;\n\ttry {\n\t\tdata = await got(packageUrl, gotOptions).json();\n\t} catch (error) {\n\t\tif (error?.response?.statusCode === 404) {\n\t\t\tthrow new PackageNotFoundError(packageName);\n\t\t}\n\n\t\tthrow error;\n\t}\n\n\tif (options.allVersions) {\n\t\treturn data;\n\t}\n\n\tlet {version} = options;\n\tconst versionError = new VersionNotFoundError(packageName, version);\n\n\tif (data['dist-tags'][version]) {\n\t\tconst time = data.time;\n\t\tdata = data.versions[data['dist-tags'][version]];\n\t\tdata.time = time;\n\t} else if (version) {\n\t\tif (!data.versions[version]) {\n\t\t\tconst versions = Object.keys(data.versions);\n\t\t\tversion = semver.maxSatisfying(versions, version);\n\n\t\t\tif (!version) {\n\t\t\t\tthrow versionError;\n\t\t\t}\n\t\t}\n\n\t\tconst time = data.time;\n\t\tdata = data.versions[version];\n\t\tdata.time = time;\n\n\t\tif (!data) {\n\t\t\tthrow versionError;\n\t\t}\n\t}\n\n\treturn data;\n}\n", "import create from './create.js';\nimport Options from './core/options.js';\nconst defaults = {\n    options: new Options(),\n    handlers: [],\n    mutableDefaults: false,\n};\nconst got = create(defaults);\nexport default got;\nexport { got };\nexport { default as Options } from './core/options.js';\nexport * from './core/options.js';\nexport * from './core/response.js';\nexport * from './core/index.js';\nexport * from './core/errors.js';\nexport { default as calculateRetryDelay } from './core/calculate-retry-delay.js';\nexport * from './as-promise/types.js';\nexport * from './types.js';\nexport { default as create } from './create.js';\nexport { default as parseLinkHeader } from './core/parse-link-header.js';\n", "import is, { assert } from '@sindresorhus/is';\nimport asPromise from './as-promise/index.js';\nimport Request from './core/index.js';\nimport Options from './core/options.js';\n// The `delay` package weighs 10KB (!)\nconst delay = async (ms) => new Promise(resolve => {\n    setTimeout(resolve, ms);\n});\nconst isGotInstance = (value) => is.function_(value);\nconst aliases = [\n    'get',\n    'post',\n    'put',\n    'patch',\n    'head',\n    'delete',\n];\nconst create = (defaults) => {\n    defaults = {\n        options: new Options(undefined, undefined, defaults.options),\n        handlers: [...defaults.handlers],\n        mutableDefaults: defaults.mutableDefaults,\n    };\n    Object.defineProperty(defaults, 'mutableDefaults', {\n        enumerable: true,\n        configurable: false,\n        writable: false,\n    });\n    // Got interface\n    const got = ((url, options, defaultOptions = defaults.options) => {\n        const request = new Request(url, options, defaultOptions);\n        let promise;\n        const lastHandler = (normalized) => {\n            // Note: `options` is `undefined` when `new Options(...)` fails\n            request.options = normalized;\n            request._noPipe = !normalized.isStream;\n            void request.flush();\n            if (normalized.isStream) {\n                return request;\n            }\n            if (!promise) {\n                promise = asPromise(request);\n            }\n            return promise;\n        };\n        let iteration = 0;\n        const iterateHandlers = (newOptions) => {\n            const handler = defaults.handlers[iteration++] ?? lastHandler;\n            const result = handler(newOptions, iterateHandlers);\n            if (is.promise(result) && !request.options.isStream) {\n                if (!promise) {\n                    promise = asPromise(request);\n                }\n                if (result !== promise) {\n                    const descriptors = Object.getOwnPropertyDescriptors(promise);\n                    for (const key in descriptors) {\n                        if (key in result) {\n                            // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n                            delete descriptors[key];\n                        }\n                    }\n                    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n                    Object.defineProperties(result, descriptors);\n                    result.cancel = promise.cancel;\n                }\n            }\n            return result;\n        };\n        return iterateHandlers(request.options);\n    });\n    got.extend = (...instancesOrOptions) => {\n        const options = new Options(undefined, undefined, defaults.options);\n        const handlers = [...defaults.handlers];\n        let mutableDefaults;\n        for (const value of instancesOrOptions) {\n            if (isGotInstance(value)) {\n                options.merge(value.defaults.options);\n                handlers.push(...value.defaults.handlers);\n                mutableDefaults = value.defaults.mutableDefaults;\n            }\n            else {\n                options.merge(value);\n                if (value.handlers) {\n                    handlers.push(...value.handlers);\n                }\n                mutableDefaults = value.mutableDefaults;\n            }\n        }\n        return create({\n            options,\n            handlers,\n            mutableDefaults: Boolean(mutableDefaults),\n        });\n    };\n    // Pagination\n    const paginateEach = (async function* (url, options) {\n        let normalizedOptions = new Options(url, options, defaults.options);\n        normalizedOptions.resolveBodyOnly = false;\n        const { pagination } = normalizedOptions;\n        assert.function_(pagination.transform);\n        assert.function_(pagination.shouldContinue);\n        assert.function_(pagination.filter);\n        assert.function_(pagination.paginate);\n        assert.number(pagination.countLimit);\n        assert.number(pagination.requestLimit);\n        assert.number(pagination.backoff);\n        const allItems = [];\n        let { countLimit } = pagination;\n        let numberOfRequests = 0;\n        while (numberOfRequests < pagination.requestLimit) {\n            if (numberOfRequests !== 0) {\n                // eslint-disable-next-line no-await-in-loop\n                await delay(pagination.backoff);\n            }\n            // eslint-disable-next-line no-await-in-loop\n            const response = (await got(undefined, undefined, normalizedOptions));\n            // eslint-disable-next-line no-await-in-loop\n            const parsed = await pagination.transform(response);\n            const currentItems = [];\n            assert.array(parsed);\n            for (const item of parsed) {\n                if (pagination.filter({ item, currentItems, allItems })) {\n                    if (!pagination.shouldContinue({ item, currentItems, allItems })) {\n                        return;\n                    }\n                    yield item;\n                    if (pagination.stackAllItems) {\n                        allItems.push(item);\n                    }\n                    currentItems.push(item);\n                    if (--countLimit <= 0) {\n                        return;\n                    }\n                }\n            }\n            const optionsToMerge = pagination.paginate({\n                response,\n                currentItems,\n                allItems,\n            });\n            if (optionsToMerge === false) {\n                return;\n            }\n            if (optionsToMerge === response.request.options) {\n                normalizedOptions = response.request.options;\n            }\n            else {\n                normalizedOptions.merge(optionsToMerge);\n                assert.any([is.urlInstance, is.undefined], optionsToMerge.url);\n                if (optionsToMerge.url !== undefined) {\n                    normalizedOptions.prefixUrl = '';\n                    normalizedOptions.url = optionsToMerge.url;\n                }\n            }\n            numberOfRequests++;\n        }\n    });\n    got.paginate = paginateEach;\n    got.paginate.all = (async (url, options) => {\n        const results = [];\n        for await (const item of paginateEach(url, options)) {\n            results.push(item);\n        }\n        return results;\n    });\n    // For those who like very descriptive names\n    got.paginate.each = paginateEach;\n    // Stream API\n    got.stream = ((url, options) => got(url, { ...options, isStream: true }));\n    // Shortcuts\n    for (const method of aliases) {\n        got[method] = ((url, options) => got(url, { ...options, method }));\n        got.stream[method] = ((url, options) => got(url, { ...options, method, isStream: true }));\n    }\n    if (!defaults.mutableDefaults) {\n        Object.freeze(defaults.handlers);\n        defaults.options.freeze();\n    }\n    Object.defineProperty(got, 'defaults', {\n        value: defaults,\n        writable: false,\n        configurable: false,\n        enumerable: true,\n    });\n    return got;\n};\nexport default create;\n", "const typedArrayTypeNames = [\n    'Int8Array',\n    'Uint8Array',\n    'Uint8ClampedArray',\n    'Int16Array',\n    'Uint16Array',\n    'Int32Array',\n    'Uint32Array',\n    'Float32Array',\n    'Float64Array',\n    'BigInt64Array',\n    'BigUint64Array',\n];\nfunction isTypedArrayName(name) {\n    return typedArrayTypeNames.includes(name);\n}\nconst objectTypeNames = [\n    'Function',\n    'Generator',\n    'AsyncGenerator',\n    'GeneratorFunction',\n    'AsyncGeneratorFunction',\n    'AsyncFunction',\n    'Observable',\n    'Array',\n    'Buffer',\n    'Blob',\n    'Object',\n    'RegExp',\n    'Date',\n    'Error',\n    'Map',\n    'Set',\n    'WeakMap',\n    'WeakSet',\n    'WeakRef',\n    'ArrayBuffer',\n    'SharedArrayBuffer',\n    'DataView',\n    'Promise',\n    'URL',\n    'FormData',\n    'URLSearchParams',\n    'HTMLElement',\n    'NaN',\n    ...typedArrayTypeNames,\n];\nfunction isObjectTypeName(name) {\n    return objectTypeNames.includes(name);\n}\nconst primitiveTypeNames = [\n    'null',\n    'undefined',\n    'string',\n    'number',\n    'bigint',\n    'boolean',\n    'symbol',\n];\nfunction isPrimitiveTypeName(name) {\n    return primitiveTypeNames.includes(name);\n}\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction isOfType(type) {\n    return (value) => typeof value === type;\n}\nconst { toString } = Object.prototype;\nconst getObjectType = (value) => {\n    const objectTypeName = toString.call(value).slice(8, -1);\n    if (/HTML\\w+Element/.test(objectTypeName) && is.domElement(value)) {\n        return 'HTMLElement';\n    }\n    if (isObjectTypeName(objectTypeName)) {\n        return objectTypeName;\n    }\n    return undefined;\n};\nconst isObjectOfType = (type) => (value) => getObjectType(value) === type;\nfunction is(value) {\n    if (value === null) {\n        return 'null';\n    }\n    switch (typeof value) {\n        case 'undefined': {\n            return 'undefined';\n        }\n        case 'string': {\n            return 'string';\n        }\n        case 'number': {\n            return Number.isNaN(value) ? 'NaN' : 'number';\n        }\n        case 'boolean': {\n            return 'boolean';\n        }\n        case 'function': {\n            return 'Function';\n        }\n        case 'bigint': {\n            return 'bigint';\n        }\n        case 'symbol': {\n            return 'symbol';\n        }\n        default:\n    }\n    if (is.observable(value)) {\n        return 'Observable';\n    }\n    if (is.array(value)) {\n        return 'Array';\n    }\n    if (is.buffer(value)) {\n        return 'Buffer';\n    }\n    const tagType = getObjectType(value);\n    if (tagType) {\n        return tagType;\n    }\n    if (value instanceof String || value instanceof Boolean || value instanceof Number) {\n        throw new TypeError('Please don\\'t use object wrappers for primitive types');\n    }\n    return 'Object';\n}\nis.undefined = isOfType('undefined');\nis.string = isOfType('string');\nconst isNumberType = isOfType('number');\nis.number = (value) => isNumberType(value) && !is.nan(value);\nis.positiveNumber = (value) => is.number(value) && value > 0;\nis.negativeNumber = (value) => is.number(value) && value < 0;\nis.bigint = isOfType('bigint');\n// eslint-disable-next-line @typescript-eslint/ban-types\nis.function_ = isOfType('function');\n// eslint-disable-next-line @typescript-eslint/ban-types\nis.null_ = (value) => value === null;\nis.class_ = (value) => is.function_(value) && value.toString().startsWith('class ');\nis.boolean = (value) => value === true || value === false;\nis.symbol = isOfType('symbol');\nis.numericString = (value) => is.string(value) && !is.emptyStringOrWhitespace(value) && !Number.isNaN(Number(value));\nis.array = (value, assertion) => {\n    if (!Array.isArray(value)) {\n        return false;\n    }\n    if (!is.function_(assertion)) {\n        return true;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n    return value.every(element => assertion(element));\n};\n// eslint-disable-next-line @typescript-eslint/no-unsafe-return, @typescript-eslint/no-unsafe-call\nis.buffer = (value) => value?.constructor?.isBuffer?.(value) ?? false;\nis.blob = (value) => isObjectOfType('Blob')(value);\nis.nullOrUndefined = (value) => is.null_(value) || is.undefined(value); // eslint-disable-line @typescript-eslint/ban-types\nis.object = (value) => !is.null_(value) && (typeof value === 'object' || is.function_(value)); // eslint-disable-line @typescript-eslint/ban-types\nis.iterable = (value) => is.function_(value?.[Symbol.iterator]);\nis.asyncIterable = (value) => is.function_(value?.[Symbol.asyncIterator]);\nis.generator = (value) => is.iterable(value) && is.function_(value?.next) && is.function_(value?.throw);\nis.asyncGenerator = (value) => is.asyncIterable(value) && is.function_(value.next) && is.function_(value.throw);\nis.nativePromise = (value) => isObjectOfType('Promise')(value);\nconst hasPromiseApi = (value) => is.function_(value?.then)\n    && is.function_(value?.catch);\nis.promise = (value) => is.nativePromise(value) || hasPromiseApi(value);\nis.generatorFunction = isObjectOfType('GeneratorFunction');\nis.asyncGeneratorFunction = (value) => getObjectType(value) === 'AsyncGeneratorFunction';\nis.asyncFunction = (value) => getObjectType(value) === 'AsyncFunction';\n// eslint-disable-next-line no-prototype-builtins, @typescript-eslint/ban-types\nis.boundFunction = (value) => is.function_(value) && !value.hasOwnProperty('prototype');\nis.regExp = isObjectOfType('RegExp');\nis.date = isObjectOfType('Date');\nis.error = isObjectOfType('Error');\nis.map = (value) => isObjectOfType('Map')(value);\nis.set = (value) => isObjectOfType('Set')(value);\nis.weakMap = (value) => isObjectOfType('WeakMap')(value); // eslint-disable-line @typescript-eslint/ban-types\nis.weakSet = (value) => isObjectOfType('WeakSet')(value); // eslint-disable-line @typescript-eslint/ban-types\nis.weakRef = (value) => isObjectOfType('WeakRef')(value); // eslint-disable-line @typescript-eslint/ban-types\nis.int8Array = isObjectOfType('Int8Array');\nis.uint8Array = isObjectOfType('Uint8Array');\nis.uint8ClampedArray = isObjectOfType('Uint8ClampedArray');\nis.int16Array = isObjectOfType('Int16Array');\nis.uint16Array = isObjectOfType('Uint16Array');\nis.int32Array = isObjectOfType('Int32Array');\nis.uint32Array = isObjectOfType('Uint32Array');\nis.float32Array = isObjectOfType('Float32Array');\nis.float64Array = isObjectOfType('Float64Array');\nis.bigInt64Array = isObjectOfType('BigInt64Array');\nis.bigUint64Array = isObjectOfType('BigUint64Array');\nis.arrayBuffer = isObjectOfType('ArrayBuffer');\nis.sharedArrayBuffer = isObjectOfType('SharedArrayBuffer');\nis.dataView = isObjectOfType('DataView');\n// eslint-disable-next-line @typescript-eslint/no-unsafe-argument\nis.enumCase = (value, targetEnum) => Object.values(targetEnum).includes(value);\nis.directInstanceOf = (instance, class_) => Object.getPrototypeOf(instance) === class_.prototype;\nis.urlInstance = (value) => isObjectOfType('URL')(value);\nis.urlString = (value) => {\n    if (!is.string(value)) {\n        return false;\n    }\n    try {\n        new URL(value); // eslint-disable-line no-new\n        return true;\n    }\n    catch {\n        return false;\n    }\n};\n// Example: `is.truthy = (value: unknown): value is (not false | not 0 | not '' | not undefined | not null) => Boolean(value);`\nis.truthy = (value) => Boolean(value); // eslint-disable-line unicorn/prefer-native-coercion-functions\n// Example: `is.falsy = (value: unknown): value is (not true | 0 | '' | undefined | null) => Boolean(value);`\nis.falsy = (value) => !value;\nis.nan = (value) => Number.isNaN(value);\nis.primitive = (value) => is.null_(value) || isPrimitiveTypeName(typeof value);\nis.integer = (value) => Number.isInteger(value);\nis.safeInteger = (value) => Number.isSafeInteger(value);\nis.plainObject = (value) => {\n    // From: https://github.com/sindresorhus/is-plain-obj/blob/main/index.js\n    if (typeof value !== 'object' || value === null) {\n        return false;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n    const prototype = Object.getPrototypeOf(value);\n    return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in value) && !(Symbol.iterator in value);\n};\nis.typedArray = (value) => isTypedArrayName(getObjectType(value));\nconst isValidLength = (value) => is.safeInteger(value) && value >= 0;\nis.arrayLike = (value) => !is.nullOrUndefined(value) && !is.function_(value) && isValidLength(value.length);\nis.tupleLike = (value, guards) => {\n    if (is.array(guards) && is.array(value) && guards.length === value.length) {\n        return guards.every((guard, index) => guard(value[index]));\n    }\n    return false;\n};\nis.inRange = (value, range) => {\n    if (is.number(range)) {\n        return value >= Math.min(0, range) && value <= Math.max(range, 0);\n    }\n    if (is.array(range) && range.length === 2) {\n        return value >= Math.min(...range) && value <= Math.max(...range);\n    }\n    throw new TypeError(`Invalid range: ${JSON.stringify(range)}`);\n};\n// eslint-disable-next-line @typescript-eslint/naming-convention\nconst NODE_TYPE_ELEMENT = 1;\n// eslint-disable-next-line @typescript-eslint/naming-convention\nconst DOM_PROPERTIES_TO_CHECK = [\n    'innerHTML',\n    'ownerDocument',\n    'style',\n    'attributes',\n    'nodeValue',\n];\nis.domElement = (value) => is.object(value)\n    && value.nodeType === NODE_TYPE_ELEMENT\n    && is.string(value.nodeName)\n    && !is.plainObject(value)\n    && DOM_PROPERTIES_TO_CHECK.every(property => property in value);\nis.observable = (value) => {\n    if (!value) {\n        return false;\n    }\n    // eslint-disable-next-line no-use-extend-native/no-use-extend-native, @typescript-eslint/no-unsafe-call\n    if (value === value[Symbol.observable]?.()) {\n        return true;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-call\n    if (value === value['@@observable']?.()) {\n        return true;\n    }\n    return false;\n};\nis.nodeStream = (value) => is.object(value) && is.function_(value.pipe) && !is.observable(value);\nis.infinite = (value) => value === Number.POSITIVE_INFINITY || value === Number.NEGATIVE_INFINITY;\nconst isAbsoluteMod2 = (remainder) => (value) => is.integer(value) && Math.abs(value % 2) === remainder;\nis.evenInteger = isAbsoluteMod2(0);\nis.oddInteger = isAbsoluteMod2(1);\nis.emptyArray = (value) => is.array(value) && value.length === 0;\nis.nonEmptyArray = (value) => is.array(value) && value.length > 0;\nis.emptyString = (value) => is.string(value) && value.length === 0;\nconst isWhiteSpaceString = (value) => is.string(value) && !/\\S/.test(value);\nis.emptyStringOrWhitespace = (value) => is.emptyString(value) || isWhiteSpaceString(value);\n// TODO: Use `not ''` when the `not` operator is available.\nis.nonEmptyString = (value) => is.string(value) && value.length > 0;\n// TODO: Use `not ''` when the `not` operator is available.\nis.nonEmptyStringAndNotWhitespace = (value) => is.string(value) && !is.emptyStringOrWhitespace(value);\n// eslint-disable-next-line unicorn/no-array-callback-reference\nis.emptyObject = (value) => is.object(value) && !is.map(value) && !is.set(value) && Object.keys(value).length === 0;\n// TODO: Use `not` operator here to remove `Map` and `Set` from type guard:\n// - https://github.com/Microsoft/TypeScript/pull/29317\n// eslint-disable-next-line unicorn/no-array-callback-reference\nis.nonEmptyObject = (value) => is.object(value) && !is.map(value) && !is.set(value) && Object.keys(value).length > 0;\nis.emptySet = (value) => is.set(value) && value.size === 0;\nis.nonEmptySet = (value) => is.set(value) && value.size > 0;\n// eslint-disable-next-line unicorn/no-array-callback-reference\nis.emptyMap = (value) => is.map(value) && value.size === 0;\n// eslint-disable-next-line unicorn/no-array-callback-reference\nis.nonEmptyMap = (value) => is.map(value) && value.size > 0;\n// `PropertyKey` is any value that can be used as an object key (string, number, or symbol)\nis.propertyKey = (value) => is.any([is.string, is.number, is.symbol], value);\nis.formData = (value) => isObjectOfType('FormData')(value);\nis.urlSearchParams = (value) => isObjectOfType('URLSearchParams')(value);\nconst predicateOnArray = (method, predicate, values) => {\n    if (!is.function_(predicate)) {\n        throw new TypeError(`Invalid predicate: ${JSON.stringify(predicate)}`);\n    }\n    if (values.length === 0) {\n        throw new TypeError('Invalid number of values');\n    }\n    return method.call(values, predicate);\n};\nis.any = (predicate, ...values) => {\n    const predicates = is.array(predicate) ? predicate : [predicate];\n    return predicates.some(singlePredicate => predicateOnArray(Array.prototype.some, singlePredicate, values));\n};\nis.all = (predicate, ...values) => predicateOnArray(Array.prototype.every, predicate, values);\nconst assertType = (condition, description, value, options = {}) => {\n    if (!condition) {\n        const { multipleValues } = options;\n        const valuesMessage = multipleValues\n            ? `received values of types ${[\n                ...new Set(value.map(singleValue => `\\`${is(singleValue)}\\``)),\n            ].join(', ')}`\n            : `received value of type \\`${is(value)}\\``;\n        throw new TypeError(`Expected value which is \\`${description}\\`, ${valuesMessage}.`);\n    }\n};\n/* eslint-disable @typescript-eslint/no-confusing-void-expression */\nexport const assert = {\n    // Unknowns.\n    undefined: (value) => assertType(is.undefined(value), 'undefined', value),\n    string: (value) => assertType(is.string(value), 'string', value),\n    number: (value) => assertType(is.number(value), 'number', value),\n    positiveNumber: (value) => assertType(is.positiveNumber(value), \"positive number\" /* AssertionTypeDescription.positiveNumber */, value),\n    negativeNumber: (value) => assertType(is.negativeNumber(value), \"negative number\" /* AssertionTypeDescription.negativeNumber */, value),\n    bigint: (value) => assertType(is.bigint(value), 'bigint', value),\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    function_: (value) => assertType(is.function_(value), 'Function', value),\n    null_: (value) => assertType(is.null_(value), 'null', value),\n    class_: (value) => assertType(is.class_(value), \"Class\" /* AssertionTypeDescription.class_ */, value),\n    boolean: (value) => assertType(is.boolean(value), 'boolean', value),\n    symbol: (value) => assertType(is.symbol(value), 'symbol', value),\n    numericString: (value) => assertType(is.numericString(value), \"string with a number\" /* AssertionTypeDescription.numericString */, value),\n    array: (value, assertion) => {\n        const assert = assertType;\n        assert(is.array(value), 'Array', value);\n        if (assertion) {\n            // eslint-disable-next-line unicorn/no-array-for-each, unicorn/no-array-callback-reference\n            value.forEach(assertion);\n        }\n    },\n    buffer: (value) => assertType(is.buffer(value), 'Buffer', value),\n    blob: (value) => assertType(is.blob(value), 'Blob', value),\n    nullOrUndefined: (value) => assertType(is.nullOrUndefined(value), \"null or undefined\" /* AssertionTypeDescription.nullOrUndefined */, value),\n    object: (value) => assertType(is.object(value), 'Object', value),\n    iterable: (value) => assertType(is.iterable(value), \"Iterable\" /* AssertionTypeDescription.iterable */, value),\n    asyncIterable: (value) => assertType(is.asyncIterable(value), \"AsyncIterable\" /* AssertionTypeDescription.asyncIterable */, value),\n    generator: (value) => assertType(is.generator(value), 'Generator', value),\n    asyncGenerator: (value) => assertType(is.asyncGenerator(value), 'AsyncGenerator', value),\n    nativePromise: (value) => assertType(is.nativePromise(value), \"native Promise\" /* AssertionTypeDescription.nativePromise */, value),\n    promise: (value) => assertType(is.promise(value), 'Promise', value),\n    generatorFunction: (value) => assertType(is.generatorFunction(value), 'GeneratorFunction', value),\n    asyncGeneratorFunction: (value) => assertType(is.asyncGeneratorFunction(value), 'AsyncGeneratorFunction', value),\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    asyncFunction: (value) => assertType(is.asyncFunction(value), 'AsyncFunction', value),\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    boundFunction: (value) => assertType(is.boundFunction(value), 'Function', value),\n    regExp: (value) => assertType(is.regExp(value), 'RegExp', value),\n    date: (value) => assertType(is.date(value), 'Date', value),\n    error: (value) => assertType(is.error(value), 'Error', value),\n    map: (value) => assertType(is.map(value), 'Map', value),\n    set: (value) => assertType(is.set(value), 'Set', value),\n    weakMap: (value) => assertType(is.weakMap(value), 'WeakMap', value),\n    weakSet: (value) => assertType(is.weakSet(value), 'WeakSet', value),\n    weakRef: (value) => assertType(is.weakRef(value), 'WeakRef', value),\n    int8Array: (value) => assertType(is.int8Array(value), 'Int8Array', value),\n    uint8Array: (value) => assertType(is.uint8Array(value), 'Uint8Array', value),\n    uint8ClampedArray: (value) => assertType(is.uint8ClampedArray(value), 'Uint8ClampedArray', value),\n    int16Array: (value) => assertType(is.int16Array(value), 'Int16Array', value),\n    uint16Array: (value) => assertType(is.uint16Array(value), 'Uint16Array', value),\n    int32Array: (value) => assertType(is.int32Array(value), 'Int32Array', value),\n    uint32Array: (value) => assertType(is.uint32Array(value), 'Uint32Array', value),\n    float32Array: (value) => assertType(is.float32Array(value), 'Float32Array', value),\n    float64Array: (value) => assertType(is.float64Array(value), 'Float64Array', value),\n    bigInt64Array: (value) => assertType(is.bigInt64Array(value), 'BigInt64Array', value),\n    bigUint64Array: (value) => assertType(is.bigUint64Array(value), 'BigUint64Array', value),\n    arrayBuffer: (value) => assertType(is.arrayBuffer(value), 'ArrayBuffer', value),\n    sharedArrayBuffer: (value) => assertType(is.sharedArrayBuffer(value), 'SharedArrayBuffer', value),\n    dataView: (value) => assertType(is.dataView(value), 'DataView', value),\n    enumCase: (value, targetEnum) => assertType(is.enumCase(value, targetEnum), 'EnumCase', value),\n    urlInstance: (value) => assertType(is.urlInstance(value), 'URL', value),\n    urlString: (value) => assertType(is.urlString(value), \"string with a URL\" /* AssertionTypeDescription.urlString */, value),\n    truthy: (value) => assertType(is.truthy(value), \"truthy\" /* AssertionTypeDescription.truthy */, value),\n    falsy: (value) => assertType(is.falsy(value), \"falsy\" /* AssertionTypeDescription.falsy */, value),\n    nan: (value) => assertType(is.nan(value), \"NaN\" /* AssertionTypeDescription.nan */, value),\n    primitive: (value) => assertType(is.primitive(value), \"primitive\" /* AssertionTypeDescription.primitive */, value),\n    integer: (value) => assertType(is.integer(value), \"integer\" /* AssertionTypeDescription.integer */, value),\n    safeInteger: (value) => assertType(is.safeInteger(value), \"integer\" /* AssertionTypeDescription.safeInteger */, value),\n    plainObject: (value) => assertType(is.plainObject(value), \"plain object\" /* AssertionTypeDescription.plainObject */, value),\n    typedArray: (value) => assertType(is.typedArray(value), \"TypedArray\" /* AssertionTypeDescription.typedArray */, value),\n    arrayLike: (value) => assertType(is.arrayLike(value), \"array-like\" /* AssertionTypeDescription.arrayLike */, value),\n    tupleLike: (value, guards) => assertType(is.tupleLike(value, guards), \"tuple-like\" /* AssertionTypeDescription.tupleLike */, value),\n    domElement: (value) => assertType(is.domElement(value), \"HTMLElement\" /* AssertionTypeDescription.domElement */, value),\n    observable: (value) => assertType(is.observable(value), 'Observable', value),\n    nodeStream: (value) => assertType(is.nodeStream(value), \"Node.js Stream\" /* AssertionTypeDescription.nodeStream */, value),\n    infinite: (value) => assertType(is.infinite(value), \"infinite number\" /* AssertionTypeDescription.infinite */, value),\n    emptyArray: (value) => assertType(is.emptyArray(value), \"empty array\" /* AssertionTypeDescription.emptyArray */, value),\n    nonEmptyArray: (value) => assertType(is.nonEmptyArray(value), \"non-empty array\" /* AssertionTypeDescription.nonEmptyArray */, value),\n    emptyString: (value) => assertType(is.emptyString(value), \"empty string\" /* AssertionTypeDescription.emptyString */, value),\n    emptyStringOrWhitespace: (value) => assertType(is.emptyStringOrWhitespace(value), \"empty string or whitespace\" /* AssertionTypeDescription.emptyStringOrWhitespace */, value),\n    nonEmptyString: (value) => assertType(is.nonEmptyString(value), \"non-empty string\" /* AssertionTypeDescription.nonEmptyString */, value),\n    nonEmptyStringAndNotWhitespace: (value) => assertType(is.nonEmptyStringAndNotWhitespace(value), \"non-empty string and not whitespace\" /* AssertionTypeDescription.nonEmptyStringAndNotWhitespace */, value),\n    emptyObject: (value) => assertType(is.emptyObject(value), \"empty object\" /* AssertionTypeDescription.emptyObject */, value),\n    nonEmptyObject: (value) => assertType(is.nonEmptyObject(value), \"non-empty object\" /* AssertionTypeDescription.nonEmptyObject */, value),\n    emptySet: (value) => assertType(is.emptySet(value), \"empty set\" /* AssertionTypeDescription.emptySet */, value),\n    nonEmptySet: (value) => assertType(is.nonEmptySet(value), \"non-empty set\" /* AssertionTypeDescription.nonEmptySet */, value),\n    emptyMap: (value) => assertType(is.emptyMap(value), \"empty map\" /* AssertionTypeDescription.emptyMap */, value),\n    nonEmptyMap: (value) => assertType(is.nonEmptyMap(value), \"non-empty map\" /* AssertionTypeDescription.nonEmptyMap */, value),\n    propertyKey: (value) => assertType(is.propertyKey(value), 'PropertyKey', value),\n    formData: (value) => assertType(is.formData(value), 'FormData', value),\n    urlSearchParams: (value) => assertType(is.urlSearchParams(value), 'URLSearchParams', value),\n    // Numbers.\n    evenInteger: (value) => assertType(is.evenInteger(value), \"even integer\" /* AssertionTypeDescription.evenInteger */, value),\n    oddInteger: (value) => assertType(is.oddInteger(value), \"odd integer\" /* AssertionTypeDescription.oddInteger */, value),\n    // Two arguments.\n    directInstanceOf: (instance, class_) => assertType(is.directInstanceOf(instance, class_), \"T\" /* AssertionTypeDescription.directInstanceOf */, instance),\n    inRange: (value, range) => assertType(is.inRange(value, range), \"in range\" /* AssertionTypeDescription.inRange */, value),\n    // Variadic functions.\n    any: (predicate, ...values) => assertType(is.any(predicate, ...values), \"predicate returns truthy for any value\" /* AssertionTypeDescription.any */, values, { multipleValues: true }),\n    all: (predicate, ...values) => assertType(is.all(predicate, ...values), \"predicate returns truthy for all values\" /* AssertionTypeDescription.all */, values, { multipleValues: true }),\n};\n/* eslint-enable @typescript-eslint/no-confusing-void-expression */\n// Some few keywords are reserved, but we'll populate them for Node.js users\n// See https://github.com/Microsoft/TypeScript/issues/2536\nObject.defineProperties(is, {\n    class: {\n        value: is.class_,\n    },\n    function: {\n        value: is.function_,\n    },\n    null: {\n        value: is.null_,\n    },\n});\nObject.defineProperties(assert, {\n    class: {\n        value: assert.class_,\n    },\n    function: {\n        value: assert.function_,\n    },\n    null: {\n        value: assert.null_,\n    },\n});\nexport default is;\n", "import { EventEmitter } from 'node:events';\nimport is from '@sindresorhus/is';\nimport PCancelable from 'p-cancelable';\nimport { HTTPError, RetryError, } from '../core/errors.js';\nimport Request from '../core/index.js';\nimport { parseBody, isResponseOk } from '../core/response.js';\nimport proxyEvents from '../core/utils/proxy-events.js';\nimport { CancelError } from './types.js';\nconst proxiedRequestEvents = [\n    'request',\n    'response',\n    'redirect',\n    'uploadProgress',\n    'downloadProgress',\n];\nexport default function asPromise(firstRequest) {\n    let globalRequest;\n    let globalResponse;\n    let normalizedOptions;\n    const emitter = new EventEmitter();\n    const promise = new PCancelable((resolve, reject, onCancel) => {\n        onCancel(() => {\n            globalRequest.destroy();\n        });\n        onCancel.shouldReject = false;\n        onCancel(() => {\n            reject(new CancelError(globalRequest));\n        });\n        const makeRequest = (retryCount) => {\n            // Errors when a new request is made after the promise settles.\n            // Used to detect a race condition.\n            // See https://github.com/sindresorhus/got/issues/1489\n            onCancel(() => { });\n            const request = firstRequest ?? new Request(undefined, undefined, normalizedOptions);\n            request.retryCount = retryCount;\n            request._noPipe = true;\n            globalRequest = request;\n            request.once('response', async (response) => {\n                // Parse body\n                const contentEncoding = (response.headers['content-encoding'] ?? '').toLowerCase();\n                const isCompressed = contentEncoding === 'gzip' || contentEncoding === 'deflate' || contentEncoding === 'br';\n                const { options } = request;\n                if (isCompressed && !options.decompress) {\n                    response.body = response.rawBody;\n                }\n                else {\n                    try {\n                        response.body = parseBody(response, options.responseType, options.parseJson, options.encoding);\n                    }\n                    catch (error) {\n                        // Fall back to `utf8`\n                        response.body = response.rawBody.toString();\n                        if (isResponseOk(response)) {\n                            request._beforeError(error);\n                            return;\n                        }\n                    }\n                }\n                try {\n                    const hooks = options.hooks.afterResponse;\n                    for (const [index, hook] of hooks.entries()) {\n                        // @ts-expect-error TS doesn't notice that CancelableRequest is a Promise\n                        // eslint-disable-next-line no-await-in-loop\n                        response = await hook(response, async (updatedOptions) => {\n                            options.merge(updatedOptions);\n                            options.prefixUrl = '';\n                            if (updatedOptions.url) {\n                                options.url = updatedOptions.url;\n                            }\n                            // Remove any further hooks for that request, because we'll call them anyway.\n                            // The loop continues. We don't want duplicates (asPromise recursion).\n                            options.hooks.afterResponse = options.hooks.afterResponse.slice(0, index);\n                            throw new RetryError(request);\n                        });\n                        if (!(is.object(response) && is.number(response.statusCode) && !is.nullOrUndefined(response.body))) {\n                            throw new TypeError('The `afterResponse` hook returned an invalid value');\n                        }\n                    }\n                }\n                catch (error) {\n                    request._beforeError(error);\n                    return;\n                }\n                globalResponse = response;\n                if (!isResponseOk(response)) {\n                    request._beforeError(new HTTPError(response));\n                    return;\n                }\n                request.destroy();\n                resolve(request.options.resolveBodyOnly ? response.body : response);\n            });\n            const onError = (error) => {\n                if (promise.isCanceled) {\n                    return;\n                }\n                const { options } = request;\n                if (error instanceof HTTPError && !options.throwHttpErrors) {\n                    const { response } = error;\n                    request.destroy();\n                    resolve(request.options.resolveBodyOnly ? response.body : response);\n                    return;\n                }\n                reject(error);\n            };\n            request.once('error', onError);\n            const previousBody = request.options?.body;\n            request.once('retry', (newRetryCount, error) => {\n                firstRequest = undefined;\n                const newBody = request.options.body;\n                if (previousBody === newBody && is.nodeStream(newBody)) {\n                    error.message = 'Cannot retry with consumed body stream';\n                    onError(error);\n                    return;\n                }\n                // This is needed! We need to reuse `request.options` because they can get modified!\n                // For example, by calling `promise.json()`.\n                normalizedOptions = request.options;\n                makeRequest(newRetryCount);\n            });\n            proxyEvents(request, emitter, proxiedRequestEvents);\n            if (is.undefined(firstRequest)) {\n                void request.flush();\n            }\n        };\n        makeRequest(0);\n    });\n    promise.on = (event, fn) => {\n        emitter.on(event, fn);\n        return promise;\n    };\n    promise.off = (event, fn) => {\n        emitter.off(event, fn);\n        return promise;\n    };\n    const shortcut = (responseType) => {\n        const newPromise = (async () => {\n            // Wait until downloading has ended\n            await promise;\n            const { options } = globalResponse.request;\n            return parseBody(globalResponse, responseType, options.parseJson, options.encoding);\n        })();\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        Object.defineProperties(newPromise, Object.getOwnPropertyDescriptors(promise));\n        return newPromise;\n    };\n    promise.json = () => {\n        if (globalRequest.options) {\n            const { headers } = globalRequest.options;\n            if (!globalRequest.writableFinished && !('accept' in headers)) {\n                headers.accept = 'application/json';\n            }\n        }\n        return shortcut('json');\n    };\n    promise.buffer = () => shortcut('buffer');\n    promise.text = () => shortcut('text');\n    return promise;\n}\n", "export class CancelError extends Error {\n\tconstructor(reason) {\n\t\tsuper(reason || 'Promise was canceled');\n\t\tthis.name = 'CancelError';\n\t}\n\n\tget isCanceled() {\n\t\treturn true;\n\t}\n}\n\n// TODO: Use private class fields when ESLint 8 is out.\n\nexport default class PCancelable {\n\tstatic fn(userFunction) {\n\t\treturn (...arguments_) => {\n\t\t\treturn new PCancelable((resolve, reject, onCancel) => {\n\t\t\t\targuments_.push(onCancel);\n\t\t\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\t\t\tuserFunction(...arguments_).then(resolve, reject);\n\t\t\t});\n\t\t};\n\t}\n\n\tconstructor(executor) {\n\t\tthis._cancelHandlers = [];\n\t\tthis._isPending = true;\n\t\tthis._isCanceled = false;\n\t\tthis._rejectOnCancel = true;\n\n\t\tthis._promise = new Promise((resolve, reject) => {\n\t\t\tthis._reject = reject;\n\n\t\t\tconst onResolve = value => {\n\t\t\t\tif (!this._isCanceled || !onCancel.shouldReject) {\n\t\t\t\t\tthis._isPending = false;\n\t\t\t\t\tresolve(value);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tconst onReject = error => {\n\t\t\t\tthis._isPending = false;\n\t\t\t\treject(error);\n\t\t\t};\n\n\t\t\tconst onCancel = handler => {\n\t\t\t\tif (!this._isPending) {\n\t\t\t\t\tthrow new Error('The `onCancel` handler was attached after the promise settled.');\n\t\t\t\t}\n\n\t\t\t\tthis._cancelHandlers.push(handler);\n\t\t\t};\n\n\t\t\tObject.defineProperties(onCancel, {\n\t\t\t\tshouldReject: {\n\t\t\t\t\tget: () => this._rejectOnCancel,\n\t\t\t\t\tset: boolean => {\n\t\t\t\t\t\tthis._rejectOnCancel = boolean;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\texecutor(onResolve, onReject, onCancel);\n\t\t});\n\t}\n\n\tthen(onFulfilled, onRejected) {\n\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\treturn this._promise.then(onFulfilled, onRejected);\n\t}\n\n\tcatch(onRejected) {\n\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\treturn this._promise.catch(onRejected);\n\t}\n\n\tfinally(onFinally) {\n\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\treturn this._promise.finally(onFinally);\n\t}\n\n\tcancel(reason) {\n\t\tif (!this._isPending || this._isCanceled) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._isCanceled = true;\n\n\t\tif (this._cancelHandlers.length > 0) {\n\t\t\ttry {\n\t\t\t\tfor (const handler of this._cancelHandlers) {\n\t\t\t\t\thandler();\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tthis._reject(error);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif (this._rejectOnCancel) {\n\t\t\tthis._reject(new CancelError(reason));\n\t\t}\n\t}\n\n\tget isCanceled() {\n\t\treturn this._isCanceled;\n\t}\n}\n\nObject.setPrototypeOf(PCancelable.prototype, Promise.prototype);\n", "import is from '@sindresorhus/is';\n// A hacky check to prevent circular references.\nfunction isRequest(x) {\n    return is.object(x) && '_onResponse' in x;\n}\n/**\nAn error to be thrown when a request fails.\nContains a `code` property with error class code, like `ECONNREFUSED`.\n*/\nexport class RequestError extends Error {\n    constructor(message, error, self) {\n        super(message);\n        Object.defineProperty(this, \"input\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"code\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"stack\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"response\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"request\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"timings\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Error.captureStackTrace(this, this.constructor);\n        this.name = 'RequestError';\n        this.code = error.code ?? 'ERR_GOT_REQUEST_ERROR';\n        this.input = error.input;\n        if (isRequest(self)) {\n            Object.defineProperty(this, 'request', {\n                enumerable: false,\n                value: self,\n            });\n            Object.defineProperty(this, 'response', {\n                enumerable: false,\n                value: self.response,\n            });\n            this.options = self.options;\n        }\n        else {\n            this.options = self;\n        }\n        this.timings = this.request?.timings;\n        // Recover the original stacktrace\n        if (is.string(error.stack) && is.string(this.stack)) {\n            const indexOfMessage = this.stack.indexOf(this.message) + this.message.length;\n            const thisStackTrace = this.stack.slice(indexOfMessage).split('\\n').reverse();\n            const errorStackTrace = error.stack.slice(error.stack.indexOf(error.message) + error.message.length).split('\\n').reverse();\n            // Remove duplicated traces\n            while (errorStackTrace.length > 0 && errorStackTrace[0] === thisStackTrace[0]) {\n                thisStackTrace.shift();\n            }\n            this.stack = `${this.stack.slice(0, indexOfMessage)}${thisStackTrace.reverse().join('\\n')}${errorStackTrace.reverse().join('\\n')}`;\n        }\n    }\n}\n/**\nAn error to be thrown when the server redirects you more than ten times.\nIncludes a `response` property.\n*/\nexport class MaxRedirectsError extends RequestError {\n    constructor(request) {\n        super(`Redirected ${request.options.maxRedirects} times. Aborting.`, {}, request);\n        this.name = 'MaxRedirectsError';\n        this.code = 'ERR_TOO_MANY_REDIRECTS';\n    }\n}\n/**\nAn error to be thrown when the server response code is not 2xx nor 3xx if `options.followRedirect` is `true`, but always except for 304.\nIncludes a `response` property.\n*/\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport class HTTPError extends RequestError {\n    constructor(response) {\n        super(`Response code ${response.statusCode} (${response.statusMessage})`, {}, response.request);\n        this.name = 'HTTPError';\n        this.code = 'ERR_NON_2XX_3XX_RESPONSE';\n    }\n}\n/**\nAn error to be thrown when a cache method fails.\nFor example, if the database goes down or there's a filesystem error.\n*/\nexport class CacheError extends RequestError {\n    constructor(error, request) {\n        super(error.message, error, request);\n        this.name = 'CacheError';\n        this.code = this.code === 'ERR_GOT_REQUEST_ERROR' ? 'ERR_CACHE_ACCESS' : this.code;\n    }\n}\n/**\nAn error to be thrown when the request body is a stream and an error occurs while reading from that stream.\n*/\nexport class UploadError extends RequestError {\n    constructor(error, request) {\n        super(error.message, error, request);\n        this.name = 'UploadError';\n        this.code = this.code === 'ERR_GOT_REQUEST_ERROR' ? 'ERR_UPLOAD' : this.code;\n    }\n}\n/**\nAn error to be thrown when the request is aborted due to a timeout.\nIncludes an `event` and `timings` property.\n*/\nexport class TimeoutError extends RequestError {\n    constructor(error, timings, request) {\n        super(error.message, error, request);\n        Object.defineProperty(this, \"timings\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"event\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.name = 'TimeoutError';\n        this.event = error.event;\n        this.timings = timings;\n    }\n}\n/**\nAn error to be thrown when reading from response stream fails.\n*/\nexport class ReadError extends RequestError {\n    constructor(error, request) {\n        super(error.message, error, request);\n        this.name = 'ReadError';\n        this.code = this.code === 'ERR_GOT_REQUEST_ERROR' ? 'ERR_READING_RESPONSE_STREAM' : this.code;\n    }\n}\n/**\nAn error which always triggers a new retry when thrown.\n*/\nexport class RetryError extends RequestError {\n    constructor(request) {\n        super('Retrying', {}, request);\n        this.name = 'RetryError';\n        this.code = 'ERR_RETRYING';\n    }\n}\n/**\nAn error to be thrown when the request is aborted by AbortController.\n*/\nexport class AbortError extends RequestError {\n    constructor(request) {\n        super('This operation was aborted.', {}, request);\n        this.code = 'ERR_ABORTED';\n        this.name = 'AbortError';\n    }\n}\n", "import process from 'node:process';\nimport { Buffer } from 'node:buffer';\nimport { Duplex } from 'node:stream';\nimport { URL, URLSearchParams } from 'node:url';\nimport http, { ServerResponse } from 'node:http';\nimport timer from '@szmarczak/http-timer';\nimport CacheableRequest, { CacheError as CacheableCacheError, } from 'cacheable-request';\nimport decompressResponse from 'decompress-response';\nimport is from '@sindresorhus/is';\nimport getStream from 'get-stream';\nimport { FormDataEncoder, isFormData as isFormDataLike } from 'form-data-encoder';\nimport getBodySize from './utils/get-body-size.js';\nimport isFormData from './utils/is-form-data.js';\nimport proxyEvents from './utils/proxy-events.js';\nimport timedOut, { TimeoutError as TimedOutTimeoutError } from './timed-out.js';\nimport urlToOptions from './utils/url-to-options.js';\nimport WeakableMap from './utils/weakable-map.js';\nimport calculateRetryDelay from './calculate-retry-delay.js';\nimport Options from './options.js';\nimport { isResponseOk } from './response.js';\nimport isClientRequest from './utils/is-client-request.js';\nimport isUnixSocketURL from './utils/is-unix-socket-url.js';\nimport { RequestError, ReadError, MaxRedirectsError, HTTPError, TimeoutError, UploadError, CacheError, AbortError, } from './errors.js';\nconst { buffer: getBuffer } = getStream;\nconst supportsBrotli = is.string(process.versions.brotli);\nconst methodsWithoutBody = new Set(['GET', 'HEAD']);\nconst cacheableStore = new WeakableMap();\nconst redirectCodes = new Set([300, 301, 302, 303, 304, 307, 308]);\nconst proxiedRequestEvents = [\n    'socket',\n    'connect',\n    'continue',\n    'information',\n    'upgrade',\n];\nconst noop = () => { };\nexport default class Request extends Duplex {\n    constructor(url, options, defaults) {\n        super({\n            // Don't destroy immediately, as the error may be emitted on unsuccessful retry\n            autoDestroy: false,\n            // It needs to be zero because we're just proxying the data to another stream\n            highWaterMark: 0,\n        });\n        // @ts-expect-error - Ignoring for now.\n        Object.defineProperty(this, 'constructor', {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_noPipe\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        // @ts-expect-error https://github.com/microsoft/TypeScript/issues/9568\n        Object.defineProperty(this, \"options\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"response\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"requestUrl\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"redirectUrls\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"retryCount\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_stopRetry\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_downloadedSize\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_uploadedSize\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_stopReading\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_pipedServerResponses\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_request\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_responseSize\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_bodySize\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_unproxyEvents\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_isFromCache\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_cannotHaveBody\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_triggerRead\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_cancelTimeouts\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_removeListeners\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_nativeResponse\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_flushed\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_aborted\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        // We need this because `this._request` if `undefined` when using cache\n        Object.defineProperty(this, \"_requestInitialized\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this._downloadedSize = 0;\n        this._uploadedSize = 0;\n        this._stopReading = false;\n        this._pipedServerResponses = new Set();\n        this._cannotHaveBody = false;\n        this._unproxyEvents = noop;\n        this._triggerRead = false;\n        this._cancelTimeouts = noop;\n        this._removeListeners = noop;\n        this._jobs = [];\n        this._flushed = false;\n        this._requestInitialized = false;\n        this._aborted = false;\n        this.redirectUrls = [];\n        this.retryCount = 0;\n        this._stopRetry = noop;\n        this.on('pipe', (source) => {\n            if (source?.headers) {\n                Object.assign(this.options.headers, source.headers);\n            }\n        });\n        this.on('newListener', event => {\n            if (event === 'retry' && this.listenerCount('retry') > 0) {\n                throw new Error('A retry listener has been attached already.');\n            }\n        });\n        try {\n            this.options = new Options(url, options, defaults);\n            if (!this.options.url) {\n                if (this.options.prefixUrl === '') {\n                    throw new TypeError('Missing `url` property');\n                }\n                this.options.url = '';\n            }\n            this.requestUrl = this.options.url;\n        }\n        catch (error) {\n            const { options } = error;\n            if (options) {\n                this.options = options;\n            }\n            this.flush = async () => {\n                this.flush = async () => { };\n                this.destroy(error);\n            };\n            return;\n        }\n        // Important! If you replace `body` in a handler with another stream, make sure it's readable first.\n        // The below is run only once.\n        const { body } = this.options;\n        if (is.nodeStream(body)) {\n            body.once('error', error => {\n                if (this._flushed) {\n                    this._beforeError(new UploadError(error, this));\n                }\n                else {\n                    this.flush = async () => {\n                        this.flush = async () => { };\n                        this._beforeError(new UploadError(error, this));\n                    };\n                }\n            });\n        }\n        if (this.options.signal) {\n            const abort = () => {\n                this.destroy(new AbortError(this));\n            };\n            if (this.options.signal.aborted) {\n                abort();\n            }\n            else {\n                this.options.signal.addEventListener('abort', abort);\n                this._removeListeners = () => {\n                    this.options.signal.removeEventListener('abort', abort);\n                };\n            }\n        }\n    }\n    async flush() {\n        if (this._flushed) {\n            return;\n        }\n        this._flushed = true;\n        try {\n            await this._finalizeBody();\n            if (this.destroyed) {\n                return;\n            }\n            await this._makeRequest();\n            if (this.destroyed) {\n                this._request?.destroy();\n                return;\n            }\n            // Queued writes etc.\n            for (const job of this._jobs) {\n                job();\n            }\n            // Prevent memory leak\n            this._jobs.length = 0;\n            this._requestInitialized = true;\n        }\n        catch (error) {\n            this._beforeError(error);\n        }\n    }\n    _beforeError(error) {\n        if (this._stopReading) {\n            return;\n        }\n        const { response, options } = this;\n        const attemptCount = this.retryCount + (error.name === 'RetryError' ? 0 : 1);\n        this._stopReading = true;\n        if (!(error instanceof RequestError)) {\n            error = new RequestError(error.message, error, this);\n        }\n        const typedError = error;\n        void (async () => {\n            // Node.js parser is really weird.\n            // It emits post-request Parse Errors on the same instance as previous request. WTF.\n            // Therefore we need to check if it has been destroyed as well.\n            //\n            // Furthermore, Node.js 16 `response.destroy()` doesn't immediately destroy the socket,\n            // but makes the response unreadable. So we additionally need to check `response.readable`.\n            if (response?.readable && !response.rawBody && !this._request?.socket?.destroyed) {\n                // @types/node has incorrect typings. `setEncoding` accepts `null` as well.\n                response.setEncoding(this.readableEncoding);\n                const success = await this._setRawBody(response);\n                if (success) {\n                    response.body = response.rawBody.toString();\n                }\n            }\n            if (this.listenerCount('retry') !== 0) {\n                let backoff;\n                try {\n                    let retryAfter;\n                    if (response && 'retry-after' in response.headers) {\n                        retryAfter = Number(response.headers['retry-after']);\n                        if (Number.isNaN(retryAfter)) {\n                            retryAfter = Date.parse(response.headers['retry-after']) - Date.now();\n                            if (retryAfter <= 0) {\n                                retryAfter = 1;\n                            }\n                        }\n                        else {\n                            retryAfter *= 1000;\n                        }\n                    }\n                    const retryOptions = options.retry;\n                    backoff = await retryOptions.calculateDelay({\n                        attemptCount,\n                        retryOptions,\n                        error: typedError,\n                        retryAfter,\n                        computedValue: calculateRetryDelay({\n                            attemptCount,\n                            retryOptions,\n                            error: typedError,\n                            retryAfter,\n                            computedValue: retryOptions.maxRetryAfter ?? options.timeout.request ?? Number.POSITIVE_INFINITY,\n                        }),\n                    });\n                }\n                catch (error_) {\n                    void this._error(new RequestError(error_.message, error_, this));\n                    return;\n                }\n                if (backoff) {\n                    await new Promise(resolve => {\n                        const timeout = setTimeout(resolve, backoff);\n                        this._stopRetry = () => {\n                            clearTimeout(timeout);\n                            resolve();\n                        };\n                    });\n                    // Something forced us to abort the retry\n                    if (this.destroyed) {\n                        return;\n                    }\n                    try {\n                        for (const hook of this.options.hooks.beforeRetry) {\n                            // eslint-disable-next-line no-await-in-loop\n                            await hook(typedError, this.retryCount + 1);\n                        }\n                    }\n                    catch (error_) {\n                        void this._error(new RequestError(error_.message, error, this));\n                        return;\n                    }\n                    // Something forced us to abort the retry\n                    if (this.destroyed) {\n                        return;\n                    }\n                    this.destroy();\n                    this.emit('retry', this.retryCount + 1, error, (updatedOptions) => {\n                        const request = new Request(options.url, updatedOptions, options);\n                        request.retryCount = this.retryCount + 1;\n                        process.nextTick(() => {\n                            void request.flush();\n                        });\n                        return request;\n                    });\n                    return;\n                }\n            }\n            void this._error(typedError);\n        })();\n    }\n    _read() {\n        this._triggerRead = true;\n        const { response } = this;\n        if (response && !this._stopReading) {\n            // We cannot put this in the `if` above\n            // because `.read()` also triggers the `end` event\n            if (response.readableLength) {\n                this._triggerRead = false;\n            }\n            let data;\n            while ((data = response.read()) !== null) {\n                this._downloadedSize += data.length; // eslint-disable-line @typescript-eslint/restrict-plus-operands\n                const progress = this.downloadProgress;\n                if (progress.percent < 1) {\n                    this.emit('downloadProgress', progress);\n                }\n                this.push(data);\n            }\n        }\n    }\n    _write(chunk, encoding, callback) {\n        const write = () => {\n            this._writeRequest(chunk, encoding, callback);\n        };\n        if (this._requestInitialized) {\n            write();\n        }\n        else {\n            this._jobs.push(write);\n        }\n    }\n    _final(callback) {\n        const endRequest = () => {\n            // We need to check if `this._request` is present,\n            // because it isn't when we use cache.\n            if (!this._request || this._request.destroyed) {\n                callback();\n                return;\n            }\n            this._request.end((error) => {\n                // The request has been destroyed before `_final` finished.\n                // See https://github.com/nodejs/node/issues/39356\n                if (this._request._writableState?.errored) {\n                    return;\n                }\n                if (!error) {\n                    this._bodySize = this._uploadedSize;\n                    this.emit('uploadProgress', this.uploadProgress);\n                    this._request.emit('upload-complete');\n                }\n                callback(error);\n            });\n        };\n        if (this._requestInitialized) {\n            endRequest();\n        }\n        else {\n            this._jobs.push(endRequest);\n        }\n    }\n    _destroy(error, callback) {\n        this._stopReading = true;\n        this.flush = async () => { };\n        // Prevent further retries\n        this._stopRetry();\n        this._cancelTimeouts();\n        this._removeListeners();\n        if (this.options) {\n            const { body } = this.options;\n            if (is.nodeStream(body)) {\n                body.destroy();\n            }\n        }\n        if (this._request) {\n            this._request.destroy();\n        }\n        if (error !== null && !is.undefined(error) && !(error instanceof RequestError)) {\n            error = new RequestError(error.message, error, this);\n        }\n        callback(error);\n    }\n    pipe(destination, options) {\n        if (destination instanceof ServerResponse) {\n            this._pipedServerResponses.add(destination);\n        }\n        return super.pipe(destination, options);\n    }\n    unpipe(destination) {\n        if (destination instanceof ServerResponse) {\n            this._pipedServerResponses.delete(destination);\n        }\n        super.unpipe(destination);\n        return this;\n    }\n    async _finalizeBody() {\n        const { options } = this;\n        const { headers } = options;\n        const isForm = !is.undefined(options.form);\n        // eslint-disable-next-line @typescript-eslint/naming-convention\n        const isJSON = !is.undefined(options.json);\n        const isBody = !is.undefined(options.body);\n        const cannotHaveBody = methodsWithoutBody.has(options.method) && !(options.method === 'GET' && options.allowGetBody);\n        this._cannotHaveBody = cannotHaveBody;\n        if (isForm || isJSON || isBody) {\n            if (cannotHaveBody) {\n                throw new TypeError(`The \\`${options.method}\\` method cannot be used with a body`);\n            }\n            // Serialize body\n            const noContentType = !is.string(headers['content-type']);\n            if (isBody) {\n                // Body is spec-compliant FormData\n                if (isFormDataLike(options.body)) {\n                    const encoder = new FormDataEncoder(options.body);\n                    if (noContentType) {\n                        headers['content-type'] = encoder.headers['Content-Type'];\n                    }\n                    if ('Content-Length' in encoder.headers) {\n                        headers['content-length'] = encoder.headers['Content-Length'];\n                    }\n                    options.body = encoder.encode();\n                }\n                // Special case for https://github.com/form-data/form-data\n                if (isFormData(options.body) && noContentType) {\n                    headers['content-type'] = `multipart/form-data; boundary=${options.body.getBoundary()}`;\n                }\n            }\n            else if (isForm) {\n                if (noContentType) {\n                    headers['content-type'] = 'application/x-www-form-urlencoded';\n                }\n                const { form } = options;\n                options.form = undefined;\n                options.body = (new URLSearchParams(form)).toString();\n            }\n            else {\n                if (noContentType) {\n                    headers['content-type'] = 'application/json';\n                }\n                const { json } = options;\n                options.json = undefined;\n                options.body = options.stringifyJson(json);\n            }\n            const uploadBodySize = await getBodySize(options.body, options.headers);\n            // See https://tools.ietf.org/html/rfc7230#section-3.3.2\n            // A user agent SHOULD send a Content-Length in a request message when\n            // no Transfer-Encoding is sent and the request method defines a meaning\n            // for an enclosed payload body.  For example, a Content-Length header\n            // field is normally sent in a POST request even when the value is 0\n            // (indicating an empty payload body).  A user agent SHOULD NOT send a\n            // Content-Length header field when the request message does not contain\n            // a payload body and the method semantics do not anticipate such a\n            // body.\n            if (is.undefined(headers['content-length']) && is.undefined(headers['transfer-encoding']) && !cannotHaveBody && !is.undefined(uploadBodySize)) {\n                headers['content-length'] = String(uploadBodySize);\n            }\n        }\n        if (options.responseType === 'json' && !('accept' in options.headers)) {\n            options.headers.accept = 'application/json';\n        }\n        this._bodySize = Number(headers['content-length']) || undefined;\n    }\n    async _onResponseBase(response) {\n        // This will be called e.g. when using cache so we need to check if this request has been aborted.\n        if (this.isAborted) {\n            return;\n        }\n        const { options } = this;\n        const { url } = options;\n        this._nativeResponse = response;\n        if (options.decompress) {\n            response = decompressResponse(response);\n        }\n        const statusCode = response.statusCode;\n        const typedResponse = response;\n        typedResponse.statusMessage = typedResponse.statusMessage ?? http.STATUS_CODES[statusCode];\n        typedResponse.url = options.url.toString();\n        typedResponse.requestUrl = this.requestUrl;\n        typedResponse.redirectUrls = this.redirectUrls;\n        typedResponse.request = this;\n        typedResponse.isFromCache = this._nativeResponse.fromCache ?? false;\n        typedResponse.ip = this.ip;\n        typedResponse.retryCount = this.retryCount;\n        typedResponse.ok = isResponseOk(typedResponse);\n        this._isFromCache = typedResponse.isFromCache;\n        this._responseSize = Number(response.headers['content-length']) || undefined;\n        this.response = typedResponse;\n        response.once('end', () => {\n            this._responseSize = this._downloadedSize;\n            this.emit('downloadProgress', this.downloadProgress);\n        });\n        response.once('error', (error) => {\n            this._aborted = true;\n            // Force clean-up, because some packages don't do this.\n            // TODO: Fix decompress-response\n            response.destroy();\n            this._beforeError(new ReadError(error, this));\n        });\n        response.once('aborted', () => {\n            this._aborted = true;\n            this._beforeError(new ReadError({\n                name: 'Error',\n                message: 'The server aborted pending request',\n                code: 'ECONNRESET',\n            }, this));\n        });\n        this.emit('downloadProgress', this.downloadProgress);\n        const rawCookies = response.headers['set-cookie'];\n        if (is.object(options.cookieJar) && rawCookies) {\n            let promises = rawCookies.map(async (rawCookie) => options.cookieJar.setCookie(rawCookie, url.toString()));\n            if (options.ignoreInvalidCookies) {\n                promises = promises.map(async (promise) => {\n                    try {\n                        await promise;\n                    }\n                    catch { }\n                });\n            }\n            try {\n                await Promise.all(promises);\n            }\n            catch (error) {\n                this._beforeError(error);\n                return;\n            }\n        }\n        // The above is running a promise, therefore we need to check if this request has been aborted yet again.\n        if (this.isAborted) {\n            return;\n        }\n        if (options.followRedirect && response.headers.location && redirectCodes.has(statusCode)) {\n            // We're being redirected, we don't care about the response.\n            // It'd be best to abort the request, but we can't because\n            // we would have to sacrifice the TCP connection. We don't want that.\n            response.resume();\n            this._cancelTimeouts();\n            this._unproxyEvents();\n            if (this.redirectUrls.length >= options.maxRedirects) {\n                this._beforeError(new MaxRedirectsError(this));\n                return;\n            }\n            this._request = undefined;\n            const updatedOptions = new Options(undefined, undefined, this.options);\n            const serverRequestedGet = statusCode === 303 && updatedOptions.method !== 'GET' && updatedOptions.method !== 'HEAD';\n            const canRewrite = statusCode !== 307 && statusCode !== 308;\n            const userRequestedGet = updatedOptions.methodRewriting && canRewrite;\n            if (serverRequestedGet || userRequestedGet) {\n                updatedOptions.method = 'GET';\n                updatedOptions.body = undefined;\n                updatedOptions.json = undefined;\n                updatedOptions.form = undefined;\n                delete updatedOptions.headers['content-length'];\n            }\n            try {\n                // We need this in order to support UTF-8\n                const redirectBuffer = Buffer.from(response.headers.location, 'binary').toString();\n                const redirectUrl = new URL(redirectBuffer, url);\n                if (!isUnixSocketURL(url) && isUnixSocketURL(redirectUrl)) {\n                    this._beforeError(new RequestError('Cannot redirect to UNIX socket', {}, this));\n                    return;\n                }\n                // Redirecting to a different site, clear sensitive data.\n                if (redirectUrl.hostname !== url.hostname || redirectUrl.port !== url.port) {\n                    if ('host' in updatedOptions.headers) {\n                        delete updatedOptions.headers.host;\n                    }\n                    if ('cookie' in updatedOptions.headers) {\n                        delete updatedOptions.headers.cookie;\n                    }\n                    if ('authorization' in updatedOptions.headers) {\n                        delete updatedOptions.headers.authorization;\n                    }\n                    if (updatedOptions.username || updatedOptions.password) {\n                        updatedOptions.username = '';\n                        updatedOptions.password = '';\n                    }\n                }\n                else {\n                    redirectUrl.username = updatedOptions.username;\n                    redirectUrl.password = updatedOptions.password;\n                }\n                this.redirectUrls.push(redirectUrl);\n                updatedOptions.prefixUrl = '';\n                updatedOptions.url = redirectUrl;\n                for (const hook of updatedOptions.hooks.beforeRedirect) {\n                    // eslint-disable-next-line no-await-in-loop\n                    await hook(updatedOptions, typedResponse);\n                }\n                this.emit('redirect', updatedOptions, typedResponse);\n                this.options = updatedOptions;\n                await this._makeRequest();\n            }\n            catch (error) {\n                this._beforeError(error);\n                return;\n            }\n            return;\n        }\n        // `HTTPError`s always have `error.response.body` defined.\n        // Therefore we cannot retry if `options.throwHttpErrors` is false.\n        // On the last retry, if `options.throwHttpErrors` is false, we would need to return the body,\n        // but that wouldn't be possible since the body would be already read in `error.response.body`.\n        if (options.isStream && options.throwHttpErrors && !isResponseOk(typedResponse)) {\n            this._beforeError(new HTTPError(typedResponse));\n            return;\n        }\n        response.on('readable', () => {\n            if (this._triggerRead) {\n                this._read();\n            }\n        });\n        this.on('resume', () => {\n            response.resume();\n        });\n        this.on('pause', () => {\n            response.pause();\n        });\n        response.once('end', () => {\n            this.push(null);\n        });\n        if (this._noPipe) {\n            const success = await this._setRawBody();\n            if (success) {\n                this.emit('response', response);\n            }\n            return;\n        }\n        this.emit('response', response);\n        for (const destination of this._pipedServerResponses) {\n            if (destination.headersSent) {\n                continue;\n            }\n            // eslint-disable-next-line guard-for-in\n            for (const key in response.headers) {\n                const isAllowed = options.decompress ? key !== 'content-encoding' : true;\n                const value = response.headers[key];\n                if (isAllowed) {\n                    destination.setHeader(key, value);\n                }\n            }\n            destination.statusCode = statusCode;\n        }\n    }\n    async _setRawBody(from = this) {\n        if (from.readableEnded) {\n            return false;\n        }\n        try {\n            // Errors are emitted via the `error` event\n            const rawBody = await getBuffer(from);\n            // On retry Request is destroyed with no error, therefore the above will successfully resolve.\n            // So in order to check if this was really successfull, we need to check if it has been properly ended.\n            if (!this.isAborted) {\n                this.response.rawBody = rawBody;\n                return true;\n            }\n        }\n        catch { }\n        return false;\n    }\n    async _onResponse(response) {\n        try {\n            await this._onResponseBase(response);\n        }\n        catch (error) {\n            /* istanbul ignore next: better safe than sorry */\n            this._beforeError(error);\n        }\n    }\n    _onRequest(request) {\n        const { options } = this;\n        const { timeout, url } = options;\n        timer(request);\n        if (this.options.http2) {\n            // Unset stream timeout, as the `timeout` option was used only for connection timeout.\n            request.setTimeout(0);\n        }\n        this._cancelTimeouts = timedOut(request, timeout, url);\n        const responseEventName = options.cache ? 'cacheableResponse' : 'response';\n        request.once(responseEventName, (response) => {\n            void this._onResponse(response);\n        });\n        request.once('error', (error) => {\n            this._aborted = true;\n            // Force clean-up, because some packages (e.g. nock) don't do this.\n            request.destroy();\n            error = error instanceof TimedOutTimeoutError ? new TimeoutError(error, this.timings, this) : new RequestError(error.message, error, this);\n            this._beforeError(error);\n        });\n        this._unproxyEvents = proxyEvents(request, this, proxiedRequestEvents);\n        this._request = request;\n        this.emit('uploadProgress', this.uploadProgress);\n        this._sendBody();\n        this.emit('request', request);\n    }\n    async _asyncWrite(chunk) {\n        return new Promise((resolve, reject) => {\n            super.write(chunk, error => {\n                if (error) {\n                    reject(error);\n                    return;\n                }\n                resolve();\n            });\n        });\n    }\n    _sendBody() {\n        // Send body\n        const { body } = this.options;\n        const currentRequest = this.redirectUrls.length === 0 ? this : this._request ?? this;\n        if (is.nodeStream(body)) {\n            body.pipe(currentRequest);\n        }\n        else if (is.generator(body) || is.asyncGenerator(body)) {\n            (async () => {\n                try {\n                    for await (const chunk of body) {\n                        await this._asyncWrite(chunk);\n                    }\n                    super.end();\n                }\n                catch (error) {\n                    this._beforeError(error);\n                }\n            })();\n        }\n        else if (!is.undefined(body)) {\n            this._writeRequest(body, undefined, () => { });\n            currentRequest.end();\n        }\n        else if (this._cannotHaveBody || this._noPipe) {\n            currentRequest.end();\n        }\n    }\n    _prepareCache(cache) {\n        if (!cacheableStore.has(cache)) {\n            const cacheableRequest = new CacheableRequest(((requestOptions, handler) => {\n                const result = requestOptions._request(requestOptions, handler);\n                // TODO: remove this when `cacheable-request` supports async request functions.\n                if (is.promise(result)) {\n                    // We only need to implement the error handler in order to support HTTP2 caching.\n                    // The result will be a promise anyway.\n                    // @ts-expect-error ignore\n                    // eslint-disable-next-line @typescript-eslint/promise-function-async\n                    result.once = (event, handler) => {\n                        if (event === 'error') {\n                            (async () => {\n                                try {\n                                    await result;\n                                }\n                                catch (error) {\n                                    handler(error);\n                                }\n                            })();\n                        }\n                        else if (event === 'abort') {\n                            // The empty catch is needed here in case when\n                            // it rejects before it's `await`ed in `_makeRequest`.\n                            (async () => {\n                                try {\n                                    const request = (await result);\n                                    request.once('abort', handler);\n                                }\n                                catch { }\n                            })();\n                        }\n                        else {\n                            /* istanbul ignore next: safety check */\n                            throw new Error(`Unknown HTTP2 promise event: ${event}`);\n                        }\n                        return result;\n                    };\n                }\n                return result;\n            }), cache);\n            cacheableStore.set(cache, cacheableRequest.request());\n        }\n    }\n    async _createCacheableRequest(url, options) {\n        return new Promise((resolve, reject) => {\n            // TODO: Remove `utils/url-to-options.ts` when `cacheable-request` is fixed\n            Object.assign(options, urlToOptions(url));\n            let request;\n            // TODO: Fix `cacheable-response`. This is ugly.\n            const cacheRequest = cacheableStore.get(options.cache)(options, async (response) => {\n                response._readableState.autoDestroy = false;\n                if (request) {\n                    const fix = () => {\n                        if (response.req) {\n                            response.complete = response.req.res.complete;\n                        }\n                    };\n                    response.prependOnceListener('end', fix);\n                    fix();\n                    (await request).emit('cacheableResponse', response);\n                }\n                resolve(response);\n            });\n            cacheRequest.once('error', reject);\n            cacheRequest.once('request', async (requestOrPromise) => {\n                request = requestOrPromise;\n                resolve(request);\n            });\n        });\n    }\n    async _makeRequest() {\n        const { options } = this;\n        const { headers, username, password } = options;\n        const cookieJar = options.cookieJar;\n        for (const key in headers) {\n            if (is.undefined(headers[key])) {\n                // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n                delete headers[key];\n            }\n            else if (is.null_(headers[key])) {\n                throw new TypeError(`Use \\`undefined\\` instead of \\`null\\` to delete the \\`${key}\\` header`);\n            }\n        }\n        if (options.decompress && is.undefined(headers['accept-encoding'])) {\n            headers['accept-encoding'] = supportsBrotli ? 'gzip, deflate, br' : 'gzip, deflate';\n        }\n        if (username || password) {\n            const credentials = Buffer.from(`${username}:${password}`).toString('base64');\n            headers.authorization = `Basic ${credentials}`;\n        }\n        // Set cookies\n        if (cookieJar) {\n            const cookieString = await cookieJar.getCookieString(options.url.toString());\n            if (is.nonEmptyString(cookieString)) {\n                headers.cookie = cookieString;\n            }\n        }\n        // Reset `prefixUrl`\n        options.prefixUrl = '';\n        let request;\n        for (const hook of options.hooks.beforeRequest) {\n            // eslint-disable-next-line no-await-in-loop\n            const result = await hook(options);\n            if (!is.undefined(result)) {\n                // @ts-expect-error Skip the type mismatch to support abstract responses\n                request = () => result;\n                break;\n            }\n        }\n        if (!request) {\n            request = options.getRequestFunction();\n        }\n        const url = options.url;\n        this._requestOptions = options.createNativeRequestOptions();\n        if (options.cache) {\n            this._requestOptions._request = request;\n            this._requestOptions.cache = options.cache;\n            this._requestOptions.body = options.body;\n            this._prepareCache(options.cache);\n        }\n        // Cache support\n        const fn = options.cache ? this._createCacheableRequest : request;\n        try {\n            // We can't do `await fn(...)`,\n            // because stream `error` event can be emitted before `Promise.resolve()`.\n            let requestOrResponse = fn(url, this._requestOptions);\n            if (is.promise(requestOrResponse)) {\n                requestOrResponse = await requestOrResponse;\n            }\n            // Fallback\n            if (is.undefined(requestOrResponse)) {\n                requestOrResponse = options.getFallbackRequestFunction()(url, this._requestOptions);\n                if (is.promise(requestOrResponse)) {\n                    requestOrResponse = await requestOrResponse;\n                }\n            }\n            if (isClientRequest(requestOrResponse)) {\n                this._onRequest(requestOrResponse);\n            }\n            else if (this.writable) {\n                this.once('finish', () => {\n                    void this._onResponse(requestOrResponse);\n                });\n                this._sendBody();\n            }\n            else {\n                void this._onResponse(requestOrResponse);\n            }\n        }\n        catch (error) {\n            if (error instanceof CacheableCacheError) {\n                throw new CacheError(error, this);\n            }\n            throw error;\n        }\n    }\n    async _error(error) {\n        try {\n            if (error instanceof HTTPError && !this.options.throwHttpErrors) {\n                // This branch can be reached only when using the Promise API\n                // Skip calling the hooks on purpose.\n                // See https://github.com/sindresorhus/got/issues/2103\n            }\n            else {\n                for (const hook of this.options.hooks.beforeError) {\n                    // eslint-disable-next-line no-await-in-loop\n                    error = await hook(error);\n                }\n            }\n        }\n        catch (error_) {\n            error = new RequestError(error_.message, error_, this);\n        }\n        this.destroy(error);\n    }\n    _writeRequest(chunk, encoding, callback) {\n        if (!this._request || this._request.destroyed) {\n            // Probably the `ClientRequest` instance will throw\n            return;\n        }\n        this._request.write(chunk, encoding, (error) => {\n            // The `!destroyed` check is required to prevent `uploadProgress` being emitted after the stream was destroyed\n            if (!error && !this._request.destroyed) {\n                this._uploadedSize += Buffer.byteLength(chunk, encoding);\n                const progress = this.uploadProgress;\n                if (progress.percent < 1) {\n                    this.emit('uploadProgress', progress);\n                }\n            }\n            callback(error);\n        });\n    }\n    /**\n    The remote IP address.\n    */\n    get ip() {\n        return this.socket?.remoteAddress;\n    }\n    /**\n    Indicates whether the request has been aborted or not.\n    */\n    get isAborted() {\n        return this._aborted;\n    }\n    get socket() {\n        return this._request?.socket ?? undefined;\n    }\n    /**\n    Progress event for downloading (receiving a response).\n    */\n    get downloadProgress() {\n        let percent;\n        if (this._responseSize) {\n            percent = this._downloadedSize / this._responseSize;\n        }\n        else if (this._responseSize === this._downloadedSize) {\n            percent = 1;\n        }\n        else {\n            percent = 0;\n        }\n        return {\n            percent,\n            transferred: this._downloadedSize,\n            total: this._responseSize,\n        };\n    }\n    /**\n    Progress event for uploading (sending a request).\n    */\n    get uploadProgress() {\n        let percent;\n        if (this._bodySize) {\n            percent = this._uploadedSize / this._bodySize;\n        }\n        else if (this._bodySize === this._uploadedSize) {\n            percent = 1;\n        }\n        else {\n            percent = 0;\n        }\n        return {\n            percent,\n            transferred: this._uploadedSize,\n            total: this._bodySize,\n        };\n    }\n    /**\n    The object contains the following properties:\n\n    - `start` - Time when the request started.\n    - `socket` - Time when a socket was assigned to the request.\n    - `lookup` - Time when the DNS lookup finished.\n    - `connect` - Time when the socket successfully connected.\n    - `secureConnect` - Time when the socket securely connected.\n    - `upload` - Time when the request finished uploading.\n    - `response` - Time when the request fired `response` event.\n    - `end` - Time when the response fired `end` event.\n    - `error` - Time when the request fired `error` event.\n    - `abort` - Time when the request fired `abort` event.\n    - `phases`\n        - `wait` - `timings.socket - timings.start`\n        - `dns` - `timings.lookup - timings.socket`\n        - `tcp` - `timings.connect - timings.lookup`\n        - `tls` - `timings.secureConnect - timings.connect`\n        - `request` - `timings.upload - (timings.secureConnect || timings.connect)`\n        - `firstByte` - `timings.response - timings.upload`\n        - `download` - `timings.end - timings.response`\n        - `total` - `(timings.end || timings.error || timings.abort) - timings.start`\n\n    If something has not been measured yet, it will be `undefined`.\n\n    __Note__: The time is a `number` representing the milliseconds elapsed since the UNIX epoch.\n    */\n    get timings() {\n        return this._request?.timings;\n    }\n    /**\n    Whether the response was retrieved from the cache.\n    */\n    get isFromCache() {\n        return this._isFromCache;\n    }\n    get reusedSocket() {\n        return this._request?.reusedSocket;\n    }\n}\n", "import { errorMonitor } from 'events';\nimport { types } from 'util';\nimport deferToConnect from 'defer-to-connect';\nconst timer = (request) => {\n    if (request.timings) {\n        return request.timings;\n    }\n    const timings = {\n        start: Date.now(),\n        socket: undefined,\n        lookup: undefined,\n        connect: undefined,\n        secureConnect: undefined,\n        upload: undefined,\n        response: undefined,\n        end: undefined,\n        error: undefined,\n        abort: undefined,\n        phases: {\n            wait: undefined,\n            dns: undefined,\n            tcp: undefined,\n            tls: undefined,\n            request: undefined,\n            firstByte: undefined,\n            download: undefined,\n            total: undefined,\n        },\n    };\n    request.timings = timings;\n    const handleError = (origin) => {\n        origin.once(errorMonitor, () => {\n            timings.error = Date.now();\n            timings.phases.total = timings.error - timings.start;\n        });\n    };\n    handleError(request);\n    const onAbort = () => {\n        timings.abort = Date.now();\n        timings.phases.total = timings.abort - timings.start;\n    };\n    request.prependOnceListener('abort', onAbort);\n    const onSocket = (socket) => {\n        timings.socket = Date.now();\n        timings.phases.wait = timings.socket - timings.start;\n        if (types.isProxy(socket)) {\n            return;\n        }\n        const lookupListener = () => {\n            timings.lookup = Date.now();\n            timings.phases.dns = timings.lookup - timings.socket;\n        };\n        socket.prependOnceListener('lookup', lookupListener);\n        deferToConnect(socket, {\n            connect: () => {\n                timings.connect = Date.now();\n                if (timings.lookup === undefined) {\n                    socket.removeListener('lookup', lookupListener);\n                    timings.lookup = timings.connect;\n                    timings.phases.dns = timings.lookup - timings.socket;\n                }\n                timings.phases.tcp = timings.connect - timings.lookup;\n            },\n            secureConnect: () => {\n                timings.secureConnect = Date.now();\n                timings.phases.tls = timings.secureConnect - timings.connect;\n            },\n        });\n    };\n    if (request.socket) {\n        onSocket(request.socket);\n    }\n    else {\n        request.prependOnceListener('socket', onSocket);\n    }\n    const onUpload = () => {\n        timings.upload = Date.now();\n        timings.phases.request = timings.upload - (timings.secureConnect ?? timings.connect);\n    };\n    if (request.writableFinished) {\n        onUpload();\n    }\n    else {\n        request.prependOnceListener('finish', onUpload);\n    }\n    request.prependOnceListener('response', (response) => {\n        timings.response = Date.now();\n        timings.phases.firstByte = timings.response - timings.upload;\n        response.timings = timings;\n        handleError(response);\n        response.prependOnceListener('end', () => {\n            request.off('abort', onAbort);\n            response.off('aborted', onAbort);\n            if (timings.phases.total) {\n                // Aborted or errored\n                return;\n            }\n            timings.end = Date.now();\n            timings.phases.download = timings.end - timings.response;\n            timings.phases.total = timings.end - timings.start;\n        });\n        response.prependOnceListener('aborted', onAbort);\n    });\n    return timings;\n};\nexport default timer;\n", "import EventEmitter from 'node:events';\nimport urlLib from 'node:url';\nimport crypto from 'node:crypto';\nimport stream, {PassThrough as PassThroughStream} from 'node:stream';\nimport {IncomingMessage} from 'node:http';\nimport normalizeUrl from 'normalize-url';\nimport getStream from 'get-stream';\nimport CachePolicy from 'http-cache-semantics';\nimport Response from 'responselike';\nimport Keyv from 'keyv';\nimport mimicResponse from 'mimic-response';\nimport {RequestFn, StorageAdapter, CacheResponse, CacheValue, CacheableOptions, UrlOption, CacheError, RequestError, Emitter, CacheableRequestFunction} from './types.js';\n\ntype Func = (...args: any[]) => any;\n\nclass CacheableRequest {\n\tcache: StorageAdapter;\n\tcacheRequest: RequestFn;\n\thooks: Map<string, Func> = new Map<string, Func>();\n\tconstructor(cacheRequest: RequestFn, cacheAdapter?: StorageAdapter | string) {\n\t\tif (cacheAdapter instanceof Keyv) {\n\t\t\tthis.cache = cacheAdapter;\n\t\t} else if (typeof cacheAdapter === 'string') {\n\t\t\tthis.cache = new Keyv({\n\t\t\t\turi: cacheAdapter,\n\t\t\t\tnamespace: 'cacheable-request',\n\t\t\t});\n\t\t} else {\n\t\t\tthis.cache = new Keyv({\n\t\t\t\tstore: cacheAdapter,\n\t\t\t\tnamespace: 'cacheable-request',\n\t\t\t});\n\t\t}\n\n\t\tthis.request = this.request.bind(this);\n\t\tthis.cacheRequest = cacheRequest;\n\t}\n\n\trequest = () => (options: CacheableOptions,\n\t\tcb?: (response: CacheResponse) => void): Emitter => {\n\t\tlet url;\n\t\tif (typeof options === 'string') {\n\t\t\turl = normalizeUrlObject(urlLib.parse(options));\n\t\t\toptions = {};\n\t\t} else if (options instanceof urlLib.URL) {\n\t\t\turl = normalizeUrlObject(urlLib.parse(options.toString()));\n\t\t\toptions = {};\n\t\t} else {\n\t\t\tconst [pathname, ...searchParts] = (options.path ?? '').split('?');\n\t\t\tconst search = searchParts.length > 0\n\t\t\t\t? `?${searchParts.join('?')}`\n\t\t\t\t: '';\n\t\t\turl = normalizeUrlObject({...options, pathname, search});\n\t\t}\n\n\t\toptions = {\n\t\t\theaders: {},\n\t\t\tmethod: 'GET',\n\t\t\tcache: true,\n\t\t\tstrictTtl: false,\n\t\t\tautomaticFailover: false,\n\t\t\t...options,\n\t\t\t...urlObjectToRequestOptions(url),\n\t\t};\n\t\toptions.headers = Object.fromEntries(entries(options.headers).map(([key, value]) => [(key as string).toLowerCase(), value]));\n\t\tconst ee: Emitter = new EventEmitter() as Emitter;\n\t\tconst normalizedUrlString = normalizeUrl(urlLib.format(url), {\n\t\t\tstripWWW: false, // eslint-disable-line @typescript-eslint/naming-convention\n\t\t\tremoveTrailingSlash: false,\n\t\t\tstripAuthentication: false,\n\t\t});\n\t\tlet key = `${options.method}:${normalizedUrlString}`;\n\t\t// POST, PATCH, and PUT requests may be cached, depending on the response\n\t\t// cache-control headers. As a result, the body of the request should be\n\t\t// added to the cache key in order to avoid collisions.\n\t\tif (options.body && options.method !== undefined && ['POST', 'PATCH', 'PUT'].includes(options.method)) {\n\t\t\tif (options.body instanceof stream.Readable) {\n\t\t\t\t// Streamed bodies should completely skip the cache because they may\n\t\t\t\t// or may not be hashable and in either case the stream would need to\n\t\t\t\t// close before the cache key could be generated.\n\t\t\t\toptions.cache = false;\n\t\t\t} else {\n\t\t\t\tkey += `:${crypto.createHash('md5').update(options.body).digest('hex')}`;\n\t\t\t}\n\t\t}\n\n\t\tlet revalidate: any = false;\n\t\tlet madeRequest = false;\n\t\tconst makeRequest = (options_: any) => {\n\t\t\tmadeRequest = true;\n\t\t\tlet requestErrored = false;\n\t\t\tlet requestErrorCallback: (...args: any[]) => void = () => {/* do nothing */};\n\n\t\t\tconst requestErrorPromise = new Promise<void>(resolve => {\n\t\t\t\trequestErrorCallback = () => {\n\t\t\t\t\tif (!requestErrored) {\n\t\t\t\t\t\trequestErrored = true;\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t});\n\t\t\tconst handler = async (response: any) => {\n\t\t\t\tif (revalidate) {\n\t\t\t\t\tresponse.status = response.statusCode;\n\t\t\t\t\tconst revalidatedPolicy = CachePolicy.fromObject(revalidate.cachePolicy).revalidatedPolicy(options_, response);\n\t\t\t\t\tif (!revalidatedPolicy.modified) {\n\t\t\t\t\t\tresponse.resume();\n\t\t\t\t\t\tawait new Promise(resolve => {\n\t\t\t\t\t\t\t// Skipping 'error' handler cause 'error' event should't be emitted for 304 response\n\t\t\t\t\t\t\tresponse\n\t\t\t\t\t\t\t\t.once('end', resolve);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tconst headers = convertHeaders(revalidatedPolicy.policy.responseHeaders());\n\t\t\t\t\t\tresponse = new Response({statusCode: revalidate.statusCode, headers, body: revalidate.body, url: revalidate.url});\n\t\t\t\t\t\tresponse.cachePolicy = revalidatedPolicy.policy;\n\t\t\t\t\t\tresponse.fromCache = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!response.fromCache) {\n\t\t\t\t\tresponse.cachePolicy = new CachePolicy(options_, response, options_);\n\t\t\t\t\tresponse.fromCache = false;\n\t\t\t\t}\n\n\t\t\t\tlet clonedResponse;\n\t\t\t\tif (options_.cache && response.cachePolicy.storable()) {\n\t\t\t\t\tclonedResponse = cloneResponse(response);\n\t\t\t\t\t(async () => {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst bodyPromise = getStream.buffer(response);\n\t\t\t\t\t\t\tawait Promise.race([\n\t\t\t\t\t\t\t\trequestErrorPromise,\n\t\t\t\t\t\t\t\tnew Promise(resolve => response.once('end', resolve)), // eslint-disable-line no-promise-executor-return\n\t\t\t\t\t\t\t\tnew Promise(resolve => response.once('close', resolve)), // eslint-disable-line no-promise-executor-return\n\t\t\t\t\t\t\t]);\n\t\t\t\t\t\t\tconst body = await bodyPromise;\n\t\t\t\t\t\t\tlet value: CacheValue = {\n\t\t\t\t\t\t\t\turl: response.url,\n\t\t\t\t\t\t\t\tstatusCode: response.fromCache ? revalidate.statusCode : response.statusCode,\n\t\t\t\t\t\t\t\tbody,\n\t\t\t\t\t\t\t\tcachePolicy: response.cachePolicy.toObject(),\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tlet ttl = options_.strictTtl ? response.cachePolicy.timeToLive() : undefined;\n\t\t\t\t\t\t\tif (options_.maxTtl) {\n\t\t\t\t\t\t\t\tttl = ttl ? Math.min(ttl, options_.maxTtl) : options_.maxTtl;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (this.hooks.size > 0) {\n\t\t\t\t\t\t\t\t/* eslint-disable no-await-in-loop */\n\t\t\t\t\t\t\t\tfor (const key_ of this.hooks.keys()) {\n\t\t\t\t\t\t\t\t\tvalue = await this.runHook(key_, value, response);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/* eslint-enable no-await-in-loop */\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tawait this.cache.set(key, value, ttl);\n\t\t\t\t\t\t} catch (error: any) {\n\t\t\t\t\t\t\tee.emit('error', new CacheError(error));\n\t\t\t\t\t\t}\n\t\t\t\t\t})();\n\t\t\t\t} else if (options_.cache && revalidate) {\n\t\t\t\t\t(async () => {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tawait this.cache.delete(key);\n\t\t\t\t\t\t} catch (error: any) {\n\t\t\t\t\t\t\tee.emit('error', new CacheError(error));\n\t\t\t\t\t\t}\n\t\t\t\t\t})();\n\t\t\t\t}\n\n\t\t\t\tee.emit('response', clonedResponse ?? response);\n\t\t\t\tif (typeof cb === 'function') {\n\t\t\t\t\tcb(clonedResponse ?? response);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\ttry {\n\t\t\t\tconst request_ = this.cacheRequest(options_, handler);\n\t\t\t\trequest_.once('error', requestErrorCallback);\n\t\t\t\trequest_.once('abort', requestErrorCallback);\n\t\t\t\trequest_.once('destroy', requestErrorCallback);\n\t\t\t\tee.emit('request', request_);\n\t\t\t} catch (error: any) {\n\t\t\t\tee.emit('error', new RequestError(error));\n\t\t\t}\n\t\t};\n\n\t\t(async () => {\n\t\t\tconst get = async (options_: any) => {\n\t\t\t\tawait Promise.resolve();\n\t\t\t\tconst cacheEntry = options_.cache ? await this.cache.get(key) : undefined;\n\n\t\t\t\tif (cacheEntry === undefined && !options_.forceRefresh) {\n\t\t\t\t\tmakeRequest(options_);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst policy = CachePolicy.fromObject(cacheEntry.cachePolicy);\n\t\t\t\tif (policy.satisfiesWithoutRevalidation(options_) && !options_.forceRefresh) {\n\t\t\t\t\tconst headers = convertHeaders(policy.responseHeaders());\n\t\t\t\t\tconst response: any = new Response({statusCode: cacheEntry.statusCode, headers, body: cacheEntry.body, url: cacheEntry.url});\n\t\t\t\t\tresponse.cachePolicy = policy;\n\t\t\t\t\tresponse.fromCache = true;\n\t\t\t\t\tee.emit('response', response);\n\t\t\t\t\tif (typeof cb === 'function') {\n\t\t\t\t\t\tcb(response);\n\t\t\t\t\t}\n\t\t\t\t} else if (policy.satisfiesWithoutRevalidation(options_) && Date.now() >= policy.timeToLive() && options_.forceRefresh) {\n\t\t\t\t\tawait this.cache.delete(key);\n\t\t\t\t\toptions_.headers = policy.revalidationHeaders(options_);\n\t\t\t\t\tmakeRequest(options_);\n\t\t\t\t} else {\n\t\t\t\t\trevalidate = cacheEntry;\n\t\t\t\t\toptions_.headers = policy.revalidationHeaders(options_);\n\t\t\t\t\tmakeRequest(options_);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tconst errorHandler = (error: Error) => ee.emit('error', new CacheError(error));\n\t\t\tif (this.cache instanceof Keyv) {\n\t\t\t\tconst cachek = this.cache;\n\t\t\t\tcachek.once('error', errorHandler);\n\t\t\t\tee.on('error', () => cachek.removeListener('error', errorHandler));\n\t\t\t\tee.on('response', () => cachek.removeListener('error', errorHandler));\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tawait get(options);\n\t\t\t} catch (error: any) {\n\t\t\t\tif (options.automaticFailover && !madeRequest) {\n\t\t\t\t\tmakeRequest(options);\n\t\t\t\t}\n\n\t\t\t\tee.emit('error', new CacheError(error));\n\t\t\t}\n\t\t})();\n\n\t\treturn ee;\n\t};\n\n\taddHook = (name: string, fn: Func) => {\n\t\tif (!this.hooks.has(name)) {\n\t\t\tthis.hooks.set(name, fn);\n\t\t}\n\t};\n\n\tremoveHook = (name: string) => this.hooks.delete(name);\n\n\tgetHook = (name: string) => this.hooks.get(name);\n\n\trunHook = async (name: string, ...args: any[]): Promise<CacheValue> => this.hooks.get(name)?.(...args);\n}\n\nconst entries = Object.entries as <T>(object: T) => Array<[keyof T, T[keyof T]]>;\n\nconst cloneResponse = (response: IncomingMessage) => {\n\tconst clone = new PassThroughStream({autoDestroy: false});\n\tmimicResponse(response, clone);\n\n\treturn response.pipe(clone);\n};\n\nconst urlObjectToRequestOptions = (url: any) => {\n\tconst options: UrlOption = {...url};\n\toptions.path = `${url.pathname || '/'}${url.search || ''}`;\n\tdelete options.pathname;\n\tdelete options.search;\n\treturn options;\n};\n\nconst normalizeUrlObject = (url: any) =>\n\t// If url was parsed by url.parse or new URL:\n\t// - hostname will be set\n\t// - host will be hostname[:port]\n\t// - port will be set if it was explicit in the parsed string\n\t// Otherwise, url was from request options:\n\t// - hostname or host may be set\n\t// - host shall not have port encoded\n\t({\n\t\tprotocol: url.protocol,\n\t\tauth: url.auth,\n\t\thostname: url.hostname || url.host || 'localhost',\n\t\tport: url.port,\n\t\tpathname: url.pathname,\n\t\tsearch: url.search,\n\t});\n\nconst convertHeaders = (headers: CachePolicy.Headers) => {\n\tconst result: any = [];\n\tfor (const name of Object.keys(headers)) {\n\t\tresult[name.toLowerCase()] = headers[name];\n\t}\n\n\treturn result;\n};\n\nexport default CacheableRequest;\nexport * from './types.js';\nexport const onResponse = 'onResponse';\n", "// https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs\nconst DATA_URL_DEFAULT_MIME_TYPE = 'text/plain';\nconst DATA_URL_DEFAULT_CHARSET = 'us-ascii';\n\nconst testParameter = (name, filters) => filters.some(filter => filter instanceof RegExp ? filter.test(name) : filter === name);\n\nconst supportedProtocols = new Set([\n\t'https:',\n\t'http:',\n\t'file:',\n]);\n\nconst hasCustomProtocol = urlString => {\n\ttry {\n\t\tconst {protocol} = new URL(urlString);\n\n\t\treturn protocol.endsWith(':')\n\t\t\t&& !protocol.includes('.')\n\t\t\t&& !supportedProtocols.has(protocol);\n\t} catch {\n\t\treturn false;\n\t}\n};\n\nconst normalizeDataURL = (urlString, {stripHash}) => {\n\tconst match = /^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(urlString);\n\n\tif (!match) {\n\t\tthrow new Error(`Invalid URL: ${urlString}`);\n\t}\n\n\tlet {type, data, hash} = match.groups;\n\tconst mediaType = type.split(';');\n\thash = stripHash ? '' : hash;\n\n\tlet isBase64 = false;\n\tif (mediaType[mediaType.length - 1] === 'base64') {\n\t\tmediaType.pop();\n\t\tisBase64 = true;\n\t}\n\n\t// Lowercase MIME type\n\tconst mimeType = mediaType.shift()?.toLowerCase() ?? '';\n\tconst attributes = mediaType\n\t\t.map(attribute => {\n\t\t\tlet [key, value = ''] = attribute.split('=').map(string => string.trim());\n\n\t\t\t// Lowercase `charset`\n\t\t\tif (key === 'charset') {\n\t\t\t\tvalue = value.toLowerCase();\n\n\t\t\t\tif (value === DATA_URL_DEFAULT_CHARSET) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn `${key}${value ? `=${value}` : ''}`;\n\t\t})\n\t\t.filter(Boolean);\n\n\tconst normalizedMediaType = [\n\t\t...attributes,\n\t];\n\n\tif (isBase64) {\n\t\tnormalizedMediaType.push('base64');\n\t}\n\n\tif (normalizedMediaType.length > 0 || (mimeType && mimeType !== DATA_URL_DEFAULT_MIME_TYPE)) {\n\t\tnormalizedMediaType.unshift(mimeType);\n\t}\n\n\treturn `data:${normalizedMediaType.join(';')},${isBase64 ? data.trim() : data}${hash ? `#${hash}` : ''}`;\n};\n\nexport default function normalizeUrl(urlString, options) {\n\toptions = {\n\t\tdefaultProtocol: 'http',\n\t\tnormalizeProtocol: true,\n\t\tforceHttp: false,\n\t\tforceHttps: false,\n\t\tstripAuthentication: true,\n\t\tstripHash: false,\n\t\tstripTextFragment: true,\n\t\tstripWWW: true,\n\t\tremoveQueryParameters: [/^utm_\\w+/i],\n\t\tremoveTrailingSlash: true,\n\t\tremoveSingleSlash: true,\n\t\tremoveDirectoryIndex: false,\n\t\tremoveExplicitPort: false,\n\t\tsortQueryParameters: true,\n\t\t...options,\n\t};\n\n\t// Legacy: Append `:` to the protocol if missing.\n\tif (typeof options.defaultProtocol === 'string' && !options.defaultProtocol.endsWith(':')) {\n\t\toptions.defaultProtocol = `${options.defaultProtocol}:`;\n\t}\n\n\turlString = urlString.trim();\n\n\t// Data URL\n\tif (/^data:/i.test(urlString)) {\n\t\treturn normalizeDataURL(urlString, options);\n\t}\n\n\tif (hasCustomProtocol(urlString)) {\n\t\treturn urlString;\n\t}\n\n\tconst hasRelativeProtocol = urlString.startsWith('//');\n\tconst isRelativeUrl = !hasRelativeProtocol && /^\\.*\\//.test(urlString);\n\n\t// Prepend protocol\n\tif (!isRelativeUrl) {\n\t\turlString = urlString.replace(/^(?!(?:\\w+:)?\\/\\/)|^\\/\\//, options.defaultProtocol);\n\t}\n\n\tconst urlObject = new URL(urlString);\n\n\tif (options.forceHttp && options.forceHttps) {\n\t\tthrow new Error('The `forceHttp` and `forceHttps` options cannot be used together');\n\t}\n\n\tif (options.forceHttp && urlObject.protocol === 'https:') {\n\t\turlObject.protocol = 'http:';\n\t}\n\n\tif (options.forceHttps && urlObject.protocol === 'http:') {\n\t\turlObject.protocol = 'https:';\n\t}\n\n\t// Remove auth\n\tif (options.stripAuthentication) {\n\t\turlObject.username = '';\n\t\turlObject.password = '';\n\t}\n\n\t// Remove hash\n\tif (options.stripHash) {\n\t\turlObject.hash = '';\n\t} else if (options.stripTextFragment) {\n\t\turlObject.hash = urlObject.hash.replace(/#?:~:text.*?$/i, '');\n\t}\n\n\t// Remove duplicate slashes if not preceded by a protocol\n\t// NOTE: This could be implemented using a single negative lookbehind\n\t// regex, but we avoid that to maintain compatibility with older js engines\n\t// which do not have support for that feature.\n\tif (urlObject.pathname) {\n\t\t// TODO: Replace everything below with `urlObject.pathname = urlObject.pathname.replace(/(?<!\\b[a-z][a-z\\d+\\-.]{1,50}:)\\/{2,}/g, '/');` when Safari supports negative lookbehind.\n\n\t\t// Split the string by occurrences of this protocol regex, and perform\n\t\t// duplicate-slash replacement on the strings between those occurrences\n\t\t// (if any).\n\t\tconst protocolRegex = /\\b[a-z][a-z\\d+\\-.]{1,50}:\\/\\//g;\n\n\t\tlet lastIndex = 0;\n\t\tlet result = '';\n\t\tfor (;;) {\n\t\t\tconst match = protocolRegex.exec(urlObject.pathname);\n\t\t\tif (!match) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tconst protocol = match[0];\n\t\t\tconst protocolAtIndex = match.index;\n\t\t\tconst intermediate = urlObject.pathname.slice(lastIndex, protocolAtIndex);\n\n\t\t\tresult += intermediate.replace(/\\/{2,}/g, '/');\n\t\t\tresult += protocol;\n\t\t\tlastIndex = protocolAtIndex + protocol.length;\n\t\t}\n\n\t\tconst remnant = urlObject.pathname.slice(lastIndex, urlObject.pathname.length);\n\t\tresult += remnant.replace(/\\/{2,}/g, '/');\n\n\t\turlObject.pathname = result;\n\t}\n\n\t// Decode URI octets\n\tif (urlObject.pathname) {\n\t\ttry {\n\t\t\turlObject.pathname = decodeURI(urlObject.pathname);\n\t\t} catch {}\n\t}\n\n\t// Remove directory index\n\tif (options.removeDirectoryIndex === true) {\n\t\toptions.removeDirectoryIndex = [/^index\\.[a-z]+$/];\n\t}\n\n\tif (Array.isArray(options.removeDirectoryIndex) && options.removeDirectoryIndex.length > 0) {\n\t\tlet pathComponents = urlObject.pathname.split('/');\n\t\tconst lastComponent = pathComponents[pathComponents.length - 1];\n\n\t\tif (testParameter(lastComponent, options.removeDirectoryIndex)) {\n\t\t\tpathComponents = pathComponents.slice(0, -1);\n\t\t\turlObject.pathname = pathComponents.slice(1).join('/') + '/';\n\t\t}\n\t}\n\n\tif (urlObject.hostname) {\n\t\t// Remove trailing dot\n\t\turlObject.hostname = urlObject.hostname.replace(/\\.$/, '');\n\n\t\t// Remove `www.`\n\t\tif (options.stripWWW && /^www\\.(?!www\\.)[a-z\\-\\d]{1,63}\\.[a-z.\\-\\d]{2,63}$/.test(urlObject.hostname)) {\n\t\t\t// Each label should be max 63 at length (min: 1).\n\t\t\t// Source: https://en.wikipedia.org/wiki/Hostname#Restrictions_on_valid_host_names\n\t\t\t// Each TLD should be up to 63 characters long (min: 2).\n\t\t\t// It is technically possible to have a single character TLD, but none currently exist.\n\t\t\turlObject.hostname = urlObject.hostname.replace(/^www\\./, '');\n\t\t}\n\t}\n\n\t// Remove query unwanted parameters\n\tif (Array.isArray(options.removeQueryParameters)) {\n\t\t// eslint-disable-next-line unicorn/no-useless-spread -- We are intentionally spreading to get a copy.\n\t\tfor (const key of [...urlObject.searchParams.keys()]) {\n\t\t\tif (testParameter(key, options.removeQueryParameters)) {\n\t\t\t\turlObject.searchParams.delete(key);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!Array.isArray(options.keepQueryParameters) && options.removeQueryParameters === true) {\n\t\turlObject.search = '';\n\t}\n\n\t// Keep wanted query parameters\n\tif (Array.isArray(options.keepQueryParameters) && options.keepQueryParameters.length > 0) {\n\t\t// eslint-disable-next-line unicorn/no-useless-spread -- We are intentionally spreading to get a copy.\n\t\tfor (const key of [...urlObject.searchParams.keys()]) {\n\t\t\tif (!testParameter(key, options.keepQueryParameters)) {\n\t\t\t\turlObject.searchParams.delete(key);\n\t\t\t}\n\t\t}\n\t}\n\n\t// Sort query parameters\n\tif (options.sortQueryParameters) {\n\t\turlObject.searchParams.sort();\n\n\t\t// Calling `.sort()` encodes the search parameters, so we need to decode them again.\n\t\ttry {\n\t\t\turlObject.search = decodeURIComponent(urlObject.search);\n\t\t} catch {}\n\t}\n\n\tif (options.removeTrailingSlash) {\n\t\turlObject.pathname = urlObject.pathname.replace(/\\/$/, '');\n\t}\n\n\t// Remove an explicit port number, excluding a default port number, if applicable\n\tif (options.removeExplicitPort && urlObject.port) {\n\t\turlObject.port = '';\n\t}\n\n\tconst oldUrlString = urlString;\n\n\t// Take advantage of many of the Node `url` normalizations\n\turlString = urlObject.toString();\n\n\tif (!options.removeSingleSlash && urlObject.pathname === '/' && !oldUrlString.endsWith('/') && urlObject.hash === '') {\n\t\turlString = urlString.replace(/\\/$/, '');\n\t}\n\n\t// Remove ending `/` unless removeSingleSlash is false\n\tif ((options.removeTrailingSlash || urlObject.pathname === '/') && urlObject.hash === '' && options.removeSingleSlash) {\n\t\turlString = urlString.replace(/\\/$/, '');\n\t}\n\n\t// Restore relative protocol, if applicable\n\tif (hasRelativeProtocol && !options.normalizeProtocol) {\n\t\turlString = urlString.replace(/^http:\\/\\//, '//');\n\t}\n\n\t// Remove http/https\n\tif (options.stripProtocol) {\n\t\turlString = urlString.replace(/^(?:https?:)?\\/\\//, '');\n\t}\n\n\treturn urlString;\n}\n", "import {Readable as ReadableStream} from 'node:stream';\nimport lowercaseKeys from 'lowercase-keys';\n\nexport default class Response extends ReadableStream {\n\tstatusCode;\n\theaders;\n\tbody;\n\turl;\n\n\tconstructor({statusCode, headers, body, url}) {\n\t\tif (typeof statusCode !== 'number') {\n\t\t\tthrow new TypeError('Argument `statusCode` should be a number');\n\t\t}\n\n\t\tif (typeof headers !== 'object') {\n\t\t\tthrow new TypeError('Argument `headers` should be an object');\n\t\t}\n\n\t\tif (!(body instanceof Uint8Array)) {\n\t\t\tthrow new TypeError('Argument `body` should be a buffer');\n\t\t}\n\n\t\tif (typeof url !== 'string') {\n\t\t\tthrow new TypeError('Argument `url` should be a string');\n\t\t}\n\n\t\tsuper({\n\t\t\tread() {\n\t\t\t\tthis.push(body);\n\t\t\t\tthis.push(null);\n\t\t\t},\n\t\t});\n\n\t\tthis.statusCode = statusCode;\n\t\tthis.headers = lowercaseKeys(headers);\n\t\tthis.body = body;\n\t\tthis.url = url;\n\t}\n}\n", "export default function lowercaseKeys(object) {\n\treturn Object.fromEntries(Object.entries(object).map(([key, value]) => [key.toLowerCase(), value]));\n}\n", "// We define these manually to ensure they're always copied\n// even if they would move up the prototype chain\n// https://nodejs.org/api/http.html#http_class_http_incomingmessage\nconst knownProperties = [\n\t'aborted',\n\t'complete',\n\t'headers',\n\t'httpVersion',\n\t'httpVersionMinor',\n\t'httpVersionMajor',\n\t'method',\n\t'rawHeaders',\n\t'rawTrailers',\n\t'setTimeout',\n\t'socket',\n\t'statusCode',\n\t'statusMessage',\n\t'trailers',\n\t'url',\n];\n\nexport default function mimicResponse(fromStream, toStream) {\n\tif (toStream._readableState.autoDestroy) {\n\t\tthrow new Error('The second stream must have the `autoDestroy` option set to `false`');\n\t}\n\n\tconst fromProperties = new Set([...Object.keys(fromStream), ...knownProperties]);\n\n\tconst properties = {};\n\n\tfor (const property of fromProperties) {\n\t\t// Don't overwrite existing properties.\n\t\tif (property in toStream) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tproperties[property] = {\n\t\t\tget() {\n\t\t\t\tconst value = fromStream[property];\n\t\t\t\tconst isFunction = typeof value === 'function';\n\n\t\t\t\treturn isFunction ? value.bind(fromStream) : value;\n\t\t\t},\n\t\t\tset(value) {\n\t\t\t\tfromStream[property] = value;\n\t\t\t},\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t};\n\t}\n\n\tObject.defineProperties(toStream, properties);\n\n\tfromStream.once('aborted', () => {\n\t\ttoStream.destroy();\n\n\t\ttoStream.emit('aborted');\n\t});\n\n\tfromStream.once('close', () => {\n\t\tif (fromStream.complete) {\n\t\t\tif (toStream.readable) {\n\t\t\t\ttoStream.once('end', () => {\n\t\t\t\t\ttoStream.emit('close');\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\ttoStream.emit('close');\n\t\t\t}\n\t\t} else {\n\t\t\ttoStream.emit('close');\n\t\t}\n\t});\n\n\treturn toStream;\n}\n", "// Type definitions for cacheable-request 6.0\n// Project: https://github.com/lukechilds/cacheable-request#readme\n// Definitions by: BendingBender <https://github.com/BendingBender>\n//                 Paul Melnikow <https://github.com/paulmelnikow>\n// Definitions: https://github.com/DefinitelyTyped/DefinitelyTyped\n// TypeScript Version: 2.3\n\n/// <reference types=\"node\" />\n\nimport {request, RequestOptions, ClientRequest, ServerResponse} from 'node:http';\nimport {URL} from 'node:url';\nimport {EventEmitter} from 'node:events';\nimport {Buffer} from 'node:buffer';\nimport {Store} from 'keyv';\nimport ResponseLike from 'responselike';\nimport {CachePolicyObject} from 'http-cache-semantics';\n\nexport type RequestFn = typeof request;\nexport type RequestFunction = typeof request;\nexport type CacheResponse = ServerResponse | typeof ResponseLike;\n\nexport type CacheableRequestFunction = (\n\toptions: CacheableOptions,\n\tcb?: (response: CacheResponse) => void\n) => Emitter;\n\nexport type CacheableOptions = Options & RequestOptions | string | URL;\n\nexport type StorageAdapter = Store<any>;\n\nexport interface Options {\n\t/**\n\t\t\t * If the cache should be used. Setting this to `false` will completely bypass the cache for the current request.\n\t\t\t * @default true\n\t\t\t */\n\tcache?: boolean | undefined;\n\n\t/**\n\t\t\t * If set to `true` once a cached resource has expired it is deleted and will have to be re-requested.\n\t\t\t *\n\t\t\t * If set to `false`, after a cached resource's TTL expires it is kept in the cache and will be revalidated\n\t\t\t * on the next request with `If-None-Match`/`If-Modified-Since` headers.\n\t\t\t * @default false\n\t\t\t */\n\tstrictTtl?: boolean | undefined;\n\n\t/**\n\t\t\t * Limits TTL. The `number` represents milliseconds.\n\t\t\t * @default undefined\n\t\t\t */\n\tmaxTtl?: number | undefined;\n\n\t/**\n\t\t\t * When set to `true`, if the DB connection fails we will automatically fallback to a network request.\n\t\t\t * DB errors will still be emitted to notify you of the problem even though the request callback may succeed.\n\t\t\t * @default false\n\t\t\t */\n\tautomaticFailover?: boolean | undefined;\n\n\t/**\n * Forces refreshing the cache. If the response could be retrieved from the cache, it will perform a\n * new request and override the cache instead.\n * @default false\n */\n\tforceRefresh?: boolean | undefined;\n\tremoteAddress?: boolean | undefined;\n\n\turl?: string | undefined;\n\n\theaders?: Record<string, string | string[] | undefined>;\n\n\tbody?: Buffer;\n}\n\nexport interface CacheValue extends Record<string, any> {\n\turl: string;\n\tstatusCode: number;\n\tbody: Buffer | string;\n\tcachePolicy: CachePolicyObject;\n}\n\nexport interface Emitter extends EventEmitter {\n\taddListener(event: 'request', listener: (request: ClientRequest) => void): this;\n\taddListener(\n\t\tevent: 'response',\n\t\tlistener: (response: CacheResponse) => void\n\t): this;\n\taddListener(event: 'error', listener: (error: RequestError | CacheError) => void): this;\n\ton(event: 'request', listener: (request: ClientRequest) => void): this;\n\ton(event: 'response', listener: (response: CacheResponse) => void): this;\n\ton(event: 'error', listener: (error: RequestError | CacheError) => void): this;\n\tonce(event: 'request', listener: (request: ClientRequest) => void): this;\n\tonce(event: 'response', listener: (response: CacheResponse) => void): this;\n\tonce(event: 'error', listener: (error: RequestError | CacheError) => void): this;\n\tprependListener(event: 'request', listener: (request: ClientRequest) => void): this;\n\tprependListener(\n\t\tevent: 'response',\n\t\tlistener: (response: CacheResponse) => void\n\t): this;\n\tprependListener(event: 'error', listener: (error: RequestError | CacheError) => void): this;\n\tprependOnceListener(event: 'request', listener: (request: ClientRequest) => void): this;\n\tprependOnceListener(\n\t\tevent: 'response',\n\t\tlistener: (response: CacheResponse) => void\n\t): this;\n\tprependOnceListener(\n\t\tevent: 'error',\n\t\tlistener: (error: RequestError | CacheError) => void\n\t): this;\n\tremoveListener(event: 'request', listener: (request: ClientRequest) => void): this;\n\tremoveListener(\n\t\tevent: 'response',\n\t\tlistener: (response: CacheResponse) => void\n\t): this;\n\tremoveListener(event: 'error', listener: (error: RequestError | CacheError) => void): this;\n\toff(event: 'request', listener: (request: ClientRequest) => void): this;\n\toff(event: 'response', listener: (response: CacheResponse) => void): this;\n\toff(event: 'error', listener: (error: RequestError | CacheError) => void): this;\n\tremoveAllListeners(event?: 'request' | 'response' | 'error'): this;\n\tlisteners(event: 'request'): Array<(request: ClientRequest) => void>;\n\tlisteners(event: 'response'): Array<(response: CacheResponse) => void>;\n\tlisteners(event: 'error'): Array<(error: RequestError | CacheError) => void>;\n\trawListeners(event: 'request'): Array<(request: ClientRequest) => void>;\n\trawListeners(event: 'response'): Array<(response: CacheResponse) => void>;\n\trawListeners(event: 'error'): Array<(error: RequestError | CacheError) => void>;\n\temit(event: 'request', request: ClientRequest): boolean;\n\temit(event: 'response', response: CacheResponse): boolean;\n\temit(event: 'error', error: RequestError | CacheError): boolean;\n\teventNames(): Array<'request' | 'response' | 'error'>;\n\tlistenerCount(type: 'request' | 'response' | 'error'): number;\n}\n\nexport class RequestError extends Error {\n\tconstructor(error: Error) {\n\t\tsuper(error.message);\n\t\tObject.assign(this, error);\n\t}\n}\nexport class CacheError extends Error {\n\tconstructor(error: Error) {\n\t\tsuper(error.message);\n\t\tObject.assign(this, error);\n\t}\n}\n\nexport interface UrlOption {\n\tpath: string;\n\tpathname?: string;\n\tsearch?: string;\n}\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _FormDataEncoder_instances, _FormDataEncoder_CRLF, _FormDataEncoder_CRLF_BYTES, _FormDataEncoder_CRLF_BYTES_LENGTH, _FormDataEncoder_DASHES, _FormDataEncoder_encoder, _FormDataEncoder_footer, _FormDataEncoder_form, _FormDataEncoder_options, _FormDataEncoder_getFieldHeader, _FormDataEncoder_getContentLength;\nimport { getStreamIterator } from \"./util/getStreamIterator.js\";\nimport { createBoundary } from \"./util/createBoundary.js\";\nimport { normalizeValue } from \"./util/normalizeValue.js\";\nimport { isPlainObject } from \"./util/isPlainObject.js\";\nimport { proxyHeaders } from \"./util/proxyHeaders.js\";\nimport { isFormData } from \"./util/isFormData.js\";\nimport { escapeName } from \"./util/escapeName.js\";\nimport { isFile } from \"./util/isFile.js\";\nconst defaultOptions = {\n    enableAdditionalHeaders: false\n};\nconst readonlyProp = { writable: false, configurable: false };\nexport class FormDataEncoder {\n    constructor(form, boundaryOrOptions, options) {\n        _FormDataEncoder_instances.add(this);\n        _FormDataEncoder_CRLF.set(this, \"\\r\\n\");\n        _FormDataEncoder_CRLF_BYTES.set(this, void 0);\n        _FormDataEncoder_CRLF_BYTES_LENGTH.set(this, void 0);\n        _FormDataEncoder_DASHES.set(this, \"-\".repeat(2));\n        _FormDataEncoder_encoder.set(this, new TextEncoder());\n        _FormDataEncoder_footer.set(this, void 0);\n        _FormDataEncoder_form.set(this, void 0);\n        _FormDataEncoder_options.set(this, void 0);\n        if (!isFormData(form)) {\n            throw new TypeError(\"Expected first argument to be a FormData instance.\");\n        }\n        let boundary;\n        if (isPlainObject(boundaryOrOptions)) {\n            options = boundaryOrOptions;\n        }\n        else {\n            boundary = boundaryOrOptions;\n        }\n        if (!boundary) {\n            boundary = createBoundary();\n        }\n        if (typeof boundary !== \"string\") {\n            throw new TypeError(\"Expected boundary argument to be a string.\");\n        }\n        if (options && !isPlainObject(options)) {\n            throw new TypeError(\"Expected options argument to be an object.\");\n        }\n        __classPrivateFieldSet(this, _FormDataEncoder_form, Array.from(form.entries()), \"f\");\n        __classPrivateFieldSet(this, _FormDataEncoder_options, { ...defaultOptions, ...options }, \"f\");\n        __classPrivateFieldSet(this, _FormDataEncoder_CRLF_BYTES, __classPrivateFieldGet(this, _FormDataEncoder_encoder, \"f\").encode(__classPrivateFieldGet(this, _FormDataEncoder_CRLF, \"f\")), \"f\");\n        __classPrivateFieldSet(this, _FormDataEncoder_CRLF_BYTES_LENGTH, __classPrivateFieldGet(this, _FormDataEncoder_CRLF_BYTES, \"f\").byteLength, \"f\");\n        this.boundary = `form-data-boundary-${boundary}`;\n        this.contentType = `multipart/form-data; boundary=${this.boundary}`;\n        __classPrivateFieldSet(this, _FormDataEncoder_footer, __classPrivateFieldGet(this, _FormDataEncoder_encoder, \"f\").encode(`${__classPrivateFieldGet(this, _FormDataEncoder_DASHES, \"f\")}${this.boundary}${__classPrivateFieldGet(this, _FormDataEncoder_DASHES, \"f\")}${__classPrivateFieldGet(this, _FormDataEncoder_CRLF, \"f\").repeat(2)}`), \"f\");\n        const headers = {\n            \"Content-Type\": this.contentType\n        };\n        const contentLength = __classPrivateFieldGet(this, _FormDataEncoder_instances, \"m\", _FormDataEncoder_getContentLength).call(this);\n        if (contentLength) {\n            this.contentLength = contentLength;\n            headers[\"Content-Length\"] = contentLength;\n        }\n        this.headers = proxyHeaders(Object.freeze(headers));\n        Object.defineProperties(this, {\n            boundary: readonlyProp,\n            contentType: readonlyProp,\n            contentLength: readonlyProp,\n            headers: readonlyProp\n        });\n    }\n    getContentLength() {\n        return this.contentLength == null ? undefined : Number(this.contentLength);\n    }\n    *values() {\n        for (const [name, raw] of __classPrivateFieldGet(this, _FormDataEncoder_form, \"f\")) {\n            const value = isFile(raw) ? raw : __classPrivateFieldGet(this, _FormDataEncoder_encoder, \"f\").encode(normalizeValue(raw));\n            yield __classPrivateFieldGet(this, _FormDataEncoder_instances, \"m\", _FormDataEncoder_getFieldHeader).call(this, name, value);\n            yield value;\n            yield __classPrivateFieldGet(this, _FormDataEncoder_CRLF_BYTES, \"f\");\n        }\n        yield __classPrivateFieldGet(this, _FormDataEncoder_footer, \"f\");\n    }\n    async *encode() {\n        for (const part of this.values()) {\n            if (isFile(part)) {\n                yield* getStreamIterator(part.stream());\n            }\n            else {\n                yield part;\n            }\n        }\n    }\n    [(_FormDataEncoder_CRLF = new WeakMap(), _FormDataEncoder_CRLF_BYTES = new WeakMap(), _FormDataEncoder_CRLF_BYTES_LENGTH = new WeakMap(), _FormDataEncoder_DASHES = new WeakMap(), _FormDataEncoder_encoder = new WeakMap(), _FormDataEncoder_footer = new WeakMap(), _FormDataEncoder_form = new WeakMap(), _FormDataEncoder_options = new WeakMap(), _FormDataEncoder_instances = new WeakSet(), _FormDataEncoder_getFieldHeader = function _FormDataEncoder_getFieldHeader(name, value) {\n        let header = \"\";\n        header += `${__classPrivateFieldGet(this, _FormDataEncoder_DASHES, \"f\")}${this.boundary}${__classPrivateFieldGet(this, _FormDataEncoder_CRLF, \"f\")}`;\n        header += `Content-Disposition: form-data; name=\"${escapeName(name)}\"`;\n        if (isFile(value)) {\n            header += `; filename=\"${escapeName(value.name)}\"${__classPrivateFieldGet(this, _FormDataEncoder_CRLF, \"f\")}`;\n            header += `Content-Type: ${value.type || \"application/octet-stream\"}`;\n        }\n        const size = isFile(value) ? value.size : value.byteLength;\n        if (__classPrivateFieldGet(this, _FormDataEncoder_options, \"f\").enableAdditionalHeaders === true\n            && size != null\n            && !isNaN(size)) {\n            header += `${__classPrivateFieldGet(this, _FormDataEncoder_CRLF, \"f\")}Content-Length: ${isFile(value) ? value.size : value.byteLength}`;\n        }\n        return __classPrivateFieldGet(this, _FormDataEncoder_encoder, \"f\").encode(`${header}${__classPrivateFieldGet(this, _FormDataEncoder_CRLF, \"f\").repeat(2)}`);\n    }, _FormDataEncoder_getContentLength = function _FormDataEncoder_getContentLength() {\n        let length = 0;\n        for (const [name, raw] of __classPrivateFieldGet(this, _FormDataEncoder_form, \"f\")) {\n            const value = isFile(raw) ? raw : __classPrivateFieldGet(this, _FormDataEncoder_encoder, \"f\").encode(normalizeValue(raw));\n            const size = isFile(value) ? value.size : value.byteLength;\n            if (size == null || isNaN(size)) {\n                return undefined;\n            }\n            length += __classPrivateFieldGet(this, _FormDataEncoder_instances, \"m\", _FormDataEncoder_getFieldHeader).call(this, name, value).byteLength;\n            length += size;\n            length += __classPrivateFieldGet(this, _FormDataEncoder_CRLF_BYTES_LENGTH, \"f\");\n        }\n        return String(length + __classPrivateFieldGet(this, _FormDataEncoder_footer, \"f\").byteLength);\n    }, Symbol.iterator)]() {\n        return this.values();\n    }\n    [Symbol.asyncIterator]() {\n        return this.encode();\n    }\n}\n", "import { isFunction } from \"./isFunction.js\";\nconst isAsyncIterable = (value) => (isFunction(value[Symbol.asyncIterator]));\nasync function* readStream(readable) {\n    const reader = readable.getReader();\n    while (true) {\n        const { done, value } = await reader.read();\n        if (done) {\n            break;\n        }\n        yield value;\n    }\n}\nexport const getStreamIterator = (source) => {\n    if (isAsyncIterable(source)) {\n        return source;\n    }\n    if (isFunction(source.getReader)) {\n        return readStream(source);\n    }\n    throw new TypeError(\"Unsupported data source: Expected either ReadableStream or async iterable.\");\n};\n", "export const isFunction = (value) => (typeof value === \"function\");\n", "const alphabet = \"abcdefghijklmnopqrstuvwxyz0123456789\";\nexport function createBoundary() {\n    let size = 16;\n    let res = \"\";\n    while (size--) {\n        res += alphabet[(Math.random() * alphabet.length) << 0];\n    }\n    return res;\n}\n", "export const normalizeValue = (value) => String(value)\n    .replace(/\\r|\\n/g, (match, i, str) => {\n    if ((match === \"\\r\" && str[i + 1] !== \"\\n\")\n        || (match === \"\\n\" && str[i - 1] !== \"\\r\")) {\n        return \"\\r\\n\";\n    }\n    return match;\n});\n", "const getType = (value) => (Object.prototype.toString.call(value).slice(8, -1).toLowerCase());\nexport function isPlainObject(value) {\n    if (getType(value) !== \"object\") {\n        return false;\n    }\n    const pp = Object.getPrototypeOf(value);\n    if (pp === null || pp === undefined) {\n        return true;\n    }\n    const Ctor = pp.constructor && pp.constructor.toString();\n    return Ctor === Object.toString();\n}\n", "function getProperty(target, prop) {\n    if (typeof prop === \"string\") {\n        for (const [name, value] of Object.entries(target)) {\n            if (prop.toLowerCase() === name.toLowerCase()) {\n                return value;\n            }\n        }\n    }\n    return undefined;\n}\nexport const proxyHeaders = (object) => new Proxy(object, {\n    get: (target, prop) => getProperty(target, prop),\n    has: (target, prop) => getProperty(target, prop) !== undefined\n});\n", "import { isFunction } from \"./isFunction.js\";\nexport const isFormData = (value) => Boolean(value\n    && isFunction(value.constructor)\n    && value[Symbol.toStringTag] === \"FormData\"\n    && isFunction(value.append)\n    && isFunction(value.getAll)\n    && isFunction(value.entries)\n    && isFunction(value[Symbol.iterator]));\n", "export const escapeName = (name) => String(name)\n    .replace(/\\r/g, \"%0D\")\n    .replace(/\\n/g, \"%0A\")\n    .replace(/\"/g, \"%22\");\n", "import { isFunction } from \"./isFunction.js\";\nexport const isFile = (value) => Boolean(value\n    && typeof value === \"object\"\n    && isFunction(value.constructor)\n    && value[Symbol.toStringTag] === \"File\"\n    && isFunction(value.stream)\n    && value.name != null);\nexport const isFileLike = isFile;\n", "import { Buffer } from 'node:buffer';\nimport { promisify } from 'node:util';\nimport is from '@sindresorhus/is';\nimport isFormData from './is-form-data.js';\nexport default async function getBodySize(body, headers) {\n    if (headers && 'content-length' in headers) {\n        return Number(headers['content-length']);\n    }\n    if (!body) {\n        return 0;\n    }\n    if (is.string(body)) {\n        return Buffer.byteLength(body);\n    }\n    if (is.buffer(body)) {\n        return body.length;\n    }\n    if (isFormData(body)) {\n        return promisify(body.getLength.bind(body))();\n    }\n    return undefined;\n}\n", "import is from '@sindresorhus/is';\nexport default function isFormData(body) {\n    return is.nodeStream(body) && is.function_(body.getBoundary);\n}\n", "export default function proxyEvents(from, to, events) {\n    const eventFunctions = {};\n    for (const event of events) {\n        const eventFunction = (...args) => {\n            to.emit(event, ...args);\n        };\n        eventFunctions[event] = eventFunction;\n        from.on(event, eventFunction);\n    }\n    return () => {\n        for (const [event, eventFunction] of Object.entries(eventFunctions)) {\n            from.off(event, eventFunction);\n        }\n    };\n}\n", "import net from 'node:net';\nimport unhandler from './utils/unhandle.js';\nconst reentry = Symbol('reentry');\nconst noop = () => { };\nexport class TimeoutError extends Error {\n    constructor(threshold, event) {\n        super(`Timeout awaiting '${event}' for ${threshold}ms`);\n        Object.defineProperty(this, \"event\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: event\n        });\n        Object.defineProperty(this, \"code\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.name = 'TimeoutError';\n        this.code = 'ETIMEDOUT';\n    }\n}\nexport default function timedOut(request, delays, options) {\n    if (reentry in request) {\n        return noop;\n    }\n    request[reentry] = true;\n    const cancelers = [];\n    const { once, unhandleAll } = unhandler();\n    const addTimeout = (delay, callback, event) => {\n        const timeout = setTimeout(callback, delay, delay, event);\n        timeout.unref?.();\n        const cancel = () => {\n            clearTimeout(timeout);\n        };\n        cancelers.push(cancel);\n        return cancel;\n    };\n    const { host, hostname } = options;\n    const timeoutHandler = (delay, event) => {\n        request.destroy(new TimeoutError(delay, event));\n    };\n    const cancelTimeouts = () => {\n        for (const cancel of cancelers) {\n            cancel();\n        }\n        unhandleAll();\n    };\n    request.once('error', error => {\n        cancelTimeouts();\n        // Save original behavior\n        /* istanbul ignore next */\n        if (request.listenerCount('error') === 0) {\n            throw error;\n        }\n    });\n    if (typeof delays.request !== 'undefined') {\n        const cancelTimeout = addTimeout(delays.request, timeoutHandler, 'request');\n        once(request, 'response', (response) => {\n            once(response, 'end', cancelTimeout);\n        });\n    }\n    if (typeof delays.socket !== 'undefined') {\n        const { socket } = delays;\n        const socketTimeoutHandler = () => {\n            timeoutHandler(socket, 'socket');\n        };\n        request.setTimeout(socket, socketTimeoutHandler);\n        // `request.setTimeout(0)` causes a memory leak.\n        // We can just remove the listener and forget about the timer - it's unreffed.\n        // See https://github.com/sindresorhus/got/issues/690\n        cancelers.push(() => {\n            request.removeListener('timeout', socketTimeoutHandler);\n        });\n    }\n    const hasLookup = typeof delays.lookup !== 'undefined';\n    const hasConnect = typeof delays.connect !== 'undefined';\n    const hasSecureConnect = typeof delays.secureConnect !== 'undefined';\n    const hasSend = typeof delays.send !== 'undefined';\n    if (hasLookup || hasConnect || hasSecureConnect || hasSend) {\n        once(request, 'socket', (socket) => {\n            const { socketPath } = request;\n            /* istanbul ignore next: hard to test */\n            if (socket.connecting) {\n                const hasPath = Boolean(socketPath ?? net.isIP(hostname ?? host ?? '') !== 0);\n                if (hasLookup && !hasPath && typeof socket.address().address === 'undefined') {\n                    const cancelTimeout = addTimeout(delays.lookup, timeoutHandler, 'lookup');\n                    once(socket, 'lookup', cancelTimeout);\n                }\n                if (hasConnect) {\n                    const timeConnect = () => addTimeout(delays.connect, timeoutHandler, 'connect');\n                    if (hasPath) {\n                        once(socket, 'connect', timeConnect());\n                    }\n                    else {\n                        once(socket, 'lookup', (error) => {\n                            if (error === null) {\n                                once(socket, 'connect', timeConnect());\n                            }\n                        });\n                    }\n                }\n                if (hasSecureConnect && options.protocol === 'https:') {\n                    once(socket, 'connect', () => {\n                        const cancelTimeout = addTimeout(delays.secureConnect, timeoutHandler, 'secureConnect');\n                        once(socket, 'secureConnect', cancelTimeout);\n                    });\n                }\n            }\n            if (hasSend) {\n                const timeRequest = () => addTimeout(delays.send, timeoutHandler, 'send');\n                /* istanbul ignore next: hard to test */\n                if (socket.connecting) {\n                    once(socket, 'connect', () => {\n                        once(request, 'upload-complete', timeRequest());\n                    });\n                }\n                else {\n                    once(request, 'upload-complete', timeRequest());\n                }\n            }\n        });\n    }\n    if (typeof delays.response !== 'undefined') {\n        once(request, 'upload-complete', () => {\n            const cancelTimeout = addTimeout(delays.response, timeoutHandler, 'response');\n            once(request, 'response', cancelTimeout);\n        });\n    }\n    if (typeof delays.read !== 'undefined') {\n        once(request, 'response', (response) => {\n            const cancelTimeout = addTimeout(delays.read, timeoutHandler, 'read');\n            once(response, 'end', cancelTimeout);\n        });\n    }\n    return cancelTimeouts;\n}\n", "// When attaching listeners, it's very easy to forget about them.\n// Especially if you do error handling and set timeouts.\n// So instead of checking if it's proper to throw an error on every timeout ever,\n// use this simple tool which will remove all listeners you have attached.\nexport default function unhandle() {\n    const handlers = [];\n    return {\n        once(origin, event, fn) {\n            origin.once(event, fn);\n            handlers.push({ origin, event, fn });\n        },\n        unhandleAll() {\n            for (const handler of handlers) {\n                const { origin, event, fn } = handler;\n                origin.removeListener(event, fn);\n            }\n            handlers.length = 0;\n        },\n    };\n}\n", "import is from '@sindresorhus/is';\nexport default function urlToOptions(url) {\n    // Cast to URL\n    url = url;\n    const options = {\n        protocol: url.protocol,\n        hostname: is.string(url.hostname) && url.hostname.startsWith('[') ? url.hostname.slice(1, -1) : url.hostname,\n        host: url.host,\n        hash: url.hash,\n        search: url.search,\n        pathname: url.pathname,\n        href: url.href,\n        path: `${url.pathname || ''}${url.search || ''}`,\n    };\n    if (is.string(url.port) && url.port.length > 0) {\n        options.port = Number(url.port);\n    }\n    if (url.username || url.password) {\n        options.auth = `${url.username || ''}:${url.password || ''}`;\n    }\n    return options;\n}\n", "export default class WeakableMap {\n    constructor() {\n        Object.defineProperty(this, \"weakMap\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"map\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.weakMap = new WeakMap();\n        this.map = new Map();\n    }\n    set(key, value) {\n        if (typeof key === 'object') {\n            this.weakMap.set(key, value);\n        }\n        else {\n            this.map.set(key, value);\n        }\n    }\n    get(key) {\n        if (typeof key === 'object') {\n            return this.weakMap.get(key);\n        }\n        return this.map.get(key);\n    }\n    has(key) {\n        if (typeof key === 'object') {\n            return this.weakMap.has(key);\n        }\n        return this.map.has(key);\n    }\n}\n", "const calculateRetryDelay = ({ attemptCount, retryOptions, error, retryAfter, computedValue, }) => {\n    if (error.name === 'RetryError') {\n        return 1;\n    }\n    if (attemptCount > retryOptions.limit) {\n        return 0;\n    }\n    const hasMethod = retryOptions.methods.includes(error.options.method);\n    const hasErrorCode = retryOptions.errorCodes.includes(error.code);\n    const hasStatusCode = error.response && retryOptions.statusCodes.includes(error.response.statusCode);\n    if (!hasMethod || (!hasErrorCode && !hasStatusCode)) {\n        return 0;\n    }\n    if (error.response) {\n        if (retryAfter) {\n            // In this case `computedValue` is `options.request.timeout`\n            if (retryAfter > computedValue) {\n                return 0;\n            }\n            return retryAfter;\n        }\n        if (error.response.statusCode === 413) {\n            return 0;\n        }\n    }\n    const noise = Math.random() * retryOptions.noise;\n    return Math.min(((2 ** (attemptCount - 1)) * 1000), retryOptions.backoffLimit) + noise;\n};\nexport default calculateRetryDelay;\n", "import process from 'node:process';\nimport { promisify, inspect } from 'node:util';\nimport { URL, URLSearchParams } from 'node:url';\nimport { checkServerIdentity } from 'node:tls';\n// DO NOT use destructuring for `https.request` and `http.request` as it's not compatible with `nock`.\nimport http from 'node:http';\nimport https from 'node:https';\nimport is, { assert } from '@sindresorhus/is';\nimport lowercaseKeys from 'lowercase-keys';\nimport CacheableLookup from 'cacheable-lookup';\nimport http2wrapper from 'http2-wrapper';\nimport { isFormData } from 'form-data-encoder';\nimport parseLinkHeader from './parse-link-header.js';\nconst [major, minor] = process.versions.node.split('.').map(Number);\nfunction validateSearchParameters(searchParameters) {\n    // eslint-disable-next-line guard-for-in\n    for (const key in searchParameters) {\n        const value = searchParameters[key];\n        assert.any([is.string, is.number, is.boolean, is.null_, is.undefined], value);\n    }\n}\nconst globalCache = new Map();\nlet globalDnsCache;\nconst getGlobalDnsCache = () => {\n    if (globalDnsCache) {\n        return globalDnsCache;\n    }\n    globalDnsCache = new CacheableLookup();\n    return globalDnsCache;\n};\nconst defaultInternals = {\n    request: undefined,\n    agent: {\n        http: undefined,\n        https: undefined,\n        http2: undefined,\n    },\n    h2session: undefined,\n    decompress: true,\n    timeout: {\n        connect: undefined,\n        lookup: undefined,\n        read: undefined,\n        request: undefined,\n        response: undefined,\n        secureConnect: undefined,\n        send: undefined,\n        socket: undefined,\n    },\n    prefixUrl: '',\n    body: undefined,\n    form: undefined,\n    json: undefined,\n    cookieJar: undefined,\n    ignoreInvalidCookies: false,\n    searchParams: undefined,\n    dnsLookup: undefined,\n    dnsCache: undefined,\n    context: {},\n    hooks: {\n        init: [],\n        beforeRequest: [],\n        beforeError: [],\n        beforeRedirect: [],\n        beforeRetry: [],\n        afterResponse: [],\n    },\n    followRedirect: true,\n    maxRedirects: 10,\n    cache: undefined,\n    throwHttpErrors: true,\n    username: '',\n    password: '',\n    http2: false,\n    allowGetBody: false,\n    headers: {\n        'user-agent': 'got (https://github.com/sindresorhus/got)',\n    },\n    methodRewriting: false,\n    dnsLookupIpVersion: undefined,\n    parseJson: JSON.parse,\n    stringifyJson: JSON.stringify,\n    retry: {\n        limit: 2,\n        methods: [\n            'GET',\n            'PUT',\n            'HEAD',\n            'DELETE',\n            'OPTIONS',\n            'TRACE',\n        ],\n        statusCodes: [\n            408,\n            413,\n            429,\n            500,\n            502,\n            503,\n            504,\n            521,\n            522,\n            524,\n        ],\n        errorCodes: [\n            'ETIMEDOUT',\n            'ECONNRESET',\n            'EADDRINUSE',\n            'ECONNREFUSED',\n            'EPIPE',\n            'ENOTFOUND',\n            'ENETUNREACH',\n            'EAI_AGAIN',\n        ],\n        maxRetryAfter: undefined,\n        calculateDelay: ({ computedValue }) => computedValue,\n        backoffLimit: Number.POSITIVE_INFINITY,\n        noise: 100,\n    },\n    localAddress: undefined,\n    method: 'GET',\n    createConnection: undefined,\n    cacheOptions: {\n        shared: undefined,\n        cacheHeuristic: undefined,\n        immutableMinTimeToLive: undefined,\n        ignoreCargoCult: undefined,\n    },\n    https: {\n        alpnProtocols: undefined,\n        rejectUnauthorized: undefined,\n        checkServerIdentity: undefined,\n        certificateAuthority: undefined,\n        key: undefined,\n        certificate: undefined,\n        passphrase: undefined,\n        pfx: undefined,\n        ciphers: undefined,\n        honorCipherOrder: undefined,\n        minVersion: undefined,\n        maxVersion: undefined,\n        signatureAlgorithms: undefined,\n        tlsSessionLifetime: undefined,\n        dhparam: undefined,\n        ecdhCurve: undefined,\n        certificateRevocationLists: undefined,\n    },\n    encoding: undefined,\n    resolveBodyOnly: false,\n    isStream: false,\n    responseType: 'text',\n    url: undefined,\n    pagination: {\n        transform(response) {\n            if (response.request.options.responseType === 'json') {\n                return response.body;\n            }\n            return JSON.parse(response.body);\n        },\n        paginate({ response }) {\n            const rawLinkHeader = response.headers.link;\n            if (typeof rawLinkHeader !== 'string' || rawLinkHeader.trim() === '') {\n                return false;\n            }\n            const parsed = parseLinkHeader(rawLinkHeader);\n            const next = parsed.find(entry => entry.parameters.rel === 'next' || entry.parameters.rel === '\"next\"');\n            if (next) {\n                return {\n                    url: new URL(next.reference, response.url),\n                };\n            }\n            return false;\n        },\n        filter: () => true,\n        shouldContinue: () => true,\n        countLimit: Number.POSITIVE_INFINITY,\n        backoff: 0,\n        requestLimit: 10000,\n        stackAllItems: false,\n    },\n    setHost: true,\n    maxHeaderSize: undefined,\n    signal: undefined,\n    enableUnixSockets: true,\n};\nconst cloneInternals = (internals) => {\n    const { hooks, retry } = internals;\n    const result = {\n        ...internals,\n        context: { ...internals.context },\n        cacheOptions: { ...internals.cacheOptions },\n        https: { ...internals.https },\n        agent: { ...internals.agent },\n        headers: { ...internals.headers },\n        retry: {\n            ...retry,\n            errorCodes: [...retry.errorCodes],\n            methods: [...retry.methods],\n            statusCodes: [...retry.statusCodes],\n        },\n        timeout: { ...internals.timeout },\n        hooks: {\n            init: [...hooks.init],\n            beforeRequest: [...hooks.beforeRequest],\n            beforeError: [...hooks.beforeError],\n            beforeRedirect: [...hooks.beforeRedirect],\n            beforeRetry: [...hooks.beforeRetry],\n            afterResponse: [...hooks.afterResponse],\n        },\n        searchParams: internals.searchParams ? new URLSearchParams(internals.searchParams) : undefined,\n        pagination: { ...internals.pagination },\n    };\n    if (result.url !== undefined) {\n        result.prefixUrl = '';\n    }\n    return result;\n};\nconst cloneRaw = (raw) => {\n    const { hooks, retry } = raw;\n    const result = { ...raw };\n    if (is.object(raw.context)) {\n        result.context = { ...raw.context };\n    }\n    if (is.object(raw.cacheOptions)) {\n        result.cacheOptions = { ...raw.cacheOptions };\n    }\n    if (is.object(raw.https)) {\n        result.https = { ...raw.https };\n    }\n    if (is.object(raw.cacheOptions)) {\n        result.cacheOptions = { ...result.cacheOptions };\n    }\n    if (is.object(raw.agent)) {\n        result.agent = { ...raw.agent };\n    }\n    if (is.object(raw.headers)) {\n        result.headers = { ...raw.headers };\n    }\n    if (is.object(retry)) {\n        result.retry = { ...retry };\n        if (is.array(retry.errorCodes)) {\n            result.retry.errorCodes = [...retry.errorCodes];\n        }\n        if (is.array(retry.methods)) {\n            result.retry.methods = [...retry.methods];\n        }\n        if (is.array(retry.statusCodes)) {\n            result.retry.statusCodes = [...retry.statusCodes];\n        }\n    }\n    if (is.object(raw.timeout)) {\n        result.timeout = { ...raw.timeout };\n    }\n    if (is.object(hooks)) {\n        result.hooks = {\n            ...hooks,\n        };\n        if (is.array(hooks.init)) {\n            result.hooks.init = [...hooks.init];\n        }\n        if (is.array(hooks.beforeRequest)) {\n            result.hooks.beforeRequest = [...hooks.beforeRequest];\n        }\n        if (is.array(hooks.beforeError)) {\n            result.hooks.beforeError = [...hooks.beforeError];\n        }\n        if (is.array(hooks.beforeRedirect)) {\n            result.hooks.beforeRedirect = [...hooks.beforeRedirect];\n        }\n        if (is.array(hooks.beforeRetry)) {\n            result.hooks.beforeRetry = [...hooks.beforeRetry];\n        }\n        if (is.array(hooks.afterResponse)) {\n            result.hooks.afterResponse = [...hooks.afterResponse];\n        }\n    }\n    // TODO: raw.searchParams\n    if (is.object(raw.pagination)) {\n        result.pagination = { ...raw.pagination };\n    }\n    return result;\n};\nconst getHttp2TimeoutOption = (internals) => {\n    const delays = [internals.timeout.socket, internals.timeout.connect, internals.timeout.lookup, internals.timeout.request, internals.timeout.secureConnect].filter(delay => typeof delay === 'number');\n    if (delays.length > 0) {\n        return Math.min(...delays);\n    }\n    return undefined;\n};\nconst init = (options, withOptions, self) => {\n    const initHooks = options.hooks?.init;\n    if (initHooks) {\n        for (const hook of initHooks) {\n            hook(withOptions, self);\n        }\n    }\n};\nexport default class Options {\n    constructor(input, options, defaults) {\n        Object.defineProperty(this, \"_unixOptions\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_internals\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_merging\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"_init\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        assert.any([is.string, is.urlInstance, is.object, is.undefined], input);\n        assert.any([is.object, is.undefined], options);\n        assert.any([is.object, is.undefined], defaults);\n        if (input instanceof Options || options instanceof Options) {\n            throw new TypeError('The defaults must be passed as the third argument');\n        }\n        this._internals = cloneInternals(defaults?._internals ?? defaults ?? defaultInternals);\n        this._init = [...(defaults?._init ?? [])];\n        this._merging = false;\n        this._unixOptions = undefined;\n        // This rule allows `finally` to be considered more important.\n        // Meaning no matter the error thrown in the `try` block,\n        // if `finally` throws then the `finally` error will be thrown.\n        //\n        // Yes, we want this. If we set `url` first, then the `url.searchParams`\n        // would get merged. Instead we set the `searchParams` first, then\n        // `url.searchParams` is overwritten as expected.\n        //\n        /* eslint-disable no-unsafe-finally */\n        try {\n            if (is.plainObject(input)) {\n                try {\n                    this.merge(input);\n                    this.merge(options);\n                }\n                finally {\n                    this.url = input.url;\n                }\n            }\n            else {\n                try {\n                    this.merge(options);\n                }\n                finally {\n                    if (options?.url !== undefined) {\n                        if (input === undefined) {\n                            this.url = options.url;\n                        }\n                        else {\n                            throw new TypeError('The `url` option is mutually exclusive with the `input` argument');\n                        }\n                    }\n                    else if (input !== undefined) {\n                        this.url = input;\n                    }\n                }\n            }\n        }\n        catch (error) {\n            error.options = this;\n            throw error;\n        }\n        /* eslint-enable no-unsafe-finally */\n    }\n    merge(options) {\n        if (!options) {\n            return;\n        }\n        if (options instanceof Options) {\n            for (const init of options._init) {\n                this.merge(init);\n            }\n            return;\n        }\n        options = cloneRaw(options);\n        init(this, options, this);\n        init(options, options, this);\n        this._merging = true;\n        // Always merge `isStream` first\n        if ('isStream' in options) {\n            this.isStream = options.isStream;\n        }\n        try {\n            let push = false;\n            for (const key in options) {\n                // `got.extend()` options\n                if (key === 'mutableDefaults' || key === 'handlers') {\n                    continue;\n                }\n                // Never merge `url`\n                if (key === 'url') {\n                    continue;\n                }\n                if (!(key in this)) {\n                    throw new Error(`Unexpected option: ${key}`);\n                }\n                // @ts-expect-error Type 'unknown' is not assignable to type 'never'.\n                this[key] = options[key];\n                push = true;\n            }\n            if (push) {\n                this._init.push(options);\n            }\n        }\n        finally {\n            this._merging = false;\n        }\n    }\n    /**\n    Custom request function.\n    The main purpose of this is to [support HTTP2 using a wrapper](https://github.com/szmarczak/http2-wrapper).\n\n    @default http.request | https.request\n    */\n    get request() {\n        return this._internals.request;\n    }\n    set request(value) {\n        assert.any([is.function_, is.undefined], value);\n        this._internals.request = value;\n    }\n    /**\n    An object representing `http`, `https` and `http2` keys for [`http.Agent`](https://nodejs.org/api/http.html#http_class_http_agent), [`https.Agent`](https://nodejs.org/api/https.html#https_class_https_agent) and [`http2wrapper.Agent`](https://github.com/szmarczak/http2-wrapper#new-http2agentoptions) instance.\n    This is necessary because a request to one protocol might redirect to another.\n    In such a scenario, Got will switch over to the right protocol agent for you.\n\n    If a key is not present, it will default to a global agent.\n\n    @example\n    ```\n    import got from 'got';\n    import HttpAgent from 'agentkeepalive';\n\n    const {HttpsAgent} = HttpAgent;\n\n    await got('https://sindresorhus.com', {\n        agent: {\n            http: new HttpAgent(),\n            https: new HttpsAgent()\n        }\n    });\n    ```\n    */\n    get agent() {\n        return this._internals.agent;\n    }\n    set agent(value) {\n        assert.plainObject(value);\n        // eslint-disable-next-line guard-for-in\n        for (const key in value) {\n            if (!(key in this._internals.agent)) {\n                throw new TypeError(`Unexpected agent option: ${key}`);\n            }\n            // @ts-expect-error - No idea why `value[key]` doesn't work here.\n            assert.any([is.object, is.undefined], value[key]);\n        }\n        if (this._merging) {\n            Object.assign(this._internals.agent, value);\n        }\n        else {\n            this._internals.agent = { ...value };\n        }\n    }\n    get h2session() {\n        return this._internals.h2session;\n    }\n    set h2session(value) {\n        this._internals.h2session = value;\n    }\n    /**\n    Decompress the response automatically.\n\n    This will set the `accept-encoding` header to `gzip, deflate, br` unless you set it yourself.\n\n    If this is disabled, a compressed response is returned as a `Buffer`.\n    This may be useful if you want to handle decompression yourself or stream the raw compressed data.\n\n    @default true\n    */\n    get decompress() {\n        return this._internals.decompress;\n    }\n    set decompress(value) {\n        assert.boolean(value);\n        this._internals.decompress = value;\n    }\n    /**\n    Milliseconds to wait for the server to end the response before aborting the request with `got.TimeoutError` error (a.k.a. `request` property).\n    By default, there's no timeout.\n\n    This also accepts an `object` with the following fields to constrain the duration of each phase of the request lifecycle:\n\n    - `lookup` starts when a socket is assigned and ends when the hostname has been resolved.\n        Does not apply when using a Unix domain socket.\n    - `connect` starts when `lookup` completes (or when the socket is assigned if lookup does not apply to the request) and ends when the socket is connected.\n    - `secureConnect` starts when `connect` completes and ends when the handshaking process completes (HTTPS only).\n    - `socket` starts when the socket is connected. See [request.setTimeout](https://nodejs.org/api/http.html#http_request_settimeout_timeout_callback).\n    - `response` starts when the request has been written to the socket and ends when the response headers are received.\n    - `send` starts when the socket is connected and ends with the request has been written to the socket.\n    - `request` starts when the request is initiated and ends when the response's end event fires.\n    */\n    get timeout() {\n        // We always return `Delays` here.\n        // It has to be `Delays | number`, otherwise TypeScript will error because the getter and the setter have incompatible types.\n        return this._internals.timeout;\n    }\n    set timeout(value) {\n        assert.plainObject(value);\n        // eslint-disable-next-line guard-for-in\n        for (const key in value) {\n            if (!(key in this._internals.timeout)) {\n                throw new Error(`Unexpected timeout option: ${key}`);\n            }\n            // @ts-expect-error - No idea why `value[key]` doesn't work here.\n            assert.any([is.number, is.undefined], value[key]);\n        }\n        if (this._merging) {\n            Object.assign(this._internals.timeout, value);\n        }\n        else {\n            this._internals.timeout = { ...value };\n        }\n    }\n    /**\n    When specified, `prefixUrl` will be prepended to `url`.\n    The prefix can be any valid URL, either relative or absolute.\n    A trailing slash `/` is optional - one will be added automatically.\n\n    __Note__: `prefixUrl` will be ignored if the `url` argument is a URL instance.\n\n    __Note__: Leading slashes in `input` are disallowed when using this option to enforce consistency and avoid confusion.\n    For example, when the prefix URL is `https://example.com/foo` and the input is `/bar`, there's ambiguity whether the resulting URL would become `https://example.com/foo/bar` or `https://example.com/bar`.\n    The latter is used by browsers.\n\n    __Tip__: Useful when used with `got.extend()` to create niche-specific Got instances.\n\n    __Tip__: You can change `prefixUrl` using hooks as long as the URL still includes the `prefixUrl`.\n    If the URL doesn't include it anymore, it will throw.\n\n    @example\n    ```\n    import got from 'got';\n\n    await got('unicorn', {prefixUrl: 'https://cats.com'});\n    //=> 'https://cats.com/unicorn'\n\n    const instance = got.extend({\n        prefixUrl: 'https://google.com'\n    });\n\n    await instance('unicorn', {\n        hooks: {\n            beforeRequest: [\n                options => {\n                    options.prefixUrl = 'https://cats.com';\n                }\n            ]\n        }\n    });\n    //=> 'https://cats.com/unicorn'\n    ```\n    */\n    get prefixUrl() {\n        // We always return `string` here.\n        // It has to be `string | URL`, otherwise TypeScript will error because the getter and the setter have incompatible types.\n        return this._internals.prefixUrl;\n    }\n    set prefixUrl(value) {\n        assert.any([is.string, is.urlInstance], value);\n        if (value === '') {\n            this._internals.prefixUrl = '';\n            return;\n        }\n        value = value.toString();\n        if (!value.endsWith('/')) {\n            value += '/';\n        }\n        if (this._internals.prefixUrl && this._internals.url) {\n            const { href } = this._internals.url;\n            this._internals.url.href = value + href.slice(this._internals.prefixUrl.length);\n        }\n        this._internals.prefixUrl = value;\n    }\n    /**\n    __Note #1__: The `body` option cannot be used with the `json` or `form` option.\n\n    __Note #2__: If you provide this option, `got.stream()` will be read-only.\n\n    __Note #3__: If you provide a payload with the `GET` or `HEAD` method, it will throw a `TypeError` unless the method is `GET` and the `allowGetBody` option is set to `true`.\n\n    __Note #4__: This option is not enumerable and will not be merged with the instance defaults.\n\n    The `content-length` header will be automatically set if `body` is a `string` / `Buffer` / [`FormData`](https://developer.mozilla.org/en-US/docs/Web/API/FormData) / [`form-data` instance](https://github.com/form-data/form-data), and `content-length` and `transfer-encoding` are not manually set in `options.headers`.\n\n    Since Got 12, the `content-length` is not automatically set when `body` is a `fs.createReadStream`.\n    */\n    get body() {\n        return this._internals.body;\n    }\n    set body(value) {\n        assert.any([is.string, is.buffer, is.nodeStream, is.generator, is.asyncGenerator, isFormData, is.undefined], value);\n        if (is.nodeStream(value)) {\n            assert.truthy(value.readable);\n        }\n        if (value !== undefined) {\n            assert.undefined(this._internals.form);\n            assert.undefined(this._internals.json);\n        }\n        this._internals.body = value;\n    }\n    /**\n    The form body is converted to a query string using [`(new URLSearchParams(object)).toString()`](https://nodejs.org/api/url.html#url_constructor_new_urlsearchparams_obj).\n\n    If the `Content-Type` header is not present, it will be set to `application/x-www-form-urlencoded`.\n\n    __Note #1__: If you provide this option, `got.stream()` will be read-only.\n\n    __Note #2__: This option is not enumerable and will not be merged with the instance defaults.\n    */\n    get form() {\n        return this._internals.form;\n    }\n    set form(value) {\n        assert.any([is.plainObject, is.undefined], value);\n        if (value !== undefined) {\n            assert.undefined(this._internals.body);\n            assert.undefined(this._internals.json);\n        }\n        this._internals.form = value;\n    }\n    /**\n    JSON body. If the `Content-Type` header is not set, it will be set to `application/json`.\n\n    __Note #1__: If you provide this option, `got.stream()` will be read-only.\n\n    __Note #2__: This option is not enumerable and will not be merged with the instance defaults.\n    */\n    get json() {\n        return this._internals.json;\n    }\n    set json(value) {\n        if (value !== undefined) {\n            assert.undefined(this._internals.body);\n            assert.undefined(this._internals.form);\n        }\n        this._internals.json = value;\n    }\n    /**\n    The URL to request, as a string, a [`https.request` options object](https://nodejs.org/api/https.html#https_https_request_options_callback), or a [WHATWG `URL`](https://nodejs.org/api/url.html#url_class_url).\n\n    Properties from `options` will override properties in the parsed `url`.\n\n    If no protocol is specified, it will throw a `TypeError`.\n\n    __Note__: The query string is **not** parsed as search params.\n\n    @example\n    ```\n    await got('https://example.com/?query=a b'); //=> https://example.com/?query=a%20b\n    await got('https://example.com/', {searchParams: {query: 'a b'}}); //=> https://example.com/?query=a+b\n\n    // The query string is overridden by `searchParams`\n    await got('https://example.com/?query=a b', {searchParams: {query: 'a b'}}); //=> https://example.com/?query=a+b\n    ```\n    */\n    get url() {\n        return this._internals.url;\n    }\n    set url(value) {\n        assert.any([is.string, is.urlInstance, is.undefined], value);\n        if (value === undefined) {\n            this._internals.url = undefined;\n            return;\n        }\n        if (is.string(value) && value.startsWith('/')) {\n            throw new Error('`url` must not start with a slash');\n        }\n        const urlString = `${this.prefixUrl}${value.toString()}`;\n        const url = new URL(urlString);\n        this._internals.url = url;\n        if (url.protocol === 'unix:') {\n            url.href = `http://unix${url.pathname}${url.search}`;\n        }\n        if (url.protocol !== 'http:' && url.protocol !== 'https:') {\n            const error = new Error(`Unsupported protocol: ${url.protocol}`);\n            error.code = 'ERR_UNSUPPORTED_PROTOCOL';\n            throw error;\n        }\n        if (this._internals.username) {\n            url.username = this._internals.username;\n            this._internals.username = '';\n        }\n        if (this._internals.password) {\n            url.password = this._internals.password;\n            this._internals.password = '';\n        }\n        if (this._internals.searchParams) {\n            url.search = this._internals.searchParams.toString();\n            this._internals.searchParams = undefined;\n        }\n        if (url.hostname === 'unix') {\n            if (!this._internals.enableUnixSockets) {\n                throw new Error('Using UNIX domain sockets but option `enableUnixSockets` is not enabled');\n            }\n            const matches = /(?<socketPath>.+?):(?<path>.+)/.exec(`${url.pathname}${url.search}`);\n            if (matches?.groups) {\n                const { socketPath, path } = matches.groups;\n                this._unixOptions = {\n                    socketPath,\n                    path,\n                    host: '',\n                };\n            }\n            else {\n                this._unixOptions = undefined;\n            }\n            return;\n        }\n        this._unixOptions = undefined;\n    }\n    /**\n    Cookie support. You don't have to care about parsing or how to store them.\n\n    __Note__: If you provide this option, `options.headers.cookie` will be overridden.\n    */\n    get cookieJar() {\n        return this._internals.cookieJar;\n    }\n    set cookieJar(value) {\n        assert.any([is.object, is.undefined], value);\n        if (value === undefined) {\n            this._internals.cookieJar = undefined;\n            return;\n        }\n        let { setCookie, getCookieString } = value;\n        assert.function_(setCookie);\n        assert.function_(getCookieString);\n        /* istanbul ignore next: Horrible `tough-cookie` v3 check */\n        if (setCookie.length === 4 && getCookieString.length === 0) {\n            setCookie = promisify(setCookie.bind(value));\n            getCookieString = promisify(getCookieString.bind(value));\n            this._internals.cookieJar = {\n                setCookie,\n                getCookieString: getCookieString,\n            };\n        }\n        else {\n            this._internals.cookieJar = value;\n        }\n    }\n    /**\n    You can abort the `request` using [`AbortController`](https://developer.mozilla.org/en-US/docs/Web/API/AbortController).\n\n    *Requires Node.js 16 or later.*\n\n    @example\n    ```\n    import got from 'got';\n\n    const abortController = new AbortController();\n\n    const request = got('https://httpbin.org/anything', {\n        signal: abortController.signal\n    });\n\n    setTimeout(() => {\n        abortController.abort();\n    }, 100);\n    ```\n    */\n    // TODO: Replace `any` with `AbortSignal` when targeting Node 16.\n    get signal() {\n        return this._internals.signal;\n    }\n    // TODO: Replace `any` with `AbortSignal` when targeting Node 16.\n    set signal(value) {\n        assert.object(value);\n        this._internals.signal = value;\n    }\n    /**\n    Ignore invalid cookies instead of throwing an error.\n    Only useful when the `cookieJar` option has been set. Not recommended.\n\n    @default false\n    */\n    get ignoreInvalidCookies() {\n        return this._internals.ignoreInvalidCookies;\n    }\n    set ignoreInvalidCookies(value) {\n        assert.boolean(value);\n        this._internals.ignoreInvalidCookies = value;\n    }\n    /**\n    Query string that will be added to the request URL.\n    This will override the query string in `url`.\n\n    If you need to pass in an array, you can do it using a `URLSearchParams` instance.\n\n    @example\n    ```\n    import got from 'got';\n\n    const searchParams = new URLSearchParams([['key', 'a'], ['key', 'b']]);\n\n    await got('https://example.com', {searchParams});\n\n    console.log(searchParams.toString());\n    //=> 'key=a&key=b'\n    ```\n    */\n    get searchParams() {\n        if (this._internals.url) {\n            return this._internals.url.searchParams;\n        }\n        if (this._internals.searchParams === undefined) {\n            this._internals.searchParams = new URLSearchParams();\n        }\n        return this._internals.searchParams;\n    }\n    set searchParams(value) {\n        assert.any([is.string, is.object, is.undefined], value);\n        const url = this._internals.url;\n        if (value === undefined) {\n            this._internals.searchParams = undefined;\n            if (url) {\n                url.search = '';\n            }\n            return;\n        }\n        const searchParameters = this.searchParams;\n        let updated;\n        if (is.string(value)) {\n            updated = new URLSearchParams(value);\n        }\n        else if (value instanceof URLSearchParams) {\n            updated = value;\n        }\n        else {\n            validateSearchParameters(value);\n            updated = new URLSearchParams();\n            // eslint-disable-next-line guard-for-in\n            for (const key in value) {\n                const entry = value[key];\n                if (entry === null) {\n                    updated.append(key, '');\n                }\n                else if (entry === undefined) {\n                    searchParameters.delete(key);\n                }\n                else {\n                    updated.append(key, entry);\n                }\n            }\n        }\n        if (this._merging) {\n            // These keys will be replaced\n            for (const key of updated.keys()) {\n                searchParameters.delete(key);\n            }\n            for (const [key, value] of updated) {\n                searchParameters.append(key, value);\n            }\n        }\n        else if (url) {\n            url.search = searchParameters.toString();\n        }\n        else {\n            this._internals.searchParams = searchParameters;\n        }\n    }\n    get searchParameters() {\n        throw new Error('The `searchParameters` option does not exist. Use `searchParams` instead.');\n    }\n    set searchParameters(_value) {\n        throw new Error('The `searchParameters` option does not exist. Use `searchParams` instead.');\n    }\n    get dnsLookup() {\n        return this._internals.dnsLookup;\n    }\n    set dnsLookup(value) {\n        assert.any([is.function_, is.undefined], value);\n        this._internals.dnsLookup = value;\n    }\n    /**\n    An instance of [`CacheableLookup`](https://github.com/szmarczak/cacheable-lookup) used for making DNS lookups.\n    Useful when making lots of requests to different *public* hostnames.\n\n    `CacheableLookup` uses `dns.resolver4(..)` and `dns.resolver6(...)` under the hood and fall backs to `dns.lookup(...)` when the first two fail, which may lead to additional delay.\n\n    __Note__: This should stay disabled when making requests to internal hostnames such as `localhost`, `database.local` etc.\n\n    @default false\n    */\n    get dnsCache() {\n        return this._internals.dnsCache;\n    }\n    set dnsCache(value) {\n        assert.any([is.object, is.boolean, is.undefined], value);\n        if (value === true) {\n            this._internals.dnsCache = getGlobalDnsCache();\n        }\n        else if (value === false) {\n            this._internals.dnsCache = undefined;\n        }\n        else {\n            this._internals.dnsCache = value;\n        }\n    }\n    /**\n    User data. `context` is shallow merged and enumerable. If it contains non-enumerable properties they will NOT be merged.\n\n    @example\n    ```\n    import got from 'got';\n\n    const instance = got.extend({\n        hooks: {\n            beforeRequest: [\n                options => {\n                    if (!options.context || !options.context.token) {\n                        throw new Error('Token required');\n                    }\n\n                    options.headers.token = options.context.token;\n                }\n            ]\n        }\n    });\n\n    const context = {\n        token: 'secret'\n    };\n\n    const response = await instance('https://httpbin.org/headers', {context});\n\n    // Let's see the headers\n    console.log(response.body);\n    ```\n    */\n    get context() {\n        return this._internals.context;\n    }\n    set context(value) {\n        assert.object(value);\n        if (this._merging) {\n            Object.assign(this._internals.context, value);\n        }\n        else {\n            this._internals.context = { ...value };\n        }\n    }\n    /**\n    Hooks allow modifications during the request lifecycle.\n    Hook functions may be async and are run serially.\n    */\n    get hooks() {\n        return this._internals.hooks;\n    }\n    set hooks(value) {\n        assert.object(value);\n        // eslint-disable-next-line guard-for-in\n        for (const knownHookEvent in value) {\n            if (!(knownHookEvent in this._internals.hooks)) {\n                throw new Error(`Unexpected hook event: ${knownHookEvent}`);\n            }\n            const typedKnownHookEvent = knownHookEvent;\n            const hooks = value[typedKnownHookEvent];\n            assert.any([is.array, is.undefined], hooks);\n            if (hooks) {\n                for (const hook of hooks) {\n                    assert.function_(hook);\n                }\n            }\n            if (this._merging) {\n                if (hooks) {\n                    // @ts-expect-error FIXME\n                    this._internals.hooks[typedKnownHookEvent].push(...hooks);\n                }\n            }\n            else {\n                if (!hooks) {\n                    throw new Error(`Missing hook event: ${knownHookEvent}`);\n                }\n                // @ts-expect-error FIXME\n                this._internals.hooks[knownHookEvent] = [...hooks];\n            }\n        }\n    }\n    /**\n    Defines if redirect responses should be followed automatically.\n\n    Note that if a `303` is sent by the server in response to any request type (`POST`, `DELETE`, etc.), Got will automatically request the resource pointed to in the location header via `GET`.\n    This is in accordance with [the spec](https://tools.ietf.org/html/rfc7231#section-6.4.4). You can optionally turn on this behavior also for other redirect codes - see `methodRewriting`.\n\n    @default true\n    */\n    get followRedirect() {\n        return this._internals.followRedirect;\n    }\n    set followRedirect(value) {\n        assert.boolean(value);\n        this._internals.followRedirect = value;\n    }\n    get followRedirects() {\n        throw new TypeError('The `followRedirects` option does not exist. Use `followRedirect` instead.');\n    }\n    set followRedirects(_value) {\n        throw new TypeError('The `followRedirects` option does not exist. Use `followRedirect` instead.');\n    }\n    /**\n    If exceeded, the request will be aborted and a `MaxRedirectsError` will be thrown.\n\n    @default 10\n    */\n    get maxRedirects() {\n        return this._internals.maxRedirects;\n    }\n    set maxRedirects(value) {\n        assert.number(value);\n        this._internals.maxRedirects = value;\n    }\n    /**\n    A cache adapter instance for storing cached response data.\n\n    @default false\n    */\n    get cache() {\n        return this._internals.cache;\n    }\n    set cache(value) {\n        assert.any([is.object, is.string, is.boolean, is.undefined], value);\n        if (value === true) {\n            this._internals.cache = globalCache;\n        }\n        else if (value === false) {\n            this._internals.cache = undefined;\n        }\n        else {\n            this._internals.cache = value;\n        }\n    }\n    /**\n    Determines if a `got.HTTPError` is thrown for unsuccessful responses.\n\n    If this is disabled, requests that encounter an error status code will be resolved with the `response` instead of throwing.\n    This may be useful if you are checking for resource availability and are expecting error responses.\n\n    @default true\n    */\n    get throwHttpErrors() {\n        return this._internals.throwHttpErrors;\n    }\n    set throwHttpErrors(value) {\n        assert.boolean(value);\n        this._internals.throwHttpErrors = value;\n    }\n    get username() {\n        const url = this._internals.url;\n        const value = url ? url.username : this._internals.username;\n        return decodeURIComponent(value);\n    }\n    set username(value) {\n        assert.string(value);\n        const url = this._internals.url;\n        const fixedValue = encodeURIComponent(value);\n        if (url) {\n            url.username = fixedValue;\n        }\n        else {\n            this._internals.username = fixedValue;\n        }\n    }\n    get password() {\n        const url = this._internals.url;\n        const value = url ? url.password : this._internals.password;\n        return decodeURIComponent(value);\n    }\n    set password(value) {\n        assert.string(value);\n        const url = this._internals.url;\n        const fixedValue = encodeURIComponent(value);\n        if (url) {\n            url.password = fixedValue;\n        }\n        else {\n            this._internals.password = fixedValue;\n        }\n    }\n    /**\n    If set to `true`, Got will additionally accept HTTP2 requests.\n\n    It will choose either HTTP/1.1 or HTTP/2 depending on the ALPN protocol.\n\n    __Note__: This option requires Node.js 15.10.0 or newer as HTTP/2 support on older Node.js versions is very buggy.\n\n    __Note__: Overriding `options.request` will disable HTTP2 support.\n\n    @default false\n\n    @example\n    ```\n    import got from 'got';\n\n    const {headers} = await got('https://nghttp2.org/httpbin/anything', {http2: true});\n\n    console.log(headers.via);\n    //=> '2 nghttpx'\n    ```\n    */\n    get http2() {\n        return this._internals.http2;\n    }\n    set http2(value) {\n        assert.boolean(value);\n        this._internals.http2 = value;\n    }\n    /**\n    Set this to `true` to allow sending body for the `GET` method.\n    However, the [HTTP/2 specification](https://tools.ietf.org/html/rfc7540#section-8.1.3) says that `An HTTP GET request includes request header fields and no payload body`, therefore when using the HTTP/2 protocol this option will have no effect.\n    This option is only meant to interact with non-compliant servers when you have no other choice.\n\n    __Note__: The [RFC 7231](https://tools.ietf.org/html/rfc7231#section-4.3.1) doesn't specify any particular behavior for the GET method having a payload, therefore __it's considered an [anti-pattern](https://en.wikipedia.org/wiki/Anti-pattern)__.\n\n    @default false\n    */\n    get allowGetBody() {\n        return this._internals.allowGetBody;\n    }\n    set allowGetBody(value) {\n        assert.boolean(value);\n        this._internals.allowGetBody = value;\n    }\n    /**\n    Request headers.\n\n    Existing headers will be overwritten. Headers set to `undefined` will be omitted.\n\n    @default {}\n    */\n    get headers() {\n        return this._internals.headers;\n    }\n    set headers(value) {\n        assert.plainObject(value);\n        if (this._merging) {\n            Object.assign(this._internals.headers, lowercaseKeys(value));\n        }\n        else {\n            this._internals.headers = lowercaseKeys(value);\n        }\n    }\n    /**\n    Specifies if the HTTP request method should be [rewritten as `GET`](https://tools.ietf.org/html/rfc7231#section-6.4) on redirects.\n\n    As the [specification](https://tools.ietf.org/html/rfc7231#section-6.4) prefers to rewrite the HTTP method only on `303` responses, this is Got's default behavior.\n    Setting `methodRewriting` to `true` will also rewrite `301` and `302` responses, as allowed by the spec. This is the behavior followed by `curl` and browsers.\n\n    __Note__: Got never performs method rewriting on `307` and `308` responses, as this is [explicitly prohibited by the specification](https://www.rfc-editor.org/rfc/rfc7231#section-6.4.7).\n\n    @default false\n    */\n    get methodRewriting() {\n        return this._internals.methodRewriting;\n    }\n    set methodRewriting(value) {\n        assert.boolean(value);\n        this._internals.methodRewriting = value;\n    }\n    /**\n    Indicates which DNS record family to use.\n\n    Values:\n    - `undefined`: IPv4 (if present) or IPv6\n    - `4`: Only IPv4\n    - `6`: Only IPv6\n\n    @default undefined\n    */\n    get dnsLookupIpVersion() {\n        return this._internals.dnsLookupIpVersion;\n    }\n    set dnsLookupIpVersion(value) {\n        if (value !== undefined && value !== 4 && value !== 6) {\n            throw new TypeError(`Invalid DNS lookup IP version: ${value}`);\n        }\n        this._internals.dnsLookupIpVersion = value;\n    }\n    /**\n    A function used to parse JSON responses.\n\n    @example\n    ```\n    import got from 'got';\n    import Bourne from '@hapi/bourne';\n\n    const parsed = await got('https://example.com', {\n        parseJson: text => Bourne.parse(text)\n    }).json();\n\n    console.log(parsed);\n    ```\n    */\n    get parseJson() {\n        return this._internals.parseJson;\n    }\n    set parseJson(value) {\n        assert.function_(value);\n        this._internals.parseJson = value;\n    }\n    /**\n    A function used to stringify the body of JSON requests.\n\n    @example\n    ```\n    import got from 'got';\n\n    await got.post('https://example.com', {\n        stringifyJson: object => JSON.stringify(object, (key, value) => {\n            if (key.startsWith('_')) {\n                return;\n            }\n\n            return value;\n        }),\n        json: {\n            some: 'payload',\n            _ignoreMe: 1234\n        }\n    });\n    ```\n\n    @example\n    ```\n    import got from 'got';\n\n    await got.post('https://example.com', {\n        stringifyJson: object => JSON.stringify(object, (key, value) => {\n            if (typeof value === 'number') {\n                return value.toString();\n            }\n\n            return value;\n        }),\n        json: {\n            some: 'payload',\n            number: 1\n        }\n    });\n    ```\n    */\n    get stringifyJson() {\n        return this._internals.stringifyJson;\n    }\n    set stringifyJson(value) {\n        assert.function_(value);\n        this._internals.stringifyJson = value;\n    }\n    /**\n    An object representing `limit`, `calculateDelay`, `methods`, `statusCodes`, `maxRetryAfter` and `errorCodes` fields for maximum retry count, retry handler, allowed methods, allowed status codes, maximum [`Retry-After`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After) time and allowed error codes.\n\n    Delays between retries counts with function `1000 * Math.pow(2, retry) + Math.random() * 100`, where `retry` is attempt number (starts from 1).\n\n    The `calculateDelay` property is a `function` that receives an object with `attemptCount`, `retryOptions`, `error` and `computedValue` properties for current retry count, the retry options, error and default computed value.\n    The function must return a delay in milliseconds (or a Promise resolving with it) (`0` return value cancels retry).\n\n    By default, it retries *only* on the specified methods, status codes, and on these network errors:\n\n    - `ETIMEDOUT`: One of the [timeout](#timeout) limits were reached.\n    - `ECONNRESET`: Connection was forcibly closed by a peer.\n    - `EADDRINUSE`: Could not bind to any free port.\n    - `ECONNREFUSED`: Connection was refused by the server.\n    - `EPIPE`: The remote side of the stream being written has been closed.\n    - `ENOTFOUND`: Couldn't resolve the hostname to an IP address.\n    - `ENETUNREACH`: No internet connection.\n    - `EAI_AGAIN`: DNS lookup timed out.\n\n    __Note__: If `maxRetryAfter` is set to `undefined`, it will use `options.timeout`.\n    __Note__: If [`Retry-After`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After) header is greater than `maxRetryAfter`, it will cancel the request.\n    */\n    get retry() {\n        return this._internals.retry;\n    }\n    set retry(value) {\n        assert.plainObject(value);\n        assert.any([is.function_, is.undefined], value.calculateDelay);\n        assert.any([is.number, is.undefined], value.maxRetryAfter);\n        assert.any([is.number, is.undefined], value.limit);\n        assert.any([is.array, is.undefined], value.methods);\n        assert.any([is.array, is.undefined], value.statusCodes);\n        assert.any([is.array, is.undefined], value.errorCodes);\n        assert.any([is.number, is.undefined], value.noise);\n        if (value.noise && Math.abs(value.noise) > 100) {\n            throw new Error(`The maximum acceptable retry noise is +/- 100ms, got ${value.noise}`);\n        }\n        for (const key in value) {\n            if (!(key in this._internals.retry)) {\n                throw new Error(`Unexpected retry option: ${key}`);\n            }\n        }\n        if (this._merging) {\n            Object.assign(this._internals.retry, value);\n        }\n        else {\n            this._internals.retry = { ...value };\n        }\n        const { retry } = this._internals;\n        retry.methods = [...new Set(retry.methods.map(method => method.toUpperCase()))];\n        retry.statusCodes = [...new Set(retry.statusCodes)];\n        retry.errorCodes = [...new Set(retry.errorCodes)];\n    }\n    /**\n    From `http.RequestOptions`.\n\n    The IP address used to send the request from.\n    */\n    get localAddress() {\n        return this._internals.localAddress;\n    }\n    set localAddress(value) {\n        assert.any([is.string, is.undefined], value);\n        this._internals.localAddress = value;\n    }\n    /**\n    The HTTP method used to make the request.\n\n    @default 'GET'\n    */\n    get method() {\n        return this._internals.method;\n    }\n    set method(value) {\n        assert.string(value);\n        this._internals.method = value.toUpperCase();\n    }\n    get createConnection() {\n        return this._internals.createConnection;\n    }\n    set createConnection(value) {\n        assert.any([is.function_, is.undefined], value);\n        this._internals.createConnection = value;\n    }\n    /**\n    From `http-cache-semantics`\n\n    @default {}\n    */\n    get cacheOptions() {\n        return this._internals.cacheOptions;\n    }\n    set cacheOptions(value) {\n        assert.plainObject(value);\n        assert.any([is.boolean, is.undefined], value.shared);\n        assert.any([is.number, is.undefined], value.cacheHeuristic);\n        assert.any([is.number, is.undefined], value.immutableMinTimeToLive);\n        assert.any([is.boolean, is.undefined], value.ignoreCargoCult);\n        for (const key in value) {\n            if (!(key in this._internals.cacheOptions)) {\n                throw new Error(`Cache option \\`${key}\\` does not exist`);\n            }\n        }\n        if (this._merging) {\n            Object.assign(this._internals.cacheOptions, value);\n        }\n        else {\n            this._internals.cacheOptions = { ...value };\n        }\n    }\n    /**\n    Options for the advanced HTTPS API.\n    */\n    get https() {\n        return this._internals.https;\n    }\n    set https(value) {\n        assert.plainObject(value);\n        assert.any([is.boolean, is.undefined], value.rejectUnauthorized);\n        assert.any([is.function_, is.undefined], value.checkServerIdentity);\n        assert.any([is.string, is.object, is.array, is.undefined], value.certificateAuthority);\n        assert.any([is.string, is.object, is.array, is.undefined], value.key);\n        assert.any([is.string, is.object, is.array, is.undefined], value.certificate);\n        assert.any([is.string, is.undefined], value.passphrase);\n        assert.any([is.string, is.buffer, is.array, is.undefined], value.pfx);\n        assert.any([is.array, is.undefined], value.alpnProtocols);\n        assert.any([is.string, is.undefined], value.ciphers);\n        assert.any([is.string, is.buffer, is.undefined], value.dhparam);\n        assert.any([is.string, is.undefined], value.signatureAlgorithms);\n        assert.any([is.string, is.undefined], value.minVersion);\n        assert.any([is.string, is.undefined], value.maxVersion);\n        assert.any([is.boolean, is.undefined], value.honorCipherOrder);\n        assert.any([is.number, is.undefined], value.tlsSessionLifetime);\n        assert.any([is.string, is.undefined], value.ecdhCurve);\n        assert.any([is.string, is.buffer, is.array, is.undefined], value.certificateRevocationLists);\n        for (const key in value) {\n            if (!(key in this._internals.https)) {\n                throw new Error(`HTTPS option \\`${key}\\` does not exist`);\n            }\n        }\n        if (this._merging) {\n            Object.assign(this._internals.https, value);\n        }\n        else {\n            this._internals.https = { ...value };\n        }\n    }\n    /**\n    [Encoding](https://nodejs.org/api/buffer.html#buffer_buffers_and_character_encodings) to be used on `setEncoding` of the response data.\n\n    To get a [`Buffer`](https://nodejs.org/api/buffer.html), you need to set `responseType` to `buffer` instead.\n    Don't set this option to `null`.\n\n    __Note__: This doesn't affect streams! Instead, you need to do `got.stream(...).setEncoding(encoding)`.\n\n    @default 'utf-8'\n    */\n    get encoding() {\n        return this._internals.encoding;\n    }\n    set encoding(value) {\n        if (value === null) {\n            throw new TypeError('To get a Buffer, set `options.responseType` to `buffer` instead');\n        }\n        assert.any([is.string, is.undefined], value);\n        this._internals.encoding = value;\n    }\n    /**\n    When set to `true` the promise will return the Response body instead of the Response object.\n\n    @default false\n    */\n    get resolveBodyOnly() {\n        return this._internals.resolveBodyOnly;\n    }\n    set resolveBodyOnly(value) {\n        assert.boolean(value);\n        this._internals.resolveBodyOnly = value;\n    }\n    /**\n    Returns a `Stream` instead of a `Promise`.\n    This is equivalent to calling `got.stream(url, options?)`.\n\n    @default false\n    */\n    get isStream() {\n        return this._internals.isStream;\n    }\n    set isStream(value) {\n        assert.boolean(value);\n        this._internals.isStream = value;\n    }\n    /**\n    The parsing method.\n\n    The promise also has `.text()`, `.json()` and `.buffer()` methods which return another Got promise for the parsed body.\n\n    It's like setting the options to `{responseType: 'json', resolveBodyOnly: true}` but without affecting the main Got promise.\n\n    __Note__: When using streams, this option is ignored.\n\n    @example\n    ```\n    const responsePromise = got(url);\n    const bufferPromise = responsePromise.buffer();\n    const jsonPromise = responsePromise.json();\n\n    const [response, buffer, json] = Promise.all([responsePromise, bufferPromise, jsonPromise]);\n    // `response` is an instance of Got Response\n    // `buffer` is an instance of Buffer\n    // `json` is an object\n    ```\n\n    @example\n    ```\n    // This\n    const body = await got(url).json();\n\n    // is semantically the same as this\n    const body = await got(url, {responseType: 'json', resolveBodyOnly: true});\n    ```\n    */\n    get responseType() {\n        return this._internals.responseType;\n    }\n    set responseType(value) {\n        if (value === undefined) {\n            this._internals.responseType = 'text';\n            return;\n        }\n        if (value !== 'text' && value !== 'buffer' && value !== 'json') {\n            throw new Error(`Invalid \\`responseType\\` option: ${value}`);\n        }\n        this._internals.responseType = value;\n    }\n    get pagination() {\n        return this._internals.pagination;\n    }\n    set pagination(value) {\n        assert.object(value);\n        if (this._merging) {\n            Object.assign(this._internals.pagination, value);\n        }\n        else {\n            this._internals.pagination = value;\n        }\n    }\n    get auth() {\n        throw new Error('Parameter `auth` is deprecated. Use `username` / `password` instead.');\n    }\n    set auth(_value) {\n        throw new Error('Parameter `auth` is deprecated. Use `username` / `password` instead.');\n    }\n    get setHost() {\n        return this._internals.setHost;\n    }\n    set setHost(value) {\n        assert.boolean(value);\n        this._internals.setHost = value;\n    }\n    get maxHeaderSize() {\n        return this._internals.maxHeaderSize;\n    }\n    set maxHeaderSize(value) {\n        assert.any([is.number, is.undefined], value);\n        this._internals.maxHeaderSize = value;\n    }\n    get enableUnixSockets() {\n        return this._internals.enableUnixSockets;\n    }\n    set enableUnixSockets(value) {\n        assert.boolean(value);\n        this._internals.enableUnixSockets = value;\n    }\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    toJSON() {\n        return { ...this._internals };\n    }\n    [Symbol.for('nodejs.util.inspect.custom')](_depth, options) {\n        return inspect(this._internals, options);\n    }\n    createNativeRequestOptions() {\n        const internals = this._internals;\n        const url = internals.url;\n        let agent;\n        if (url.protocol === 'https:') {\n            agent = internals.http2 ? internals.agent : internals.agent.https;\n        }\n        else {\n            agent = internals.agent.http;\n        }\n        const { https } = internals;\n        let { pfx } = https;\n        if (is.array(pfx) && is.plainObject(pfx[0])) {\n            pfx = pfx.map(object => ({\n                buf: object.buffer,\n                passphrase: object.passphrase,\n            }));\n        }\n        return {\n            ...internals.cacheOptions,\n            ...this._unixOptions,\n            // HTTPS options\n            // eslint-disable-next-line @typescript-eslint/naming-convention\n            ALPNProtocols: https.alpnProtocols,\n            ca: https.certificateAuthority,\n            cert: https.certificate,\n            key: https.key,\n            passphrase: https.passphrase,\n            pfx: https.pfx,\n            rejectUnauthorized: https.rejectUnauthorized,\n            checkServerIdentity: https.checkServerIdentity ?? checkServerIdentity,\n            ciphers: https.ciphers,\n            honorCipherOrder: https.honorCipherOrder,\n            minVersion: https.minVersion,\n            maxVersion: https.maxVersion,\n            sigalgs: https.signatureAlgorithms,\n            sessionTimeout: https.tlsSessionLifetime,\n            dhparam: https.dhparam,\n            ecdhCurve: https.ecdhCurve,\n            crl: https.certificateRevocationLists,\n            // HTTP options\n            lookup: internals.dnsLookup ?? internals.dnsCache?.lookup,\n            family: internals.dnsLookupIpVersion,\n            agent,\n            setHost: internals.setHost,\n            method: internals.method,\n            maxHeaderSize: internals.maxHeaderSize,\n            localAddress: internals.localAddress,\n            headers: internals.headers,\n            createConnection: internals.createConnection,\n            timeout: internals.http2 ? getHttp2TimeoutOption(internals) : undefined,\n            // HTTP/2 options\n            h2session: internals.h2session,\n        };\n    }\n    getRequestFunction() {\n        const url = this._internals.url;\n        const { request } = this._internals;\n        if (!request && url) {\n            return this.getFallbackRequestFunction();\n        }\n        return request;\n    }\n    getFallbackRequestFunction() {\n        const url = this._internals.url;\n        if (!url) {\n            return;\n        }\n        if (url.protocol === 'https:') {\n            if (this._internals.http2) {\n                if (major < 15 || (major === 15 && minor < 10)) {\n                    const error = new Error('To use the `http2` option, install Node.js 15.10.0 or above');\n                    error.code = 'EUNSUPPORTED';\n                    throw error;\n                }\n                return http2wrapper.auto;\n            }\n            return https.request;\n        }\n        return http.request;\n    }\n    freeze() {\n        const options = this._internals;\n        Object.freeze(options);\n        Object.freeze(options.hooks);\n        Object.freeze(options.hooks.afterResponse);\n        Object.freeze(options.hooks.beforeError);\n        Object.freeze(options.hooks.beforeRedirect);\n        Object.freeze(options.hooks.beforeRequest);\n        Object.freeze(options.hooks.beforeRetry);\n        Object.freeze(options.hooks.init);\n        Object.freeze(options.https);\n        Object.freeze(options.cacheOptions);\n        Object.freeze(options.agent);\n        Object.freeze(options.headers);\n        Object.freeze(options.timeout);\n        Object.freeze(options.retry);\n        Object.freeze(options.retry.errorCodes);\n        Object.freeze(options.retry.methods);\n        Object.freeze(options.retry.statusCodes);\n    }\n}\n", "import {\n\tV4MAPPED,\n\tADDRCONFIG,\n\tALL,\n\tpromises as dnsPromises,\n\tlookup as dnsLookup\n} from 'node:dns';\nimport {promisify} from 'node:util';\nimport os from 'node:os';\n\nconst {Resolver: AsyncResolver} = dnsPromises;\n\nconst kCacheableLookupCreateConnection = Symbol('cacheableLookupCreateConnection');\nconst kCacheableLookupInstance = Symbol('cacheableLookupInstance');\nconst kExpires = Symbol('expires');\n\nconst supportsALL = typeof ALL === 'number';\n\nconst verifyAgent = agent => {\n\tif (!(agent && typeof agent.createConnection === 'function')) {\n\t\tthrow new Error('Expected an Agent instance as the first argument');\n\t}\n};\n\nconst map4to6 = entries => {\n\tfor (const entry of entries) {\n\t\tif (entry.family === 6) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tentry.address = `::ffff:${entry.address}`;\n\t\tentry.family = 6;\n\t}\n};\n\nconst getIfaceInfo = () => {\n\tlet has4 = false;\n\tlet has6 = false;\n\n\tfor (const device of Object.values(os.networkInterfaces())) {\n\t\tfor (const iface of device) {\n\t\t\tif (iface.internal) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (iface.family === 'IPv6') {\n\t\t\t\thas6 = true;\n\t\t\t} else {\n\t\t\t\thas4 = true;\n\t\t\t}\n\n\t\t\tif (has4 && has6) {\n\t\t\t\treturn {has4, has6};\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {has4, has6};\n};\n\nconst isIterable = map => {\n\treturn Symbol.iterator in map;\n};\n\nconst ignoreNoResultErrors = dnsPromise => {\n\treturn dnsPromise.catch(error => {\n\t\tif (\n\t\t\terror.code === 'ENODATA' ||\n\t\t\terror.code === 'ENOTFOUND' ||\n\t\t\terror.code === 'ENOENT' // Windows: name exists, but not this record type\n\t\t) {\n\t\t\treturn [];\n\t\t}\n\n\t\tthrow error;\n\t});\n};\n\nconst ttl = {ttl: true};\nconst all = {all: true};\nconst all4 = {all: true, family: 4};\nconst all6 = {all: true, family: 6};\n\nexport default class CacheableLookup {\n\tconstructor({\n\t\tcache = new Map(),\n\t\tmaxTtl = Infinity,\n\t\tfallbackDuration = 3600,\n\t\terrorTtl = 0.15,\n\t\tresolver = new AsyncResolver(),\n\t\tlookup = dnsLookup\n\t} = {}) {\n\t\tthis.maxTtl = maxTtl;\n\t\tthis.errorTtl = errorTtl;\n\n\t\tthis._cache = cache;\n\t\tthis._resolver = resolver;\n\t\tthis._dnsLookup = lookup && promisify(lookup);\n\t\tthis.stats = {\n\t\t\tcache: 0,\n\t\t\tquery: 0\n\t\t};\n\n\t\tif (this._resolver instanceof AsyncResolver) {\n\t\t\tthis._resolve4 = this._resolver.resolve4.bind(this._resolver);\n\t\t\tthis._resolve6 = this._resolver.resolve6.bind(this._resolver);\n\t\t} else {\n\t\t\tthis._resolve4 = promisify(this._resolver.resolve4.bind(this._resolver));\n\t\t\tthis._resolve6 = promisify(this._resolver.resolve6.bind(this._resolver));\n\t\t}\n\n\t\tthis._iface = getIfaceInfo();\n\n\t\tthis._pending = {};\n\t\tthis._nextRemovalTime = false;\n\t\tthis._hostnamesToFallback = new Set();\n\n\t\tthis.fallbackDuration = fallbackDuration;\n\n\t\tif (fallbackDuration > 0) {\n\t\t\tconst interval = setInterval(() => {\n\t\t\t\tthis._hostnamesToFallback.clear();\n\t\t\t}, fallbackDuration * 1000);\n\n\t\t\t/* istanbul ignore next: There is no `interval.unref()` when running inside an Electron renderer */\n\t\t\tif (interval.unref) {\n\t\t\t\tinterval.unref();\n\t\t\t}\n\n\t\t\tthis._fallbackInterval = interval;\n\t\t}\n\n\t\tthis.lookup = this.lookup.bind(this);\n\t\tthis.lookupAsync = this.lookupAsync.bind(this);\n\t}\n\n\tset servers(servers) {\n\t\tthis.clear();\n\n\t\tthis._resolver.setServers(servers);\n\t}\n\n\tget servers() {\n\t\treturn this._resolver.getServers();\n\t}\n\n\tlookup(hostname, options, callback) {\n\t\tif (typeof options === 'function') {\n\t\t\tcallback = options;\n\t\t\toptions = {};\n\t\t} else if (typeof options === 'number') {\n\t\t\toptions = {\n\t\t\t\tfamily: options\n\t\t\t};\n\t\t}\n\n\t\tif (!callback) {\n\t\t\tthrow new Error('Callback must be a function.');\n\t\t}\n\n\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\tthis.lookupAsync(hostname, options).then(result => {\n\t\t\tif (options.all) {\n\t\t\t\tcallback(null, result);\n\t\t\t} else {\n\t\t\t\tcallback(null, result.address, result.family, result.expires, result.ttl, result.source);\n\t\t\t}\n\t\t}, callback);\n\t}\n\n\tasync lookupAsync(hostname, options = {}) {\n\t\tif (typeof options === 'number') {\n\t\t\toptions = {\n\t\t\t\tfamily: options\n\t\t\t};\n\t\t}\n\n\t\tlet cached = await this.query(hostname);\n\n\t\tif (options.family === 6) {\n\t\t\tconst filtered = cached.filter(entry => entry.family === 6);\n\n\t\t\tif (options.hints & V4MAPPED) {\n\t\t\t\tif ((supportsALL && options.hints & ALL) || filtered.length === 0) {\n\t\t\t\t\tmap4to6(cached);\n\t\t\t\t} else {\n\t\t\t\t\tcached = filtered;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcached = filtered;\n\t\t\t}\n\t\t} else if (options.family === 4) {\n\t\t\tcached = cached.filter(entry => entry.family === 4);\n\t\t}\n\n\t\tif (options.hints & ADDRCONFIG) {\n\t\t\tconst {_iface} = this;\n\t\t\tcached = cached.filter(entry => entry.family === 6 ? _iface.has6 : _iface.has4);\n\t\t}\n\n\t\tif (cached.length === 0) {\n\t\t\tconst error = new Error(`cacheableLookup ENOTFOUND ${hostname}`);\n\t\t\terror.code = 'ENOTFOUND';\n\t\t\terror.hostname = hostname;\n\n\t\t\tthrow error;\n\t\t}\n\n\t\tif (options.all) {\n\t\t\treturn cached;\n\t\t}\n\n\t\treturn cached[0];\n\t}\n\n\tasync query(hostname) {\n\t\tlet source = 'cache';\n\t\tlet cached = await this._cache.get(hostname);\n\n\t\tif (cached) {\n\t\t\tthis.stats.cache++;\n\t\t}\n\n\t\tif (!cached) {\n\t\t\tconst pending = this._pending[hostname];\n\t\t\tif (pending) {\n\t\t\t\tthis.stats.cache++;\n\t\t\t\tcached = await pending;\n\t\t\t} else {\n\t\t\t\tsource = 'query';\n\t\t\t\tconst newPromise = this.queryAndCache(hostname);\n\t\t\t\tthis._pending[hostname] = newPromise;\n\t\t\t\tthis.stats.query++;\n\t\t\t\ttry {\n\t\t\t\t\tcached = await newPromise;\n\t\t\t\t} finally {\n\t\t\t\t\tdelete this._pending[hostname];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcached = cached.map(entry => {\n\t\t\treturn {...entry, source};\n\t\t});\n\n\t\treturn cached;\n\t}\n\n\tasync _resolve(hostname) {\n\t\t// ANY is unsafe as it doesn't trigger new queries in the underlying server.\n\t\tconst [A, AAAA] = await Promise.all([\n\t\t\tignoreNoResultErrors(this._resolve4(hostname, ttl)),\n\t\t\tignoreNoResultErrors(this._resolve6(hostname, ttl))\n\t\t]);\n\n\t\tlet aTtl = 0;\n\t\tlet aaaaTtl = 0;\n\t\tlet cacheTtl = 0;\n\n\t\tconst now = Date.now();\n\n\t\tfor (const entry of A) {\n\t\t\tentry.family = 4;\n\t\t\tentry.expires = now + (entry.ttl * 1000);\n\n\t\t\taTtl = Math.max(aTtl, entry.ttl);\n\t\t}\n\n\t\tfor (const entry of AAAA) {\n\t\t\tentry.family = 6;\n\t\t\tentry.expires = now + (entry.ttl * 1000);\n\n\t\t\taaaaTtl = Math.max(aaaaTtl, entry.ttl);\n\t\t}\n\n\t\tif (A.length > 0) {\n\t\t\tif (AAAA.length > 0) {\n\t\t\t\tcacheTtl = Math.min(aTtl, aaaaTtl);\n\t\t\t} else {\n\t\t\t\tcacheTtl = aTtl;\n\t\t\t}\n\t\t} else {\n\t\t\tcacheTtl = aaaaTtl;\n\t\t}\n\n\t\treturn {\n\t\t\tentries: [\n\t\t\t\t...A,\n\t\t\t\t...AAAA\n\t\t\t],\n\t\t\tcacheTtl\n\t\t};\n\t}\n\n\tasync _lookup(hostname) {\n\t\ttry {\n\t\t\tconst [A, AAAA] = await Promise.all([\n\t\t\t\t// Passing {all: true} doesn't return all IPv4 and IPv6 entries.\n\t\t\t\t// See https://github.com/szmarczak/cacheable-lookup/issues/42\n\t\t\t\tignoreNoResultErrors(this._dnsLookup(hostname, all4)),\n\t\t\t\tignoreNoResultErrors(this._dnsLookup(hostname, all6))\n\t\t\t]);\n\n\t\t\treturn {\n\t\t\t\tentries: [\n\t\t\t\t\t...A,\n\t\t\t\t\t...AAAA\n\t\t\t\t],\n\t\t\t\tcacheTtl: 0\n\t\t\t};\n\t\t} catch {\n\t\t\treturn {\n\t\t\t\tentries: [],\n\t\t\t\tcacheTtl: 0\n\t\t\t};\n\t\t}\n\t}\n\n\tasync _set(hostname, data, cacheTtl) {\n\t\tif (this.maxTtl > 0 && cacheTtl > 0) {\n\t\t\tcacheTtl = Math.min(cacheTtl, this.maxTtl) * 1000;\n\t\t\tdata[kExpires] = Date.now() + cacheTtl;\n\n\t\t\ttry {\n\t\t\t\tawait this._cache.set(hostname, data, cacheTtl);\n\t\t\t} catch (error) {\n\t\t\t\tthis.lookupAsync = async () => {\n\t\t\t\t\tconst cacheError = new Error('Cache Error. Please recreate the CacheableLookup instance.');\n\t\t\t\t\tcacheError.cause = error;\n\n\t\t\t\t\tthrow cacheError;\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (isIterable(this._cache)) {\n\t\t\t\tthis._tick(cacheTtl);\n\t\t\t}\n\t\t}\n\t}\n\n\tasync queryAndCache(hostname) {\n\t\tif (this._hostnamesToFallback.has(hostname)) {\n\t\t\treturn this._dnsLookup(hostname, all);\n\t\t}\n\n\t\tlet query = await this._resolve(hostname);\n\n\t\tif (query.entries.length === 0 && this._dnsLookup) {\n\t\t\tquery = await this._lookup(hostname);\n\n\t\t\tif (query.entries.length !== 0 && this.fallbackDuration > 0) {\n\t\t\t\t// Use `dns.lookup(...)` for that particular hostname\n\t\t\t\tthis._hostnamesToFallback.add(hostname);\n\t\t\t}\n\t\t}\n\n\t\tconst cacheTtl = query.entries.length === 0 ? this.errorTtl : query.cacheTtl;\n\t\tawait this._set(hostname, query.entries, cacheTtl);\n\n\t\treturn query.entries;\n\t}\n\n\t_tick(ms) {\n\t\tconst nextRemovalTime = this._nextRemovalTime;\n\n\t\tif (!nextRemovalTime || ms < nextRemovalTime) {\n\t\t\tclearTimeout(this._removalTimeout);\n\n\t\t\tthis._nextRemovalTime = ms;\n\n\t\t\tthis._removalTimeout = setTimeout(() => {\n\t\t\t\tthis._nextRemovalTime = false;\n\n\t\t\t\tlet nextExpiry = Infinity;\n\n\t\t\t\tconst now = Date.now();\n\n\t\t\t\tfor (const [hostname, entries] of this._cache) {\n\t\t\t\t\tconst expires = entries[kExpires];\n\n\t\t\t\t\tif (now >= expires) {\n\t\t\t\t\t\tthis._cache.delete(hostname);\n\t\t\t\t\t} else if (expires < nextExpiry) {\n\t\t\t\t\t\tnextExpiry = expires;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (nextExpiry !== Infinity) {\n\t\t\t\t\tthis._tick(nextExpiry - now);\n\t\t\t\t}\n\t\t\t}, ms);\n\n\t\t\t/* istanbul ignore next: There is no `timeout.unref()` when running inside an Electron renderer */\n\t\t\tif (this._removalTimeout.unref) {\n\t\t\t\tthis._removalTimeout.unref();\n\t\t\t}\n\t\t}\n\t}\n\n\tinstall(agent) {\n\t\tverifyAgent(agent);\n\n\t\tif (kCacheableLookupCreateConnection in agent) {\n\t\t\tthrow new Error('CacheableLookup has been already installed');\n\t\t}\n\n\t\tagent[kCacheableLookupCreateConnection] = agent.createConnection;\n\t\tagent[kCacheableLookupInstance] = this;\n\n\t\tagent.createConnection = (options, callback) => {\n\t\t\tif (!('lookup' in options)) {\n\t\t\t\toptions.lookup = this.lookup;\n\t\t\t}\n\n\t\t\treturn agent[kCacheableLookupCreateConnection](options, callback);\n\t\t};\n\t}\n\n\tuninstall(agent) {\n\t\tverifyAgent(agent);\n\n\t\tif (agent[kCacheableLookupCreateConnection]) {\n\t\t\tif (agent[kCacheableLookupInstance] !== this) {\n\t\t\t\tthrow new Error('The agent is not owned by this CacheableLookup instance');\n\t\t\t}\n\n\t\t\tagent.createConnection = agent[kCacheableLookupCreateConnection];\n\n\t\t\tdelete agent[kCacheableLookupCreateConnection];\n\t\t\tdelete agent[kCacheableLookupInstance];\n\t\t}\n\t}\n\n\tupdateInterfaceInfo() {\n\t\tconst {_iface} = this;\n\n\t\tthis._iface = getIfaceInfo();\n\n\t\tif ((_iface.has4 && !this._iface.has4) || (_iface.has6 && !this._iface.has6)) {\n\t\t\tthis._cache.clear();\n\t\t}\n\t}\n\n\tclear(hostname) {\n\t\tif (hostname) {\n\t\t\tthis._cache.delete(hostname);\n\t\t\treturn;\n\t\t}\n\n\t\tthis._cache.clear();\n\t}\n}\n", "export default function parseLinkHeader(link) {\n    const parsed = [];\n    const items = link.split(',');\n    for (const item of items) {\n        // https://tools.ietf.org/html/rfc5988#section-5\n        const [rawUriReference, ...rawLinkParameters] = item.split(';');\n        const trimmedUriReference = rawUriReference.trim();\n        // eslint-disable-next-line @typescript-eslint/prefer-string-starts-ends-with\n        if (trimmedUriReference[0] !== '<' || trimmedUriReference[trimmedUriReference.length - 1] !== '>') {\n            throw new Error(`Invalid format of the Link header reference: ${trimmedUriReference}`);\n        }\n        const reference = trimmedUriReference.slice(1, -1);\n        const parameters = {};\n        if (rawLinkParameters.length === 0) {\n            throw new Error(`Unexpected end of Link header parameters: ${rawLinkParameters.join(';')}`);\n        }\n        for (const rawParameter of rawLinkParameters) {\n            const trimmedRawParameter = rawParameter.trim();\n            const center = trimmedRawParameter.indexOf('=');\n            if (center === -1) {\n                throw new Error(`Failed to parse Link header: ${link}`);\n            }\n            const name = trimmedRawParameter.slice(0, center).trim();\n            const value = trimmedRawParameter.slice(center + 1).trim();\n            parameters[name] = value;\n        }\n        parsed.push({\n            reference,\n            parameters,\n        });\n    }\n    return parsed;\n}\n", "import { RequestError } from './errors.js';\nexport const isResponseOk = (response) => {\n    const { statusCode } = response;\n    const limitStatusCode = response.request.options.followRedirect ? 299 : 399;\n    return (statusCode >= 200 && statusCode <= limitStatusCode) || statusCode === 304;\n};\n/**\nAn error to be thrown when server response code is 2xx, and parsing body fails.\nIncludes a `response` property.\n*/\nexport class ParseError extends RequestError {\n    constructor(error, response) {\n        const { options } = response.request;\n        super(`${error.message} in \"${options.url.toString()}\"`, error, response.request);\n        this.name = 'ParseError';\n        this.code = 'ERR_BODY_PARSE_FAILURE';\n    }\n}\nexport const parseBody = (response, responseType, parseJson, encoding) => {\n    const { rawBody } = response;\n    try {\n        if (responseType === 'text') {\n            return rawBody.toString(encoding);\n        }\n        if (responseType === 'json') {\n            return rawBody.length === 0 ? '' : parseJson(rawBody.toString(encoding));\n        }\n        if (responseType === 'buffer') {\n            return rawBody;\n        }\n    }\n    catch (error) {\n        throw new ParseError(error, response);\n    }\n    throw new ParseError({\n        message: `Unknown body type '${responseType}'`,\n        name: 'Error',\n    }, response);\n};\n", "function isClientRequest(clientRequest) {\n    return clientRequest.writable && !clientRequest.writableEnded;\n}\nexport default isClientRequest;\n", "// eslint-disable-next-line @typescript-eslint/naming-convention\nexport default function isUnixSocketURL(url) {\n    return url.protocol === 'unix:' || url.hostname === 'unix';\n}\n", "import { RequestError } from '../core/errors.js';\n/**\nAn error to be thrown when the request is aborted with `.cancel()`.\n*/\nexport class CancelError extends RequestError {\n    constructor(request) {\n        super('Promise was canceled', {}, request);\n        this.name = 'CancelError';\n        this.code = 'ERR_CANCELED';\n    }\n    /**\n    Whether the promise is canceled.\n    */\n    get isCanceled() {\n        return true;\n    }\n}\n", "import rc from 'rc';\n\nexport default function registryUrl(scope) {\n\tconst result = rc('npm', {registry: 'https://registry.npmjs.org/'});\n\tconst url = result[`${scope}:registry`] || result.config_registry || result.registry;\n\treturn url.slice(-1) === '/' ? url : `${url}/`;\n}\n"],
  "mappings": "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",
  "names": ["getProperty", "UsedValueState", "Type", "DataType", "types", "_a", "types", "path", "http", "https", "Ajv", "hasProperty", "DiscrError", "Ajv", "fs", "deferToConnect", "EventEmitter", "Keyv", "key", "ttl", "value", "keyPrefixed", "knownProperties", "mimicResponse", "key", "value", "stream", "URL", "EventEmitter", "http2", "socket", "origin", "listeners", "index", "stream", "entries", "require_errors", "stream", "URL", "http2", "proxyEvents", "stream", "assert", "idx", "URL", "http", "https", "cache", "queue", "path", "stream", "types", "URL", "http", "https", "stream", "headers", "stream", "stream", "http", "https", "getStream", "require_source", "http2", "p", "_", "__", "require_utils", "fs", "path", "file", "env", "find", "rel", "key", "aliases", "defaults", "arg", "value", "i", "defaults", "fs", "path", "err", "err2", "er", "er2", "fs", "path", "fs", "noop", "queue", "readFile", "path", "options", "cb", "writeFile", "data", "src", "dest", "flags", "mode", "path", "fs", "http", "find", "rel", "env", "escape", "require_util", "fs", "path", "types", "isString", "name", "dirname", "require_types", "path", "semver", "fs", "path", "Conf", "types", "require_defaults", "os", "path", "defaults", "path", "Conf", "types", "defaults", "path", "process", "Buffer", "fs", "path", "path", "path", "process", "delay", "process", "process", "IS_USER_ROOT", "process", "process", "process", "path", "AjvModule", "ajvFormatsModule", "path", "key", "value", "fs", "Buffer", "process", "semver", "assert", "dist_default", "EventEmitter", "dist_default", "AbortError", "process", "Buffer", "URL", "URLSearchParams", "http", "deferToConnect", "EventEmitter", "crypto", "RequestError", "CacheError", "key", "EventEmitter", "crypto", "CachePolicy", "getStream", "ttl", "CacheError", "RequestError", "Keyv", "dist_default", "import_get_stream", "isFunction", "isFunction", "getProperty", "isFunction", "isFunction", "__classPrivateFieldSet", "__classPrivateFieldGet", "Buffer", "promisify", "isFormData", "dist_default", "dist_default", "Buffer", "isFormData", "promisify", "TimeoutError", "delay", "dist_default", "process", "promisify", "URL", "promisify", "os", "entries", "process", "assert", "dist_default", "URL", "delay", "defaults", "init", "path", "promisify", "value", "https", "http2wrapper", "getStream", "dist_default", "process", "noop", "defaults", "options", "AbortError", "isFormData", "URLSearchParams", "decompressResponse", "http", "Buffer", "URL", "TimeoutError", "handler", "CacheError", "CancelError", "proxiedRequestEvents", "EventEmitter", "CancelError", "dist_default", "dist_default", "defaults", "got", "defaultOptions", "assert", "source_default", "rc", "import_semver", "registryAuthToken", "source_default", "semver", "import_semver", "packageJson", "semverSatisfies", "packageManager"]
}
